<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Japan Azure Identity Support Blog</title>
  
  <subtitle>日本マイクロソフトの Azure Active Directory と AD FS に関するサポート情報のブログです。</subtitle>
  <link href="https://jpazureid.github.io/blog/atom.xml" rel="self"/>
  
  <link href="https://jpazureid.github.io/blog/"/>
  <updated>2025-04-12T15:36:21.348Z</updated>
  <id>https://jpazureid.github.io/blog/</id>
  
  <author>
    <name>Azure Identity Support Japan</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Microsoft Entra の新着情報 – 2025 年 3 月</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/whats-new-in-microsoft-entra-march-2025/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/whats-new-in-microsoft-entra-march-2025/</id>
    <published>2025-04-11T19:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.348Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの高田です。</p><p>本記事は、2025 年 4 月 4 日に米国の Microsoft Entra Blog で公開された <a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/what%E2%80%99s-new-in-microsoft-entra-%E2%80%93-march-2025/4352581">What’s new in Microsoft Entra – March 2025</a> を意訳したものになります。ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><h2 id="Microsoft-Entra-の最新機能と変更のお知らせ"><a href="#Microsoft-Entra-の最新機能と変更のお知らせ" class="headerlink" title="Microsoft Entra の最新機能と変更のお知らせ"></a>Microsoft Entra の最新機能と変更のお知らせ</h2><p>Microsoft は、AI を活用したセキュリティと ID の保護を強化するために、Microsoft Entra に新機能を導入しています。これらのイノベーションは、AI を使用するアプリケーションのセキュリティを保護し、AI を活用してセキュリティ対策を強化するという 2 つの主要な領域に焦点を当てたものです。AI アプリケーションを保護するために、Microsoft Entra Internet Access ではきめ細かな ID ベースのアクセス制御を利用できるようになり、組織はユーザー ロールとリスク レベルに基づいてさまざまな AI アプリ用にポリシーをカスタマイズすることが可能です。さらに、Microsoft Security Copilot における AI 駆動型の機能では、条件付きアクセス ポリシーの最適化と ID ライフサイクル管理の自動化を支援します。これににより運用が簡素化され、進化する脅威に対する防御も強化されます。詳細については、ブログ「<a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/new-innovations-in-microsoft-entra-to-strengthen-ai-security-and-identity-protec/3827393">New innovations in Microsoft Entra to strengthen AI security and identity protection</a>」もぜひご参照ください。</p><p>そして本日は、2024 年 12 月から 2025 年 3 月までの Microsoft Entra 全体でセキュリティの改善とイノベーションを、製品ごとに整理して共有します。</p><h2 id="Microsoft-Entra-ID"><a href="#Microsoft-Entra-ID" class="headerlink" title="Microsoft Entra ID"></a>Microsoft Entra ID</h2><h3 id="新着情報"><a href="#新着情報" class="headerlink" title="新着情報"></a>新着情報</h3><ul><li><a href="https://learn.microsoft.com/ja-jp/entra/identity/authentication/how-to-authentication-methods-manage">認証方法の移行ウィザード</a></li><li><a href="https://jpazureid.github.io/blog/azure-active-directory/microsoft-entra-powershell-module-now-generally-available/">Microsoft Entra PowerShell</a></li><li><a href="https://learn.microsoft.com/ja-jp/entra/fundamentals/whats-new#general-availability---expansion-of-sspr-policy-audit-logging">SSPR ポリシーの監査ログの拡張</a></li><li><a href="https://learn.microsoft.com/ja-jp/graph/profilephoto-configure-settings">MyAccount でプロファイル画像を更新</a></li><li><a href="https://learn.microsoft.com/entra/identity/authentication/howto-authentication-temporary-access-pass">内部ゲスト ユーザー向けの一時アクセス パス (TAP) のサポート</a></li><li><a href="https://learn.microsoft.com/ja-jp/entra/identity/role-based-access-control/protected-actions-overview">完全削除に対する保護</a></li></ul><h3 id="変更のお知らせ"><a href="#変更のお知らせ" class="headerlink" title="変更のお知らせ"></a>変更のお知らせ</h3><h4 id="サービス-プリンシパルなしの-Microsoft-Entra-ID-認証のサポートは-2026-年-3-月に終了します"><a href="#サービス-プリンシパルなしの-Microsoft-Entra-ID-認証のサポートは-2026-年-3-月に終了します" class="headerlink" title="サービス プリンシパルなしの Microsoft Entra ID 認証のサポートは 2026 年 3 月に終了します"></a>サービス プリンシパルなしの Microsoft Entra ID 認証のサポートは 2026 年 3 月に終了します</h4><p>[お客様によっては対応が必要です]</p><p>2026 年 3 月以降、Microsoft Entra ID はサービス プリンシパルなしの認証動作をサポートしなくなります。テナント内でサービス プリンシパルなしの認証要求を行うすべてのアプリケーションが影響を受け、<strong>2026 年 3 月 31 日</strong> までにアクションを実行しない限り、ログイン フローが失敗するようになります。</p><p><strong>必要な対応</strong>: テナント管理者の皆様にて、アプリケーションのアクセスとトークンを確認することで影響の有無を確認いただけます。サインイン ログを使用して、<a href="https://aka.ms/splessauth">サービス プリンシパルなしの認証における軽減策のドキュメント</a> の手順に従い、影響を受けるアプリケーションを特定ください。また、管理者には影響を受けるアプリケーションの名前が一覧された E メールも送信されます。</p><p>すべての独立系ソフトウェア ベンダーにおかれましては、廃止についてお客様に通知するとともに、事前の措置を講じるように通知ください。</p><p><strong>この対応が重要な理由</strong>: この変更は、テナントで利用されているすべてのアプリケーションがサービス プリンシパルと関連付けられるようにすることで、Microsoft Entra ID のセキュリティを強化することを目的としています。</p><p>廃止と対応の詳細については、<a href="http://aka.ms/SPLessAuth">Microsoft Learn のドキュメント</a> を参照ください。</p><h4 id="重要な更新情報-AzureAD-PowerShell-と-MSOnline-PowerShell-の廃止-–-2025-年-3-月"><a href="#重要な更新情報-AzureAD-PowerShell-と-MSOnline-PowerShell-の廃止-–-2025-年-3-月" class="headerlink" title="重要な更新情報: AzureAD PowerShell と MSOnline PowerShell の廃止 – 2025 年 3 月"></a>重要な更新情報: AzureAD PowerShell と MSOnline PowerShell の廃止 – 2025 年 3 月</h4><p>[お客様によっては対応が必要です]</p><p><strong>変更内容</strong></p><p>Microsoft Entra の <a href="https://entra.microsoft.com/#view/Microsoft_AAD_IAM/ChangeManagementHubList.ReactView">変更に関するお知らせ</a> と以前の <a href="https://jpazureid.github.io/blog/azure-active-directory/important-update-deprecation-of-azure-ad-powershell-and-msonline/">ブログの更新</a> でお知らせしたように、MSOnline と Microsoft AzureAD の PowerShell モジュールは 2024 年 3 月 30 日に非推奨になりました。MSOnline PowerShell モジュールの廃止は <strong>2025 年 4 月に開始</strong> されます。この日以降に廃止の影響を受けないようにするには、MSOnline の使用をやめて <a href="https://learn.microsoft.com/ja-jp/powershell/microsoftgraph/installation?view=graph-powershell-1.0">Microsoft Graph PowerShell SDK</a> または <a href="https://learn.microsoft.com/ja-jp/powershell/entra-powershell/installation?view=entra-powershell&tabs=powershell&pivots=windows">Microsoft Entra PowerShell</a> (現在プレビュー段階) に移行する必要があります。</p><p><strong>キー ポイント</strong></p><ul><li>MSOnline PowerShell は、2025 年 4 月上旬から 2025 年 5 月に終了 (および動作を停止) します。</li><li>AzureAD PowerShell は 2025 年 3 月 30 日以降はサポートされなくなりますが、2025 年 7 月 1 日以降に廃止されます。この延期は、MSOnline PowerShell の移行を完了するための時間を十分にお客様に確保いただくためです。</li><li>MSOnline PowerShell の廃止に関してお客様が十分に準備いただけるよう、2025 年 1 月から 3 月の間にすべてのテナントに対して一連の一時的な停止テストが行われました。MSOnline PowerShell の廃止に向けた最終的な準備として、さらに 3 月 10 日から 26 日の間に最大 2 つの一時的な停止テストも行われました。</li></ul><p>新しい <a href="https://learn.microsoft.com/ja-jp/entra/identity/monitoring-health/overview-recommendations">Microsoft Entra の推奨事項</a> である “<strong>使用を中止する MSOnline および AzureAD PowerShell から PowerShell を Microsoft Graph に移行する</strong>“ では、過去 30 日間のテナントでのこれらのレガシーな PowerShell モジュールの使用状況が報告されます。この推奨事項にアクセスするには、Microsoft Entra 管理センターで [ID] &gt; [概要] &gt; [推奨事項] を参照ください。 </p><p><strong>注意</strong>: 以前のバージョンの Microsoft Entra Connect Sync では、ウィザードの実行時に MSOnline PowerShell が使用されます。Microsoft Entra Connect Sync を使用している場合は、2025 年 4 月 7 日より前に最新バージョンにアップグレードください。この日付を過ぎると、Microsoft Entra Connect Sync クライアントが更新されるまで、ウィザードの使用ができなくなります。詳細については以下をご覧ください: <a href="https://learn.microsoft.com/ja-jp/entra/identity/hybrid/connect/harden-update-ad-fs-pingfederate">Microsoft Entra Connect Sync AD FS と PingFederate 構成の更新強化</a></p><div class="alert is-info"><p class="alert-title">Note</p><p>サポート チームによる補足: 最終的にウィザードの使用ができなくなるのは 2025 年 4 月 30 日です。詳細は上記のドキュメントをご覧ください。</p></div><p><strong>次のステップ</strong></p><ul><li>最新のアップデートはこちらでご確認ください: <a href="https://aka.ms/msonlineretirement">https://aka.ms/msonlineretirement</a></li><li>Microsoft Graph への移行に関する参照ドキュメント: <a href="https://learn.microsoft.com/en-us/powershell/microsoftgraph/migration-steps?view=graph-powershell-1.0">Azure AD PowerShell から Microsoft Graph PowerShell への移行</a></li></ul><h4 id="重要な更新情報-Azure-AD-Graph-の廃止-2025-年-3-月"><a href="#重要な更新情報-Azure-AD-Graph-の廃止-2025-年-3-月" class="headerlink" title="重要な更新情報: Azure AD Graph の廃止 - 2025 年 3 月"></a>重要な更新情報: Azure AD Graph の廃止 - 2025 年 3 月</h4><p>[お客様によっては対応が必要です]</p><p><strong>変更内容</strong> </p><p>Azure AD Graph API サービスの廃止は 2024 年 9 月に開始され、この廃止の次のフェーズは 2025 年 2 月 1 日に開始されました。新しいアプリケーションと既存のアプリケーションの両方で、利用延長の措置が構成されていない限り、Azure AD Graph API の呼び出しがブロックされます。アプリケーションに <a href="https://learn.microsoft.com/ja-jp/graph/applications-authenticationbehaviors?tabs=http#allow-extended-azure-ad-graph-access-until-june-30-2025">利用延長の措置を設定</a> すると、アプリは 2025 年 6 月まで Azure AD Graph API を引き続き使用できるようになります。  </p><p>Microsoft Graph は Azure AD Graph API に代わるものであり、Azure AD Graph API を使用している場合はすぐに Microsoft Graph に移行し、Azure AD Graph API を使用したさらなる開発を行わないようにすることを強くお勧めします。 </p><p>Microsoft Entra 管理センターでは推奨事項の機能をご利用いただけます。この機能を利用すると、テナント内で Azure AD Graph API を使用しており、なおかつアクションが必要なアプリケーションを特定いただけます。</p><p>利用延長が設定されたアプリケーションは、できるだけ早く Microsoft Graph に移行する必要があります。Microsoft を含むソフトウェア ベンダーが提供するアプリケーションの場合は、ソフトウェアを新しいバージョンに更新する必要があります。併せてブログ <a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/action-required-azure-ad-graph-api-retirement/4090533">Action required: Azure AD Graph API retirement |Microsoft Community Hub</a> も参照ください。  </p><p><strong>次のステップ</strong></p><ul><li>Azure AD Graph の提供終了に関する最新の更新情報は、<a href="https://aka.ms/AzureADGraphRetirement">https://aka.ms/AzureADGraphRetirement</a> でご覧いただけます。</li><li>Azure AD Graph から Microsoft Graph への移行に関する参照ドキュメント: <a href="https://learn.microsoft.com/ja-jp/graph/migrate-azure-ad-graph-overview">Azure AD Graph から Microsoft Graph にアプリを移行する</a></li></ul><h4 id="サインインを行う際のユーザー-インターフェイスの変更"><a href="#サインインを行う際のユーザー-インターフェイスの変更" class="headerlink" title="サインインを行う際のユーザー インターフェイスの変更"></a>サインインを行う際のユーザー インターフェイスの変更</h4><p>[お客様による対応は不要です]</p><p>Authenticator アプリでの認証の <a href="https://learn.microsoft.com/ja-jp/entra/identity/authentication/concept-authentication-authenticator-app">サインイン ユーザー体験</a> を更新しています。新しいサインイン UX では、”サインイン要求を受信しませんでしたか？下にスワイプしてアプリのコンテンツを更新してください。” という表示が出るようになり、これによりサインイン通知を受け取っていない場合に、Authenticator アプリまたは Outlook アプリで通知を再取得できることがユーザーに提示されます。この変更は 2025 年 4 月までに予定されており、すべてのお客様に自動的にロールアウトされます。この UX の変更について、お客様からのアクションは必要ありません。</p><h2 id="Microsoft-Entra-ID-Protection"><a href="#Microsoft-Entra-ID-Protection" class="headerlink" title="Microsoft Entra ID Protection"></a>Microsoft Entra ID Protection</h2><h3 id="新機能のリリース"><a href="#新機能のリリース" class="headerlink" title="新機能のリリース"></a>新機能のリリース</h3><ul><li><a href="https://learn.microsoft.com/ja-jp/entra/id-protection/overview-identity-protection">Microsoft Entra ID Protection でのリアルタイムでのパスワード スプレーの検出</a></li><li><a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/new-microsoft-managed-policies-to-raise-your-identity-security-posture/4286758">デバイス コードとレガシー認証フローを制限する新しい Microsoft マネージド条件付きアクセス ポリシー</a></li></ul><h2 id="Microsoft-Entra-ID-ガバナンス"><a href="#Microsoft-Entra-ID-ガバナンス" class="headerlink" title="Microsoft Entra ID ガバナンス"></a>Microsoft Entra ID ガバナンス</h2><h3 id="新機能のリリース-1"><a href="#新機能のリリース-1" class="headerlink" title="新機能のリリース"></a>新機能のリリース</h3><ul><li><a href="https://learn.microsoft.com/ja-jp/entra/fundamentals/whats-new#general-availability---granular-microsoft-graph-permissions-for-lifecycle-workflows">ライフサイクル ワークフローにおけるきめ細かい Microsoft Graph アクセス許可</a></li><li><a href="https://learn.microsoft.com/ja-jp/entra/fundamentals/whats-new#general-availability---microsoft-entra-connect-version-241290">Microsoft Entra Connect バージョン 2.4.129.0</a></li><li><a href="https://learn.microsoft.com/ja-jp/entra/fundamentals/whats-new#general-availability---privileged-identity-management-integration-in-azure-role-based-access-control">Azure ロールベースのアクセス制御での Privileged Identity Management の統合</a></li></ul><h3 id="変更のお知らせ-1"><a href="#変更のお知らせ-1" class="headerlink" title="変更のお知らせ"></a>変更のお知らせ</h3><h4 id="Microsoft-Entra-Connect-での証明書ベースの認証"><a href="#Microsoft-Entra-Connect-での証明書ベースの認証" class="headerlink" title="Microsoft Entra Connect での証明書ベースの認証"></a>Microsoft Entra Connect での証明書ベースの認証</h4><p>[お客様によっては対応が必要です]</p><p><strong>変更内容</strong> </p><p>2025 年 4 月には、既存のディレクトリ サービス アカウントでの認証に加えて、Microsoft Entra Connect から Microsoft Entra ID への認証においてアプリケーションベースの認証が導入されます。この仕組みを利用するには、暗号化キーをハードウェアベースのストレージに保存する環境が必要です。これは、<a href="https://learn.microsoft.com/windows/security/hardware-security/tpm/trusted-platform-module-overview">TPM</a> またはハードウェア セキュリティ モジュール (HSM) のいずれかを指します。 </p><p>この認証方法の使用に関心のあるお客様は、まず現在の環境でこのような仕組みを受け入れ可能かを確認し、上記の暗号化キーのストレージのどちらが利用かを検討ください。追加の情報は、2025 年 4 月に新しい Microsoft Entra Connect バージョンがリリースされるときに共有されますのでしばらくお待ちください。</p><h4 id="エンタイトルメント管理における代理-On-Behalf-Of-でのアクセス-パッケージ-ポリシーのライセンス要件"><a href="#エンタイトルメント管理における代理-On-Behalf-Of-でのアクセス-パッケージ-ポリシーのライセンス要件" class="headerlink" title="エンタイトルメント管理における代理 (On-Behalf-Of) でのアクセス パッケージ ポリシーのライセンス要件"></a>エンタイトルメント管理における代理 (On-Behalf-Of) でのアクセス パッケージ ポリシーのライセンス要件</h4><p>[お客様によっては対応が必要です]</p><p>代理 (On-Behalf-Of) ポリシーを含むアクセス パッケージのライセンス要件を更新しています。今後は、代理での要求を許可するアクセス パッケージ ポリシーを構成する際は、適切なライセンスを保持している必要があります。 </p><p>エンタイトルメント管理のアクセス許可を持ち、アクセス パッケージ ポリシーを作成または編集するユーザーが代理 (On-Behalf-Of) 要求を有効にするには、<strong>Microsoft Entra ID Governance</strong> または <strong>Microsoft Entra Suite</strong> ライセンスが必要となります。</p><p>代理 (On-Behalf-Of) ポリシーを持つ既存のアクセス パッケージに変更は加わらず、引き続き機能します。ただし、この機能が一般提供 (GA) に達すると、必要なライセンスがない場合に、新しい代理 (On-Behalf-Of) ポリシーを作成したり有効にしたりすることはできなくなります。</p><p>プレビューのフェーズ以降も代理 (On-Behalf-Of) 機能を引き続き使用するには、組織が <strong>Microsoft Entra ID Governance</strong> または <strong>Microsoft Entra Suite</strong> ライセンスを持っていることを確認ください。GA の日付が近づくにつれ、さらに追加情報を提供する予定です。ライセンスの詳細については、<a href="https://learn.microsoft.com/ja-jp/entra/id-governance/licensing-fundamentals">Microsoft Entra ID Governance ライセンスの基礎</a> を参照ください。</p><h2 id="Microsoft-Entra-External-ID"><a href="#Microsoft-Entra-External-ID" class="headerlink" title="Microsoft Entra External ID"></a>Microsoft Entra External ID</h2><h3 id="新機能のリリース-2"><a href="#新機能のリリース-2" class="headerlink" title="新機能のリリース"></a>新機能のリリース</h3><ul><li><a href="https://learn.microsoft.com/ja-jp/entra/fundamentals/whats-new#general-availability---microsoft-entra-external-id-custom-url-domains">Microsoft Entra 外部 ID カスタム URL ドメイン</a></li></ul><h3 id="変更のお知らせ-2"><a href="#変更のお知らせ-2" class="headerlink" title="変更のお知らせ"></a>変更のお知らせ</h3><h4 id="提供終了のお知らせ-Azure-AD-External-Identities-P2"><a href="#提供終了のお知らせ-Azure-AD-External-Identities-P2" class="headerlink" title="提供終了のお知らせ: Azure AD External Identities P2"></a>提供終了のお知らせ: Azure AD External Identities P2</h4><p>[お客様によっては対応が必要です]</p><p><strong>2026 年 3 月 15 日</strong> に予定されている B2C テナントでの Azure AD External Identities P2 の廃止に備え、2025 年 5 月 1 日より新規のお客様への Azure AD External Identities P2 の販売を停止します。 </p><p><strong>お客様への影響</strong></p><ul><li><strong>2025 年 5 月 1 日 – 新規のお客様への販売終了</strong>: 新規のお客様に対する Identity Protection (Azure AD External Identities P2) の販売が終了します。この日付は、<a href="https://learn.microsoft.com/ja-jp/entra/external-id/customers/faq-customers#whats-happening-to-azure-ad-b2c-and-azure-ad-external-identities">以前に発表された新規のお客様への Azure AD B2C の販売終了</a> に沿うものです。</li><li><strong>2026 年 3 月 15 日 – この日付まで既存の B2C のお客様向けのサービスに変更はありません</strong>: この日付よりも前に移行先を検討される場合は、代替の ID Protection の提供元として以下をご覧ください。</li><li><strong>2026 年 3 月 16 日 – サービスの廃止</strong>: サービスの継続性を確保するために、この日までに Azure AD B2C の ID Protection の代替となる提供元 (以下に列挙) に移行を完了ください。Azure AD B2C の廃止は 2030 年以降に予定されており、ID Protection は従業員テナントで引き続き利用可能であることに注意ください。</li></ul><p><strong>必要なアクション</strong></p><p>弊社ではこれらの変更がお客様の業務に影響を与える可能性があることを理解しており、スムーズな移行を実現することをお約束します。以下に、P2 の代わりに検討できるパートナー企業と移行ガイダンスの詳細なリストを示します。 </p><p><strong>パートナー企業への移行</strong></p><p>B2C テナントにおける Microsoft Entra ID Protection から移行するには、Azure AD B2C と統合している <a href="https://learn.microsoft.com/ja-jp/azure/active-directory-b2c/partner-gallery#identity-verification-and-proofing">以下のパートナー</a> の利用をお勧めします。</p><ul><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory-b2c/partner-deduce">Deduce</a>: アカウントの乗っ取りと登録詐欺の阻止に焦点を当てた ID 検証および証明プロバイダーです。ID 詐欺を防ぎ、信頼できるユーザー体験を提供いただけます。</li><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory-b2c/partner-eid-me?pivots=b2c-custom-policy">eID-Me</a>: カナダ市民向けの ID 検証および分散型デジタル ID ソリューションです。これにより、組織は ID 保証レベル (IAL) 2 および顧客確認 (KYC) の要件を満たすことができます。</li><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory-b2c/partner-experian">Experian</a>: ユーザー属性に基づいてリスク評価を行い、不正行為を防止する ID 検証および証明プロバイダーです。</li><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory-b2c/partner-idology">IDology</a>: ID 検証ソリューション、不正防止ソリューション、コンプライアンス ソリューションなどを備えた ID 検証および証明プロバイダーです。</li><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory-b2c/partner-jumio">Jumio</a>: リアルタイムの自動 ID 検証を可能にし、顧客データを保護する ID 検証サービスです。</li><li><a href="https://learn.microsoft.com/en-us/azure/active-directory-b2c/partner-lexisnexis">LexisNexis</a>: ユーザーの ID を検証し、ユーザーのデバイスに基づいて包括的なリスク評価を提供するプロファイリングおよび ID 検証プロバイダーです。</li><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory-b2c/partner-onfido">Onfido</a>: 企業が Know Your Customer とリアルタイムでの ID 要件を満たすことを可能にする、ドキュメント ID および顔の生体認証検証ソリューションです。</li></ul><p><strong>Azure AD External Identities P1 への切り替え</strong></p><p>B2C テナントで ID Protection を使用する必要がなく、Azure AD External Identities P1 に切り替える場合は、 価格レベルを変更する手順について <a href="https://learn.microsoft.com/ja-jp/azure/active-directory-b2c/billing#change-your-microsoft-entra-pricing-tier">こちらのドキュメント</a> を参照ください。 </p><p><strong>ヘルプとサポート</strong></p><p>追加のサポートが必要な場合は、Microsoft の営業担当者に問い合わせることをお勧めします。その他の質問がある場合は、<a href="https://learn.microsoft.com/ja-jp/azure/azure-portal/supportability/how-to-create-azure-support-request">弊社までお問い合わせ</a> ください。 </p><p>リソースに影響を与える可能性のあるサービスの廃止の詳細については、<a href="https://aka.ms/ServicesRetirementWorkbook">Azure Retirement Workbook</a> をご覧ください。廃止は、発表されてからブックに反映されるまで最大 2 週間かかる場合があることにご注意ください。</p><p>この変更は、<a href="https://learn.microsoft.com/ja-jp/entra/external-id/customers/faq-customers#whats-happening-to-azure-ad-b2c-and-azure-ad-external-identities">公開ドキュメント</a> でも言及されています。2026 年 3 月の廃止および移行オプションの詳細については、今後情報提供が可能となったときに再度共有される予定です。</p><h2 id="Microsoft-Entra-Permissions-Management"><a href="#Microsoft-Entra-Permissions-Management" class="headerlink" title="Microsoft Entra Permissions Management"></a>Microsoft Entra Permissions Management</h2><h3 id="変更のお知らせ-3"><a href="#変更のお知らせ-3" class="headerlink" title="変更のお知らせ"></a>変更のお知らせ</h3><h4 id="廃止のお知らせ-Microsoft-Entra-Permissions-Management"><a href="#廃止のお知らせ-Microsoft-Entra-Permissions-Management" class="headerlink" title="廃止のお知らせ: Microsoft Entra Permissions Management"></a>廃止のお知らせ: Microsoft Entra Permissions Management</h4><p>[お客様によっては対応が必要です]</p><p>2025 年 4 月 1 日より、Microsoft Entra Permissions Management (MEPM) は、新しい Enterprise Agreement または直接購入のお客様への販売が終了します。さらに、5 月 1 日以降、新しい CSP のお客様への販売も終了します。2025 年 10 月 1 日をもって、Permissions Management は廃止され、この製品のサポートは終了します。 </p><p>既存のお客様は、2025 年 9 月 30 日までこの製品にアクセスでき、現在の機能は引き続きサポートされます。Microsoft は <a href="https://delinea.com/microsoft-ciem">Delinea</a> と提携し、<a href="https://delinea.com/products/privilege-control-for-cloud-entitlements">Privilege Control for Cloud Entitlements (PCCE)</a> を提供します。これは Microsoft Entra Permissions Management が提供する機能と同様の機能を提供する代替ソリューションです。Microsoft Entra Permissions Management を段階的に廃止するという決定は、弊社が持つイノベーション ポートフォリオを深く検討し、加えて弊社が最高のイノベーションを提供していくにあたり、差別化領域と周辺のエコシステムとの連携を十分に検討した上で行われました。Microsoft は、Microsoft Entra ポートフォリオ全体でトップクラスのソリューションを提供することに引き続き注力してまいります。詳細については、<a href="https://aka.ms/MEPMretire">こちらをクリック</a> ください。</p><h2 id="Microsoft-Entra-Domain-Services"><a href="#Microsoft-Entra-Domain-Services" class="headerlink" title="Microsoft Entra Domain Services"></a>Microsoft Entra Domain Services</h2><h3 id="新機能のリリース-3"><a href="#新機能のリリース-3" class="headerlink" title="新機能のリリース"></a>新機能のリリース</h3><ul><li><a href="https://learn.microsoft.com/ja-jp/entra/identity/domain-services/concepts-custom-attributes">Entra Domain Services のカスタム属性のサポート</a></li></ul><p>以上のとおりお知らせいたします。</p><p>Shobhit Sahay</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの高田です。&lt;/p&gt;
&lt;p&gt;本記事は、2025 年 4 月 4 日に米国の Microsoft Entra Blog で公開された &lt;a href=&quot;https://techcommunity.microsoft.c</summary>
      
    
    
    
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>重要な変更のお知らせ: Microsoft Entra Permissions Management の販売終了と廃止</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/important-change-announcement-microsoft-entra-permissions-management-end-of-sale/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/important-change-announcement-microsoft-entra-permissions-management-end-of-sale/</id>
    <published>2025-04-05T23:00:00.000Z</published>
    <updated>2025-04-12T15:36:20.897Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの高田です。</p><p>本記事は、2025 年 4 月 1 日に米国の Azure Active Directory Identity Blog で公開された <a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/important-change-announcement-microsoft-entra-permissions-management-end-of-sale/4399382">Important change announcement: Microsoft Entra Permissions Management end of sale and retirement</a> を意訳したものになります。ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><p>Microsoft Entra Permissions Management に関連する重要な更新をお知らせします。現在この製品を使用しているお客様においては速やかに対応が必要になります。皆様の継続的なパートナーシップと、必要な対応事項の確認を引き続きよろしくお願いいたします。</p><p><strong>2025 年 4 月 1 日より</strong>、Microsoft Entra Permissions Management は、新しい Enterprise Agreement もしくは直接での購入ができなくなり、2025 年 5 月 1 日からは、新しい CSP のお客様も購入ができなくなります。2025 年 10 月 1 日をもって、Microsoft Entra Permissions Management は廃止され、この製品のサポートは終了します。</p><p>Microsoft のセキュリティ ポートフォリオから Microsoft Entra Permissions Management を段階的に廃止するという決定は、弊社が持つ製品ポートフォリオを深く検討したうえでのものです。加えて弊社が最高のイノベーションを提供するにあたり、投資領域の差別化および関連するエコシステムとの十分な連携を検討した上で行われました。Microsoft は、Microsoft Entra ID、Microsoft Entra Suite (ID Protection、ID ガバナンス、Verified ID、Interenet Access、Private Access を含む)、Microsoft Entra External ID、Microsoft Entra Workload ID などを含む Microsoft Entra ポートフォリオ全体でトップレベルのソリューションを提供することに引き続き取り組んでまいります。</p><p>弊社は、この変更を通じて、すべてのお客様とパートナー様をサポートすることに全力を尽くしてまいります。以下に、個々のお客様に移行計画を通知するにあたり、重要となる日付とガイダンスを示します。</p><p><strong>既存のお客様</strong> は、2025 年 4 月 1 日から 2025 年 9 月 30 日まで製品へのアクセスが維持され、この期間中も Permissions Management のすべての既存の機能が引き続きサポートされます。この製品は 2025 年 10 月 1 日に廃止されるため、製品を展開済みのお客様は移行の計画を開始するとともに、製品をまだ展開していないお客様は展開を控えることをお勧めします。並行して、Microsoft Entra Permissions Management の各お客様と協力して、適切な移行パスを模索し、代替のクラウド インフラストラクチャ エンタイトルメント管理 (CIEM) ソリューションに移行するための移行ガイダンスとサポートを提供いたします。</p><p>CIEM の機能を継続して必要とするお客様向けに、弊社は Delinea 社と提携しております。Delinea 社は CIEM を専門とする大手独立系ソフトウェア ベンダーの 1 つで、お客様が現在 Microsoft Entra Permissions Management で使用している機能の代替ソリューションを提供しています。<a href="https://delinea.com/microsoft-ciem">https://delinea.com/microsoft-ciem</a> にアクセスいただけますと、Delinea によるお客様のユースケースに沿った最適な評価を進めるうえでの移行ガイドとデータシート、ならびに主要な移行マイルストーンを理解する上での参考資料をご覧いただけます。</p><p>Microsoft Entra Permissions Management が提供する CIEM 機能 (特に高い特権を持つ ID のアクセス許可の検出、マルチクラウド環境のアクセス許可クリープ インデックス (PCI)) を使用している Microsoft Defender for Cloud のお客様においては、引き続き Microsoft Defender for Cloud でこれらの CIEM 機能をサポートします。お客様は、Microsoft Defender CSPM プランの一部として、現在と同様に引き続き使用を継続できます。Microsoft は、重要な CNAPP のユース ケースに対処するために、Microsoft Defender for Cloud の CIEM 機能を引き続き強化することに取り組んでいます。詳細については、<a href="https://aka.ms/MDC-CIEM">こちら</a> のブログ記事を参照ください。</p><p>繰り返しになりますが、Microsoft Entra ID、Microsoft Entra Suite (ID Protection、ID ガバナンス、Verified ID、INternet Access、Private Access)、Microsoft Entra External ID、Microsoft Entra Workload ID などを含む、Microsoft Entra ポートフォリオに関して、業界最高の製品を提供していくというコミットメントに変更はありません。</p><p>Microsoft Security をお選びいただいているお客様とパートナーに改めて感謝いたします。Microsoft、Delinea、および実装パートナーの全員が、この移行中に可能な限りシームレスにサポートをお届けできるよう、皆様と協力することをお約束します。弊社とともに歩みを進めてくださることに感謝申し上げます。 </p><p>Joseph Dadzie, VP Product Management</p><p>※ Microsoft Entra Permissions Management は、Azure、AWS、GCP の ID に関するアクセス許可の分析情報を提供するクラウド インフラストラクチャ エンタイトルメント管理 (CIEM) ツールです。現在、Microsoft のお客様は、スタンドアロンの Microsoft Entra Permissions Management 製品内で CIEM 機能を活用することや、Microsoft Defender Cloud Security Posture Management 内でクラウド基盤のアクセス許可の状況に関する分析情報を得ることも可能です。今回変更の範囲は Microsoft Entra Permissions Management 製品に関してであり、Microsoft は Microsoft Defender for Cloud CSPM の CIEM 機能には継続して投資を行い、重要なクラウド ネイティブ アプリケーション保護 (CNAPP) のユース ケースに対応してまいります。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの高田です。&lt;/p&gt;
&lt;p&gt;本記事は、2025 年 4 月 1 日に米国の Azure Active Directory Identity Blog で公開された &lt;a href=&quot;https://techcommu</summary>
      
    
    
    
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>Microsoft Entra Health アラートのご紹介: テナントの監視機能の強化</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/introducing-microsoft-entra-health-alerts-an-enhancement-to-tenant-health-monitoring/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/introducing-microsoft-entra-health-alerts-an-enhancement-to-tenant-health-monitoring/</id>
    <published>2025-04-05T16:00:00.000Z</published>
    <updated>2025-04-12T15:36:20.918Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure &amp; Identity サポート チームの高田です。</p><p>本記事は、2025 年 3 月 11 日に米国の Microsoft Entra Blog で公開された <a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/introducing-microsoft-entra-health-alerts-an-enhancement-to-tenant-health-monito/4352583">Introducing Microsoft Entra Health alerts: An enhancement to tenant health monitoring</a> の抄訳です。ご不明点はサポート チームまでお問い合わせください。</p><hr><h2 id="テナントの正常性を高め管理者の目をより届きやすくする-Microsoft-Entra-の監視システムの改善"><a href="#テナントの正常性を高め管理者の目をより届きやすくする-Microsoft-Entra-の監視システムの改善" class="headerlink" title="テナントの正常性を高め管理者の目をより届きやすくする Microsoft Entra の監視システムの改善"></a>テナントの正常性を高め管理者の目をより届きやすくする Microsoft Entra の監視システムの改善</h2><p>Microsoft Entra Health アラートのリリースをこの度発表いたします。本機能はテナントの正常性が低下している可能性を検出するもので、既存の正常性メトリクスの追加機能としてテナントの監視機能を強化するというものです。本アラート機能は 2024 年 5 月の <a href="https://jpazureid.github.io/blog/azure-active-directory/tenant-health-transparency-and-observability/">ブログ記事</a> で解説された、品質と耐障害性に対する取り組みの一環となります。パブリック プレビューが利用可能になってから最初の 1 か月間で数千のテナントによって既に使用されており、お客様テナントの正常性を監視および管理するのに活用いただいています。</p><p>近年 Microsoft Entra は耐障害性に多額の投資を行っており、その結果非常に高い可用性を実現しています。これらの取り組みにより、業界標準の認証の可用性 SLA である 99.99% を一貫して上回り、毎月 99.999% の稼働率をほぼ到達しているという状況です。しかし、テナントの正常性を最大限に高めるにあたっては、問題発生時やサービス品質の低下が生じた際にも自社の IT 運用やユーザーのサポートを行うお客様との積極的なパートナーシップが必要であることも弊社では認識しております。また、侵入やリスクを阻止しつつ、ストレスなく適切なユーザーがアクセスできるようにするということが、組織の円滑な運営を維持するために重要であると考えております。サービスの障害が生じた際や、今後起きるであろう障害に備えて予防措置を講じる場合は、ID サービス プロバイダーからタイムリーに情報の通知も必要です。弊社ではパートナーシップを大幅に促進するため、エンド ツー エンドの監視機能を開発しており、テナント レベルで Microsoft Entra 管理センターよりご利用いただけます。</p><p>この度、すでに提供済みである低遅延の正常性メトリクスと統合された自動アラート機能を発表いたします。この機能は Microsoft Entra 管理センター内の「<a href="https://entra.microsoft.com/#view/Microsoft_AAD_DXP/ScenarioHealthSummary.ReactView">正常性</a>」画面に統合されており、以下の例では、多要素認証 (MFA) の失敗がスパイクしているデモ画像をご覧いただけます。</p><p><strong>注意</strong>: この機能には、月間アクティブ ユーザー数が 100 以上の Microsoft Entra Premium  ライセンスを持つテナントが必要です。</p><p><img src="/blog/azure-active-directory/introducing-microsoft-entra-health-alerts-an-enhancement-to-tenant-health-monitoring/pic1.jpg" alt="図 1: 監視対象のすべてのシナリオを表示するか、アクティブなアラートが出ているシナリオのみに絞り込むことが可能です。"></p><p><img src="/blog/azure-active-directory/introducing-microsoft-entra-health-alerts-an-enhancement-to-tenant-health-monitoring/pic2.jpg" alt="図 2: Microsoft Entra の多要素認証の失敗がスパイクしたことがシグナルとなりアラートが上がった例です。"></p><p>アラートの発報機能は、平常時のパターンを元にして、個々のテナント内での平常時からの異常な変化を監視する異常検出システムに基づいています。アラート機能はテナントごとに調整されていますので、アラートの発報はその組織の一般的な認証パターンに基づいて行われることとなり、個々のテナントごとに影響を精査いただけます。これにより、正常性を把握するにあたり、<a href="https://azure.status.microsoft/ja-jp/status">Azure Service Health ページ</a> にて確認いただいていた従来のサービス インシデントの通知よりも、よりきめ細かい情報を確認いただけます。</p><p>これらの正常性の監視データとアラートは、Microsoft Entra 管理センターで参照いただけます。サードパーティのツールやデータ パイプラインとの統合をご要望の場合は、Microsoft Graph を用いることでこれらのデータにアクセスが可能です。監視のフローについて概要を示します。</p><ol><li><strong>テナント単位での正常性メトリクス データ</strong>: Premium ライセンスを持つテナントに対し、テナント単位の正常性メトリクスが低遅延で送信されます。正常性データの観測は、MFA、条件付きアクセスで管理されたデバイス、条件付きアクセスの準拠済みデバイス、Security Assertion Markup Language (SAML) サインインに対して提供されます。</li><li><strong>異常検出</strong>: 異常検出のシステムが、正常性データをテナント レベルで監視し、平常時のパターンから逸脱した場合にテナントにアラートを発報します。Premium ライセンスを持つテナントに月間アクティブ ユーザーが最低 100 必要です。</li><li><strong>通知のオプション</strong>: アラートが発報された場合に備え、ユーザーまたは配布グループに E メールの通知を設定できます。通知は、監視シナリオごとに異なる方法を使うよう構成できます。また、お客様独自で通知の連携システムを開発する場合は、Microsoft Graph からアラートを照会する方法もご利用いただけます。</li><li><strong>アラートの調査</strong>: アラートは Microsoft Entra 管理センター、Azure ポータル、または Microsoft Graph にて調査できます。これらのツールを用いて影響を評価し、修復のヒントを得るとともに、根本原因を調査して問題に対処できます。</li></ol><p>上記のプロセスを一般的なシナリオを例に見てみましょう。ここでは、大企業のテナント内で Microsoft Entra の MFA サインイン エラーが平常時よりも大幅に増加しているという例をあげます。認証とアクセスの管理を担当するチームに問題の調査を指示する E メール通知が飛ばされます。そのチームの IT エンジニアがアラートを確認し、MFA のサインイン エラー データを分析して、根本原因を調査します。アラートには、影響を受けるアプリケーションとユーザーの情報が含まれており、それらを監査ログとサインイン ログとで共に活用することで、異常を引き起こした直近のアプリケーションの構成変更を特定できました。エンジニアが問題を修正したことで、問題の検出から数分以内に MFA のサインインが正常に戻りました。</p><p>月間アクティブ ユーザー数が 100 人を超える Premium ライセンス付きのテナントをお持ちの場合は、Microsoft Entra 管理センターで <a href="https://entra.microsoft.com/#view/Microsoft_AAD_DXP/ScenarioHealthSummary.ReactView">正常性</a> のページを開いて、今すぐ正常性アラート機能をお試しください。まずは、各シナリオを担当する組織内のグループに E メール通知を送信するようにアラートを構成いただければと思います。低遅延のテナント固有のアラートを提供することで、テナントの正常性を事前に監視および管理できます。</p><p>この機能はお客様の生産性と成功をサポートし、高品質で耐障害性のあるサービスを提供するという Microsoft Entra のコミットメントをより強くするものです。弊社はこれからも正常性の監視機能の革新と改善を続けてまいりますので、さらなる更新と機能強化にご期待ください。</p><p>Shobhit Sahay<br>Principal Group Product Manager</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure &amp;amp; Identity サポート チームの高田です。&lt;/p&gt;
&lt;p&gt;本記事は、2025 年 3 月 11 日に米国の Microsoft Entra Blog で公開された &lt;a href=&quot;https://techcommunity.micr</summary>
      
    
    
    
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>Microsoft Intune Enrollment を Entra ID に登録する</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/microsoft-intune-enrollment/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/microsoft-intune-enrollment/</id>
    <published>2025-04-03T00:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.056Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure &amp; Identity サポート チームの長谷川です。本記事では Microsoft Intune Enrollment のサービス プリンシパル (アプリ) を登録する方法を紹介します。</p><p>今回紹介しているコマンドは、Microsoft Intune Enrollment に限らず、テナントにまだないアプリを登録する際に利用可能ですので、他のシナリオでもご活用いただければ幸いです。その際は、登録したいアプリのアプリケーション ID をご用意ください。</p><h2 id="はじめに"><a href="#はじめに" class="headerlink" title="はじめに"></a>はじめに</h2><p>Microsoft Intune へのデバイス登録を条件付きアクセスの対象 (もしくは対象外) にしたい場合は、ターゲット リソースに Microsoft Intune Enrollment アプリを指定して条件付きアクセス ポリシーを構成します。しかしながら、新規に作成したテナントでは既定では Microsoft Intune Enrollment が登録されていません。こういった場合、次の手順で Microsoft Intune Enrollment のサービス プリンシパル (アプリ) を Entra ID のテナントに登録することで、条件付きアクセスで利用できるようになります。</p><p>なお、一度登録した Microsoft Intune Enrollment のサービス プリンシパル (アプリ) は削除することはできないことを、あらかじめご承知おきください。</p><h2 id="Microsoft-Intune-Enrollment-を登録する手順"><a href="#Microsoft-Intune-Enrollment-を登録する手順" class="headerlink" title="Microsoft Intune Enrollment を登録する手順"></a>Microsoft Intune Enrollment を登録する手順</h2><p>Microsoft Graph PowerShell を利用した次の手順で Microsoft Intune Enrollment サービス プリンシパル (アプリ) を登録することができます。</p><ol><li>PowerShell を管理者権限で起動します。</li><li>以下のコマンドを実行し、Microsoft Graph PowerShell モジュールを作業端末にインストールします (インストール済みの場合はスキップ)。</li></ol><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> Microsoft.Graph <span class="literal">-Force</span></span><br></pre></td></tr></table></figure><ol start="3"><li>以下のコマンドを実行し、グローバル管理者で認証します。([要求されているアクセス許可] という画面が表示された場合は、[承諾] を押下します)</li></ol><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Connect-MgGraph</span> <span class="literal">-Scopes</span> <span class="string">&quot;Application.ReadWrite.All&quot;</span></span><br></pre></td></tr></table></figure><ol start="4"><li>以下のコマンドを順番に実行して、”Microsoft Intune Enrollment” のサービス プリンシパル (アプリ) を作成します。</li></ol><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">New-MgServicePrincipal</span> <span class="literal">-AppId</span> <span class="string">&quot;d4ebce55-015a-49b5-a083-c84d1797ae8c&quot;</span></span><br></pre></td></tr></table></figure><ol start="5"><li>作業が終わりましたら以下のコマンドで PowerShell セッションを切断します。</li></ol><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Disconnect-MgGraph</span></span><br></pre></td></tr></table></figure><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>本記事では Microsoft Intune Enrollment のサービス プリンシパル (アプリ) を Entra ID のテナントに登録する方法を紹介しました。製品動作に関する正式な見解や回答については、お客様環境などを十分に把握したうえでサポート部門より提供しますので、ぜひ弊社サポート サービスをご利用ください。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure &amp;amp; Identity サポート チームの長谷川です。本記事では Microsoft Intune Enrollment のサービス プリンシパル (アプリ) を登録する方法を紹介します。&lt;/p&gt;
&lt;p&gt;今回紹介しているコマンドは、Micros</summary>
      
    
    
    
    
    <category term="Conditional Access" scheme="https://jpazureid.github.io/blog/tags/Conditional-Access/"/>
    
    <category term="Microsoft Entra" scheme="https://jpazureid.github.io/blog/tags/Microsoft-Entra/"/>
    
    <category term="Device" scheme="https://jpazureid.github.io/blog/tags/Device/"/>
    
  </entry>
  
  <entry>
    <title>MC1028312 のよくある質問</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/mc1028312-info/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/mc1028312-info/</id>
    <published>2025-03-18T00:00:00.000Z</published>
    <updated>2025-04-12T15:36:20.958Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity チームの張替です。</p><p>2025/3/11 に MC1028312 の通知が行われ、Microsoft Entra Connect Sync (以下、MEC) 2.4.18.0 未満を利用するお客様向けに、2025/4/30 までに 2.4.18.0 以降のバージョンにアップグレードを推奨する旨の通知がされています。<br>この通知に関する内容について、多くのお問い合わせをいただいており、今回は、本通知に関する概要と必要な対応について、よくある質問形式でおまとめして紹介します。</p><div class="alert is-important"><p class="alert-title">重要</p><p>本情報は 2025/4/7 時点の情報を基に執筆しております。</p><p>構成ウィザード上での認証に失敗してしまう影響につきましては、当初の 2025/4/7 から 2025/4/30 に延長されました。</p></div><hr><h2 id="MC1028312-の概要"><a href="#MC1028312-の概要" class="headerlink" title="MC1028312 の概要"></a>MC1028312 の概要</h2><p>MC1028312 ではサービスの強化と 2025 年 4 月の MSOnline PowerShell の廃止に向けた準備のためのバックエンド サービスの変更が行われることをお知らせしております。<br>この廃止と変更の対応にあたり、MEC において影響を受ける機能、影響を受けない機能を以下におまとめしました。</p><p> 影響を受ける機能</p><ul><li>2025/4/7 以降、MEC の構成ウィザードで AD FS シナリオの構成ができなくなります。</li><li>2025/4/7 以降、MEC の構成ウィザードで PingFederate シナリオの構成ができなくなります。</li><li>2025/4/30 以降、MEC の構成ウィザード上で認証を行った場合に失敗します。これにより、スキーマ更新、ステージング モードの設定、ユーザー サインインなどの変更が行えなくなります。</li></ul><p> 影響を受けない機能</p><ul><li>MEC の同期サービスは通常通り動作し、同期処理は停止しません。</li><li>MEC のアップグレードは可能で、2025/4/30 以降もアップグレードは実施可能です。</li></ul><p> 以下の公開情報でも詳細をご案内していますので、合わせてご参照ください。</p><p><a href="https://learn.microsoft.com/en-us/entra/identity/hybrid/connect/harden-update-ad-fs-pingfederate">Hardening update to Microsoft Entra Connect Sync AD FS and PingFederate configuration - Microsoft Entra ID | Microsoft Learn</a></p><h2 id="実施いただきたいこと"><a href="#実施いただきたいこと" class="headerlink" title="実施いただきたいこと"></a>実施いただきたいこと</h2><p>MEC 2.4.18.0 未満を利用するすべてのお客様は、2025/4/30 までに 2.4.18.0 以降のバージョンへアップグレードを推奨しております。<br>現時点 (2025/4/7) の最新バージョンは 2.4.131.0 となり、<a href="https://www.microsoft.com/en-us/download/details.aspx?id=47594">こちら</a> からダウンロードいただけますので、アップグレードについてご検討くださいますようお願いいたします。</p><p>アップグレードを行わない場合、 MEC 上での構成ウィザードで管理者の認証を行おうとすると、以下のエラーが表示され Entra ID への接続が不可となる動作が想定されます。</p><p><img src="/blog/azure-active-directory/mc1028312-info/mc1028312-info1.png"></p><p>エラー メッセージ</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;Get-MsolUserRole&#x27; コマンドの実行中にエラーが生じました。Access Dinied. You do not have permissions to call this cmldet. コマンドの実行中にエラーが生じました</span><br></pre></td></tr></table></figure><p>エラーにより構成ウィザード上での認証が行えないため、結果的に 構成ウィザードによる設定変更が行えない状況となります。<br>そのため、スキーマの更新、アクティブ / ステージングの切り替え、同期対象 OU の変更、ユーザー サインインの変更など、MEC 構成ウィザードによる設定変更全般ができなくなることが想定されます。<br>なお、認証要求が発生する前の操作であれば構成ウィザード上での操作は可能ですので、MEC 上での構成ファイルのダウンロードは可能です。</p><h2 id="よくある質問"><a href="#よくある質問" class="headerlink" title="よくある質問"></a>よくある質問</h2><p><strong>Q. 同期への影響はありますか？</strong></p><p>A. オブジェクト同期、パスワード同期、パスワード ライトバックなどの同期サービスには影響ありません。通常通り同期されます。</p><p><strong>Q. シームレス SSO への影響はありますか？</strong></p><p>A. いいえ、影響ありません。</p><p><strong>Q. パススルー認証への影響はありますか？</strong></p><p>A. いいえ、影響ありません。</p><p><strong>Q. MC906491 との関連性</strong></p><p>A. MC906491 では MEC の構成ウィザードで AD FS / PingFederate シナリオを構成することへの影響についてを通知いたしておりましたが、確認を行った結果、影響範囲が更にあることが確認されました。<br>MC1028312 に記載の影響範囲が正しい内容となります。</p><p><strong>Q. アップグレード手順を教えてください。</strong></p><p>A. 通常時のアップグレード手順と相違ありません。アップグレード手順につきましては、以下の弊社技術ブログをご参考ください。</p><p><a href="https://jpazureid.github.io/blog/azure-active-directory-connect/how-to-upgrade-details/">Azure AD Connect アップグレード手順詳細 | Japan Azure Identity Support Blog</a></p><div class="alert is-success"><p class="alert-title">ヒント</p><p>なお、旧バージョンからのバージョンアップの場合には、大きく以下の点にご留意ください。</p><p>・2.3.20.0 以降では TLS 1.2 の有効化を明示的にレジストリへ設定する必要があります。</p><p><a href="https://jpazureid.github.io/blog/azure-active-directory-connect/azure-ad-connect-2-3-20/">Microsoft Entra Connect 2.3.20 のインストールおよびアップグレードに失敗する際の対応方法 | Japan Azure Identity Support Blog</a></p><p>・2.4.18.0 以降では .NET Framework 4.7.2 以上が必要となります。</p><p><a href="https://learn.microsoft.com/ja-jp/entra/identity/hybrid/connect/reference-connect-version-history#24180">Microsoft Entra Connect: バージョン リリース履歴 - Microsoft Entra ID | Microsoft Learn</a></p></div><p><strong>Q. 現在の MEC のバージョンの確認方法は？</strong></p><p>A. MEC サーバー上でコントロール パネルに移動し、[プログラム] -&gt; [プログラムと機能] の順に選択して、インストールされている Microsoft Entra Connect Sync のバージョンをご確認ください。</p><p><img src="/blog/azure-active-directory/mc1028312-info/mc1028312-info2.png"></p><p><strong>Q. 回避策はありますか？</strong></p><p>A. 恐縮ながら、アップグレードを実施する以外の方法はございません。</p><p><strong>Q. 延期は可能ですか？</strong></p><p>A. 恐縮ながら、延期は困難な状況です。</p><p><strong>Q. 2025/4/30 までにバージョンアップができなくなった場合、サポートは受け付けてもらえますか？</strong></p><p>A. はい、2025/4/30 を過ぎた場合に何らかの問題が発生した場合、サポート窓口にお問い合わせいただき、調査を行うことは可能です。<br>しかしながら、調査の結果、サポートされる構成 (サポート内のバージョンへのアップグレードなど) への変更をお願いさせていただく場合もございますので、こちらの点についてご理解ください。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity チームの張替です。&lt;/p&gt;
&lt;p&gt;2025/3/11 に MC1028312 の通知が行われ、Microsoft Entra Connect Sync (以下、MEC) 2.4.18.0 未満を利用するお客様向けに、2025/4/3</summary>
      
    
    
    
    
    <category term="Microsoft Entra Connect" scheme="https://jpazureid.github.io/blog/tags/Microsoft-Entra-Connect/"/>
    
    <category term="Entra ID" scheme="https://jpazureid.github.io/blog/tags/Entra-ID/"/>
    
  </entry>
  
  <entry>
    <title>QR コード認証でフロントライン ワーカーのサインイン体験をシンプルに</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/simplify-frontline-workers-sign-in-experience-with-qr-code-authentication/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/simplify-frontline-workers-sign-in-experience-with-qr-code-authentication/</id>
    <published>2025-03-07T16:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.226Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure &amp; Identity サポート チームの高田です。</p><p>本記事は、2025 年 2 月 25 日に米国の Microsoft Entra Blog で公開された <a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/simplify-frontline-workers%E2%80%99-sign-in-experience-with-qr-code-authentication/3822034">Simplify frontline workers’ sign-in experience with QR code authentication</a>) の抄訳です。ご不明点はサポート チームまでお問い合わせください。</p><hr><h2 id="長いユーザー名とパスワードを使わずとも-QR-コードをスキャンして-PIN-を打ちこむことで共有デバイスに簡単にサインイン"><a href="#長いユーザー名とパスワードを使わずとも-QR-コードをスキャンして-PIN-を打ちこむことで共有デバイスに簡単にサインイン" class="headerlink" title="長いユーザー名とパスワードを使わずとも QR コードをスキャンして PIN を打ちこむことで共有デバイスに簡単にサインイン"></a>長いユーザー名とパスワードを使わずとも QR コードをスキャンして PIN を打ちこむことで共有デバイスに簡単にサインイン</h2><p>皆様こんにちは。</p><p>この度、<a href="https://learn.microsoft.com/entra/identity/authentication/concept-authentication-qr-code">Microsoft Entra ID での QR コード認証</a> のパブリック プレビューを発表します。この新機能は、フロントライン ワーカー (第一線で働く従業員) のサインインをより素早く簡単にすることを目的としています。</p><p>フロントライン ワーカーは、長らくより簡単にサインインする方法を待ち望んでました。これまで主に課題だったのは、共有デバイスでのアプリへのサインインが煩雑であることです。今回発表いたしますソリューションは、次のような 2 つの重要なニーズに対応するものです。</p><ul><li>共有の業務デバイスから、仕事に欠かせない重要なアプリケーションへ迅速にアクセスする</li><li>ユーザー名やパスワードを必要とせずシンプルで安全に認証する</li></ul><p>Microsoft Entra ID の QR コード認証を使うと、ユーザー名やパスワードを覚える必要なく、共有デバイスでのアプリへのサインインがより早く完了し、なおかつ安全になります。フロントライン ワーカーは、提供された一意の QR コードをスキャンし、個人用の PIN を入力してサインインします。特定のデバイスにプロビジョニングするなどのことは不要なため、共有デバイスを使用する組織にとっては画期的な新機能です。</p><h2 id="QR-コード認証でフロントライン-ワーカーのサインインをより簡単に"><a href="#QR-コード認証でフロントライン-ワーカーのサインインをより簡単に" class="headerlink" title="QR コード認証でフロントライン ワーカーのサインインをより簡単に"></a>QR コード認証でフロントライン ワーカーのサインインをより簡単に</h2><p>ここでは、QR コード認証でフロントライン ワーカーのサインインが簡便となることで、従業員の生産性に良い影響が生じた一例をあげます。 </p><p>Contoso Industries 社は、ヨーロッパ全域に店舗を持つ小売企業で、各店舗には最大 20 人のフロントライン ワーカーがいます。それらの従業員は、日常業務として在庫の検索や更新、請求処理などのために共有モバイル デバイス (iPad、Android、iOS) を使用しています。現在、各ユーザーは共有デバイスにユーザー名とパスワードを使用してサインインするため、時間も手間もかかります。シフトが始まると共有デバイス毎に繰り返し認証する必要も生じます。 </p><p>Contoso 社は、これらのユーザーのために QR コード認証を設定することで、この問題に対処することにしました。Contoso 社はまず 1 つの店舗で QR コード認証を導入し、他の店舗にも拡張する予定です。Contoso 社のこの取り組みについて、いくつかのステップに分けて紹介いたします。</p><p><img src="/blog/azure-active-directory/simplify-frontline-workers-sign-in-experience-with-qr-code-authentication/pic1.png" alt="図 1: QR コード認証のプロビジョニングとサインイン プロセス"></p><h3 id="1-QR-コード認証方法の設定"><a href="#1-QR-コード認証方法の設定" class="headerlink" title="1. QR コード認証方法の設定"></a>1. QR コード認証方法の設定</h3><p>Contoso 社の IT 管理者は、店舗のフロントライン ワーカーの 1 人に QR コード認証を有効にすることから始めます。次に、その店舗のフロントライン ワーカー用に QR コードと仮の PIN を生成します。さらに、Microsoft Entra 条件付きアクセスポリシーを構成して、QR コード認証を使用する際には店舗内の準拠済みデバイスからのみ社内リソースへのアクセスできるよう制限します。 </p><p>最後に、既存の従業員および新しい従業員の QR コード認証の管理を <a href="https://learn.microsoft.com/entra/identity/role-based-access-control/my-staff-configure">My Staff</a> を介してこの店舗のマネージャーである Katie に委任します。Katie は QR コードをシールに印刷します。このシールは後ほど従業員の入館証に貼り付けられます。 </p><p>詳細は <a href="https://learn.microsoft.com/en-us/entra/identity/authentication/how-to-authentication-qr-code">QR コード認証の有効化方法の詳細</a> をご覧ください。 </p><h3 id="2-QR-コード認証方法でサイン-インする"><a href="#2-QR-コード認証方法でサイン-インする" class="headerlink" title="2. QR コード認証方法でサイン インする"></a>2. QR コード認証方法でサイン インする</h3><p>フロントライン ワーカーの Kelly は、マネージャーから QR コードのシールと仮の PIN を受け取ります。彼女は入館証の裏にそのシールを貼り、QR コードをスキャンして、Teams にサインインする際に QR コード認証用の新しい PIN を設定します。これで Kelly は店舗内の共有デバイスで簡単にサインインできるようになりました。 </p><p><img src="/blog/azure-active-directory/simplify-frontline-workers-sign-in-experience-with-qr-code-authentication/pic2.png" alt="図 2: 共有デバイス上のカメラを使用して QR コードをスキャンして Teams にサインイン"></p><h2 id="お客様やパートナーの声"><a href="#お客様やパートナーの声" class="headerlink" title="お客様やパートナーの声"></a>お客様やパートナーの声</h2><p>この機能の開発では多くのお客様にご協力いただきました。以下にその一部の声をお知らせいたします。 </p><blockquote><p>受け入れテストを通じて、QR コード + PIN サイン インは、高いセキュリティ基準を維持しつつ、共有モバイル デバイスを使用するフロントライン ワーカーのサインイン操作をよりシンプルにする大きな可能性を秘めていると感じました。今後は Android の Managed Home Screen アプリでこれを実装し、ユーザーの効率とセキュリティを向上させていきたいと思います。</p><p><strong>David ESPIN, C&amp;A</strong></p></blockquote><blockquote><p>Entra ID の新しい QR コードの認証方法を用いることで、モバイル デバイスでのエンド ユーザーの認証フローがとても簡素化されました。Entra の共有デバイス モードと組み合わせることで、フロントライン ワーカーはパスワードが不要になり、より素早く業務アプリを使用できるようになりました。QR コード認証は安全でユーザー フレンドリーな認証方法という点で、弊社の非常に重要なニーズを満たすものであり、フロントライン ワーカーはより効率的かつ安全に業務の遂行が可能となりました。</p><p><strong>Janic Verboon, baseVISION AG</strong></p></blockquote><p>Microsoft Entra の活用方法や今後の改善点について、皆様からのフィードバックをお待ちしております。Microsoft Entra フォーラムを通じて、または X で @MSFTsecurity をタグしてフィードバックを共有ください！</p><p>Robin Goldstein<br>Partner, Director of Product Management, Microsoft Identity</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure &amp;amp; Identity サポート チームの高田です。&lt;/p&gt;
&lt;p&gt;本記事は、2025 年 2 月 25 日に米国の Microsoft Entra Blog で公開された &lt;a href=&quot;https://techcommunity.micr</summary>
      
    
    
    
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>2025 年にプロアクティブに取り組むべき ID およびアクセスのセキュリティの優先事項トップ 3</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/top-3-priorities-for-proactive-identity-and-access-security-in-2025/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/top-3-priorities-for-proactive-identity-and-access-security-in-2025/</id>
    <published>2025-03-06T20:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.299Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure &amp; Identity サポート チームの高田です。</p><p>本記事は、2025 年 2 月 28 日に米国の Microsoft Entra Blog で公開された <a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/top-3-priorities-for-proactive-identity-and-access-security-in-2025/4371044">Top 3 Priorities for Proactive Identity and Access Security in 2025</a> の抄訳です。ご不明点はサポート チームまでお問い合わせください。</p><hr><h2 id="ID-の侵害を防ぎ環境を保護するための鍵となるのはプロアクティブな防御です"><a href="#ID-の侵害を防ぎ環境を保護するための鍵となるのはプロアクティブな防御です" class="headerlink" title="ID の侵害を防ぎ環境を保護するための鍵となるのはプロアクティブな防御です"></a>ID の侵害を防ぎ環境を保護するための鍵となるのはプロアクティブな防御です</h2><p>昨年、我々は深刻なセキュリティの課題に直面しました。大規模な侵害、サービス停止、攻撃者による持続的な脅威など、様々なサイバーセキュリティの問題が発生しました。これらの出来事は社会全体に影響を与え、地域、規模、業界に関係なく、我々はすべからくセキュリティ戦略の再評価を迫られました。</p><p>どの組織もサイバーセキュリティの脅威から免れることはできないと言っても過言ではありません。ほとんどの脅威は ID とネットワークをその攻撃対象にしていることから、自らを守るために最大限の努力を行うことがすべての組織に求められています。Microsoft 内部では、受動的な対策から能動的 (プロアクティブ) な戦略にシフトしており、<a href="https://www.microsoft.com/trust-center/security/secure-future-initiative">Secure Future Initiative</a> (SFI) の取り組みを継続して進めておりました。特にすべての ID に多要素認証 (MFA) を適用し、仮に重要度の低い ID であっても、依然として脆弱な状況にあることには変わりないため、MFA を強制しました。さらに未使用のテナントを自動的に削除するプロセスを実行するなど、さまざまな対策を講じました。2025 年においてもこのような ID およびアクセス制御に重きを置くセキュリティ対策が非常に重要です。</p><p><strong>SFI を経て得た経験とお客様からの知見に基づき、今年注力すべき 3つ主な優先事項を以下におまとめいたしました:</strong></p><ol><li>まず、<strong>現在のセキュリティ体制を維持しつつ新たな脅威に備えることが重要です</strong>。フィッシング耐性のある MFA が進歩してきたことと、従来の基本的な MFA よりも一歩先の要件を見据え、全てのアカウントに MFA を要求することを強くお勧めします。</li><li>次に、すべてのリソースと ID に <strong>ゼロ トラストのアクセス制御</strong> を包括的に導入する必要があります。だれがどのリソースへのアクセス権を持っているかを確認することが非常に重要です。これは従業員だけでなく、契約者、パートナー、顧客、また特に PC を含む各種機器やサービス、さらには AI を含めた全ての ID をその確認対象とすることを意味します。すべてが適切に管理および統治されていることを確認する必要があります。</li><li>最後に、<strong>セキュリティを強化するために生成系 AI を活用する</strong> ことが不可欠です。生成系 AI を用いることで、検出がより強化され、応答が自動化され、新たな脅威に対してプロアクティブに防御することで、サイバー空間の脅威に先手を打つことが可能となります。これは現代のサイバーセキュリティにおいて重要な役割を果たすものです。</li></ol><p>重要なのは、ID ファーストのセキュリティ戦略を採用し、組織の安全と防御力を確かなものにするようプロアクティブな手段を講じることです。</p><p>これらの推奨される優先事項の詳細については、Microsoft の Identity and Network Access 部門の President である Joy Chik による「<a href="https://www.microsoft.com/en-us/security/blog/2025/01/28/3-priorities-for-adopting-proactive-identity-and-access-security-in-2025/">3 priorities for adopting proactive identity and access security in 2025</a>」をご覧ください。</p><p>TJ Cutting, Sr Identity Product Marketing Manager, Identity &amp; Network Access</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure &amp;amp; Identity サポート チームの高田です。&lt;/p&gt;
&lt;p&gt;本記事は、2025 年 2 月 28 日に米国の Microsoft Entra Blog で公開された &lt;a href=&quot;https://techcommunity.micr</summary>
      
    
    
    
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>新しい Microsoft マネージド ポリシーでテナントの ID セキュリティを向上</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/new-microsoft-managed-policies-to-raise-your-identity-security-posture/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/new-microsoft-managed-policies-to-raise-your-identity-security-posture/</id>
    <published>2025-02-27T20:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.105Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure &amp; Identity サポート チームの長谷川です。</p><p>本記事は、2025 年 2 月 21 日に米国の Microsoft Entra Blog で公開された <a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/new-microsoft-managed-policies-to-raise-your-identity-security-posture/4286758">New Microsoft-managed policies to raise your identity security posture</a> の抄訳です。ご不明点はサポート チームまでお問い合わせください。</p><hr><h2 id="新しい-Microsoft-マネージド-ポリシーで-ID-のセキュリティを強化ください"><a href="#新しい-Microsoft-マネージド-ポリシーで-ID-のセキュリティを強化ください" class="headerlink" title="新しい Microsoft マネージド ポリシーで ID のセキュリティを強化ください"></a>新しい Microsoft マネージド ポリシーで ID のセキュリティを強化ください</h2><p>セキュリティを強化し、進化するサイバー攻撃からお客様を保護するための継続的な取り組みの一環として、デバイス コード フローとレガシー認証フローを制限する 2 つの新しい Microsoft マネージド ポリシーの展開を発表いたします。これらのポリシーは、当社の <a href="https://www.microsoft.com/trust-center/security/secure-future-initiative">Secure Future Initiative</a> に基づく Secure by Default の原則に沿ったものであり、お客様の組織を既定の状態で保護するための堅牢なセキュリティ対策を提供することを目的としています。</p><h2 id="デバイス-コード-フローとレガシー認証を制限する理由"><a href="#デバイス-コード-フローとレガシー認証を制限する理由" class="headerlink" title="デバイス コード フローとレガシー認証を制限する理由"></a>デバイス コード フローとレガシー認証を制限する理由</h2><p>デバイス コード フローは、Teams room デバイスやコマンド ライン インターフェイスのような入力に制約のあるデバイスの認証で使用される、デバイスをまたがる認証フローです。しかし、攻撃者がフローを開始し、ユーザーを騙してデバイス上でフローを完了させることで、ユーザーのトークンを攻撃者に送信してしまうというフィッシング攻撃に悪用される可能性があります。このようなセキュリティ リスクと、お客様全体でデバイス コード フローの使用頻度が低いことをふまえて、過去 25 日間にデバイス コード フローを使用していないお客様に対して、このフローを既定でブロックするポリシーを導入していきます。</p><p>POP、SMTP、IMAP、MAPI などのレガシー認証プロトコルは、多要素認証 (MFA) のような先進認証をサポートしていないため、攻撃者の標的となっています。レガシー認証をブロックすることは、攻撃の対象領域を減らし、組織の全体的なセキュリティ体制を強化するための重要なステップです。</p><h2 id="今後の予定"><a href="#今後の予定" class="headerlink" title="今後の予定"></a>今後の予定</h2><p>2025 年 2 月から、これらの新しいポリシーの展開を開始します。これらのポリシーは最初はレポート専用モードで作成されるため、実際にポリシーが適用される前にその影響を確認いただけます。一度作成されたポリシーは、自動的に「オン」の状態に移行されるまで、少なくとも 45 日間は評価と設定を行うことができます。</p><h2 id="推奨されるアクション"><a href="#推奨されるアクション" class="headerlink" title="推奨されるアクション"></a>推奨されるアクション</h2><p>これらのポリシーがお客様の組織のニーズに合っていることを確認するために、テナントでこれらのポリシーが作成された後、以下のアクションを取ることをお勧めします:</p><ul><li>新しいポリシーの効果とメリットを確認する。</li><li>特定のニーズに応じてポリシーをカスタマイズする。</li><li>レポートを監視し、必要な調節を行う。</li><li>準備ができたら、ポリシーを「オン」の状態に移行し、組織を積極的に保護する。</li></ul><h2 id="もっと詳しく知るには"><a href="#もっと詳しく知るには" class="headerlink" title="もっと詳しく知るには"></a>もっと詳しく知るには</h2><p>これらのポリシーとその構成方法の詳細については、<a href="https://learn.microsoft.com/entra/identity/conditional-access/managed-policies">Microsoft マネージド ポリシー</a> のドキュメントを参照ください。ご質問がある場合やサポートが必要な場合は、Microsoft Entra 管理センターからサポート リクエストを起票ください。</p><p>このたびのポリシーを積極的に導入することで、進化するセキュリティの脅威から組織を守るための重要な一歩を踏み出すことができます。</p><p>Nitika Gupta<br>Partner Group Product Manager</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure &amp;amp; Identity サポート チームの長谷川です。&lt;/p&gt;
&lt;p&gt;本記事は、2025 年 2 月 21 日に米国の Microsoft Entra Blog で公開された &lt;a href=&quot;https://techcommunity.mic</summary>
      
    
    
    
    
    <category term="Conditional Access" scheme="https://jpazureid.github.io/blog/tags/Conditional-Access/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>外部向けアプリの認証体験と URL ドメインのカスタマイズ</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/customize-authentication-experiences-and-url-domains-for-external-apps/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/customize-authentication-experiences-and-url-domains-for-external-apps/</id>
    <published>2025-02-27T17:00:00.000Z</published>
    <updated>2025-04-12T15:36:20.724Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポートチームの 張替 です。</p><p>本記事は、2025 年 1 月 24 日に米国の Azure Active Directory Identity Blog で公開された <a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/customize-authentication-experiences-and-url-domains-for-external-apps/3627347">Customize authentication experiences and URL domains for external apps | Microsoft Community Hub</a> を意訳したものになります。ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><h2 id="外部向けアプリケーションでの-OIDC-認証と-URL-カスタマイズの方法についてのお知らせ"><a href="#外部向けアプリケーションでの-OIDC-認証と-URL-カスタマイズの方法についてのお知らせ" class="headerlink" title="外部向けアプリケーションでの OIDC 認証と URL カスタマイズの方法についてのお知らせ"></a>外部向けアプリケーションでの OIDC 認証と URL カスタマイズの方法についてのお知らせ</h2><p>顧客の ID とアクセス管理 (CIAM) など外部向けアプリケーションにおいて、セキュアでシームレスかつブランド化されたユーザー体験を提供することは、ビジネスの成長にとって重要です。しかし、<a href="https://www.verizon.com/business/resources/reports/dbir/">Verizon によると</a>、サイバー攻撃はオンラインで運営するビジネスにとって重大な脅威であり、一般的な攻撃にはサービス拒否 (DDoS) 攻撃、パスワード スプレー攻撃、スロー ロリス攻撃、ブルートフォース攻撃などが挙げられます。全体のうち 24% では、盗まれた認証情報が問題の主な原因であり、強力なパスワードと多要素認証 (MFA) の使用の重要性がここからわかります。次に多いのはマルウェア (23%)、人的エラー (21%)、フィッシング (17%) です。CIAM アプリケーションに対する強力なエンド ツー エンドのセキュリティ戦略を持つことは、これらの脅威から守り、運営の整合性を確保するために不可欠です。</p><p>以前のブログで <a href="https://jpazureid.github.io/blog/azure-active-directory/built-in-security-controls-for-external-facing-apps/">セキュリティ既定値群</a> と <a href="https://jpazureid.github.io/blog/azure-active-directory/enhance-end-user-experiences-with-custom-otp-email-provider-support/">ブランド強化</a> についてお伝えしましたが、今回はシームレスな IAM 体験を提供すとともに侵害の可能性を減らし、セキュリティ レベルを大幅に向上させる方法についてお話しします。このブログでは、Microsoft Entra 製品チームのプリンシパル プロダクト マネージャーである Mihai Popa より、<a href="https://www.microsoft.com/en-us/security/business/identity-access/microsoft-entra-external-id?msockid=1da3b11f9fdc65802aeaa21c9e906454">Microsoft Entra External ID</a> で利用可能になった OpenID Connect とカスタム URL ドメインのリリースについて説明してもらいます。</p><p><img src="/blog/azure-active-directory/customize-authentication-experiences-and-url-domains-for-external-apps/customize-authentication-experiences-and-url-domains-for-external-apps1.png" alt="図 1: すべてのアプリケーションに対するエンドツーエンドのセキュリティ"></p><hr><p>こんにちは、皆さん！Microsoft の Authentication Product チームの Mihai です。今日は、<a href="https://www.microsoft.com/en-us/security/business/identity-access/microsoft-entra-external-id?msockid=1da3b11f9fdc65802aeaa21c9e906454">Microsoft Entra External ID</a> に新たに追加された重要な機能についてお知らせいたします。</p><p>本日、<strong>OpenID Connect External ID プロバイダー サポート</strong> のパブリック プレビューと、<strong>カスタム URL ドメイン機能の一般提供</strong> を発表します。どちらの機能も External ID のお客様が非常に待ち望まれていたものです。任意の ID プロバイダーを ID 体験に追加することで、ユーザーのサインアップおよびサインイン体験がシンプルになり、同時に OIDC をサポートするすべてのプロバイダーに対応します。ID に関わるフローのドメイン URL をカスタマイズすることで、ブランドの認識を高め、エンド ユーザーとの信頼を築くことができます。さらにセキュリティを高めることにもつながります。</p><p>ここでは、2 つの機能のプレビューを紹介しますので、ぜひご覧ください！</p><h2 id="Microsoft-Entra-External-ID-の-OpenID-Connect-IdP-サポート"><a href="#Microsoft-Entra-External-ID-の-OpenID-Connect-IdP-サポート" class="headerlink" title="Microsoft Entra External ID の OpenID Connect IdP サポート"></a>Microsoft Entra External ID の OpenID Connect IdP サポート</h2><p>お客様からのフィードバックでは、Amazon、Auth0、Okta、そして本製品の前身である Azure AD B2C などの外部 IdP とのフェデレーション サポートが求められていました。これにより、お客様は Azure AD B2C プラットフォームとフェデレーションすることで、新しい External ID 体験をより良いものにできます。(<a href="https://devblogs.microsoft.com/identity/openid-connect-external-identity-provider-support-public-preview/">Announcing the Public Preview of OpenID Connect external identity provider support for Microsoft Entra External ID | Microsoft Entra Identity Platform</a>)。<br>外部の ID プロバイダーの既存のアカウントを使用してアプリケーションにアクセスできるようにすることで、パートナー統合を通じた ID フェデレーションが可能になり、新しい認証情報を作成する代わりに既存の ID を使用してサインインできます。</p><h2 id="OIDC-外部-ID-プロバイダーの主要なシナリオ"><a href="#OIDC-外部-ID-プロバイダーの主要なシナリオ" class="headerlink" title="OIDC 外部 ID プロバイダーの主要なシナリオ"></a>OIDC 外部 ID プロバイダーの主要なシナリオ</h2><p>Microsoft Entra External ID の OIDC 外部 ID プロバイダーのサポートにより、いくつかの主要なシナリオが実現可能になります。</p><ul><li><strong>クラウド ID プロバイダーとの統合</strong>: クラウド ID プロバイダーとのサインインおよびサインアップフローを統合できるようになります。 </li><li><strong>Azure AD B2C とのフェデレーション</strong>: 既存の Azure AD B2C テナントとフェデレーションしながら、新しい IAM 体験を構築可能になります。 </li><li><strong>パートナー ID プロバイダーでのサインイン</strong>: 例えばパートナー従業員割引プログラムなどのパートナーシップ シナリオにおいてフェデレーション認証を利用可能になります。</li><li><strong>政府および地方自治体が提供する ID プロバイダーとのフェデレーション</strong>: 政府および地方自治体の ID プロバイダーとの安全な認証を確立できるようになります。 </li></ul><h2 id="OIDC-フェデレーションを構成してみる"><a href="#OIDC-フェデレーションを構成してみる" class="headerlink" title="OIDC フェデレーションを構成してみる"></a>OIDC フェデレーションを構成してみる</h2><p>OIDC フェデレーションにより、外部の ID プロバイダーの既存のアカウントを使用してアプリケーションにサインアップおよびサインインできます。OpenID Connect プロトコルをサポートする外部 ID プロバイダーをユーザー フローに追加することで、そのユーザー フローで定義されたアプリケーションに対して、OIDC の ID プロバイダーの認証情報を使用して認証できます。</p><p>OpenID Connect の ID プロバイダーの設定、ユーザー フローへの追加、およびサインインおよびサインアップ体験のアプリケーションへの統合に関するガイダンスについては、以下のリソースを参照ください:</p><ul><li><a href="https://learn.microsoft.com/en-us/entra/external-id/customers/how-to-custom-oidc-federation-customers">OpenID Connect を外部 ID プロバイダーとして追加する</a></li><li><a href="https://learn.microsoft.com/en-us/entra/external-id/customers/reference-oidc-claims-mapping-customers">OpenID Connect クレーム マッピング</a></li><li><a href="https://learn.microsoft.com/en-us/entra/external-id/customers/how-to-b2c-federation-customers">Azure AD B2C テナントを OpenID Connect ID プロバイダーとして追加する</a></li></ul><h2 id="Microsoft-Entra-External-ID-カスタム-URL-ドメイン"><a href="#Microsoft-Entra-External-ID-カスタム-URL-ドメイン" class="headerlink" title="Microsoft Entra External ID カスタム URL ドメイン"></a>Microsoft Entra External ID カスタム URL ドメイン</h2><h3 id="カスタム-URLドメインとは何か？"><a href="#カスタム-URLドメインとは何か？" class="headerlink" title="カスタム URLドメインとは何か？"></a>カスタム URLドメインとは何か？</h3><p><a href="https://devblogs.microsoft.com/identity/custom-url-domains-ga/">カスタム URL ドメイン</a>は、組織が独自のドメイン名を使用して認証体験をカスタマイズできるようにするためのものです。既定の Microsoft のテナント URL の代わりに、ユーザーにはブランド化された URL が提示されます。これにより、ブランドとしての ID をユーザーに印象付けることが可能となり、アプリケーションがよりプロフェッショナルでセキュアに感じられるという、一貫した体験が提供されます。</p><h3 id="主な機能"><a href="#主な機能" class="headerlink" title="主な機能"></a>主な機能</h3><ol><li><p><strong>カスタマイズとブランド化</strong>: 認証ページで使用する独自のドメイン名を登録することで、ログイン体験を他のユーザー フローと統一できます。ユーザーには、既定の Microsoft テナント URL の代わりに、login.contoso.com のようなブランド化された URL が提示されます。 </p></li><li><p><strong>複数のドメインが利用可能</strong>: 1 つのテナントに複数のカスタム URL ドメインを設定できます。 </p><h3 id="追加のセキュリティ強化"><a href="#追加のセキュリティ強化" class="headerlink" title="追加のセキュリティ強化:"></a>追加のセキュリティ強化:</h3></li><li><p><strong>標準の URL ドメイン保護</strong>: カスタム URL ドメインがアクティブな場合、既定のエンドポイントへのアクセスをブロックすることで、ボット攻撃や DDoS 攻撃などのさまざまなセキュリティ攻撃からテナントを保護できます。この機能はお客様から弊社に要望いただければ利用可能です。この機能の有効化をご要望の場合は、<a href="https://forms.office.com/pages/responsepage.aspx?id=v4j5cvGGr0GRqy180BHbR8p84R3AsLtAjEb1gFOJGX5URVFVNFJQUEtXUUxBRldRVlRFTEJFOUE2Qy4u&route=shorturl">Microsoft Forms</a> よりテナントを登録ください。 </p></li><li><p><strong>サードパーティの Web アプリケーション ファイア ウォール (WAF) との統合</strong>: カスタム URL ドメインは Azure Front Door (AFD) で構成する必要がありますが、さらに AFD に上乗せする形で <a href="https://learn.microsoft.com/en-us/entra/external-id/customers/tutorial-configure-cloudflare-integration">Cloudflare</a> や Akamai などのサードパーティ WAF 統合を追加することで、テナントに追加の WAF ルールを追加可能です。</p></li></ol><h2 id="カスタム-URL-ドメインを設定する際の重要な考慮事項"><a href="#カスタム-URL-ドメインを設定する際の重要な考慮事項" class="headerlink" title="カスタム URL ドメインを設定する際の重要な考慮事項"></a>カスタム URL ドメインを設定する際の重要な考慮事項</h2><ul><li><strong>メタデータ エンドポイントへの影響</strong>: カスタム URL ドメインを変更すると、メタデータ エンドポイントにも影響します。例えば、既定のエンドポイントが https://&lt;tenantID&gt;.ciamlogin.com/&lt;tenantID&gt;/.well-known/openid-configuration/v2.0 の場合、メタデータ エンドポイントは <a href="https://login.contoso.com/.well-known/openid-configuration/v2.0">https://login.contoso.com/.well-known/openid-configuration/v2.0</a> に変更されます。</li><li><strong>単一ドメインでのみ利用可能</strong>: 一度 1 つのテナントに追加され検証されたカスタム URL ドメインは、他のテナントに追加することはできません。 </li><li><strong>トークン発行者</strong>: トークン発行者は既定のエンドポイントのままとなります。例えば、”iss”: “https://&lt;tenantID&gt;.ciamlogin.com/&lt;tenantID&gt;/v2.0” のようになります。 </li><li><strong>トップ レベル ドメイン</strong>: トップ レベル ドメインの使用は避けてください。カスタム URL ドメインにルート ドメインを使用すると、ユーザー体験や設定プロセスが複雑になる可能性があります。これらの問題を避けるため、カスタム URL ドメインにはサブ ドメインを使用することが一般的に推奨されます。<ul><li>正しいドメインの例: ‘login.contoso.com’</li><li>間違ったドメインの例: ‘contoso.com’</li></ul></li></ul><h2 id="最新情報にご注目ください"><a href="#最新情報にご注目ください" class="headerlink" title="最新情報にご注目ください"></a>最新情報にご注目ください</h2><p>Microsoft Entra の全体の機能について詳しく知りたい場合やテストしたい場合は、<a href="https://developer.microsoft.com/en-us/identity/external-id">開発者センター</a> をご確認ください。最新の ID に関する情報を得るためには、<a href="https://devblogs.microsoft.com/identity/tag/external-id/">ID 開発者ブログ</a> を購読ください。また、<a href="https://www.youtube.com/@MicrosoftSecurity/playlists">YouTube</a> でビデオの概要、チュートリアル、詳細な解説も視聴ください。</p><p>フィードバックを共有し、<a href="https://forms.office.com/pages/responsepage.aspx?id=v4j5cvGGr0GRqy180BHbR5AJ67oBBC9Oj7nqW72Oc7FUOUgySkExNThYVUZOTlZSNjhET1E1MERDMy4u&route=shorturl">意見</a> をぜひお聞かせください。また、外部 ID フェデレーション機能をさらに向上させるために新機能の提案もぜひ歓迎いたします。さらに、<a href="https://ux.microsoft.com/Panel/MicrosoftEntraExternalID?utm_campaign=ExternalID&utm_source=AppService&utm_medium=Blog">リサーチ パネルに参加</a> いただけましたら、顧客調査に参加するための招待を受け取ることも可能です。<br>次回のブログでは、外部向けアプリケーションにおける Web アプリケーション ファイアウォールの詳細な解説を行い、ベストプラクティス、実装戦略などについて探りますので、お楽しみに。</p><p>Mihai Popa<br>Principal Product Manager</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポートチームの 張替 です。&lt;/p&gt;
&lt;p&gt;本記事は、2025 年 1 月 24 日に米国の Azure Active Directory Identity Blog で公開された &lt;a href=&quot;https://techcom</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>新しいセキュア スコアの推奨事項が一般公開されました！</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/new-secure-score-recommendation/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/new-secure-score-recommendation/</id>
    <published>2025-02-16T00:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.105Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは！ Azure ID チームの小出です。</p><p>本記事は、2025 年 1 月 23 日に米国の Microsoft Entra (Azure AD) Blog で公開されました <a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/new-identity-secure-score-recommendations-in-general-availability/4369133">New Identity Secure Score recommendations in General Availability</a> を分かりやすく日本語におまとめしなおした記事となります。ご不明点などございましたら、お気軽にサポート チームへお問い合わせください。</p><hr><p>昨年、弊社は Transparency in Adoption (導入の透明性)に関する投資領域の中で、Microsoft Entra の推奨事項について投資を行う点を強調し、機能の公開に向けて開発を進めてきました。Microsoft Entra の「推奨事項 (レコメンデーション)」機能は、セキュリティを強化することと、それに加えて従業員の生産性を向上させるための信頼できるアドバイザーとしての役割を果たすことを目標としています。</p><p>この機能を利用すると、セキュリティに詳しいエンジニアやコンサルがいなくても、実用的な情報やベスト プラクティスを確認したり、リスクの特定や軽減のための情報を受け取ることが可能となりますので、組織のセキュリティ確保ならびに向上にお役立ていただけると存じます。新しい ID のセキュア スコアの推奨事項では、直近のスコアの変化が分かるグラフ表示や、詳細なユーザー情報を表示する機能が追加され、一般公開されました。現在は Microsoft Entra を利用されているすべてのお客様に利用いただけます。</p><h2 id="セキュア-スコアの推奨事項の最新機能と詳細"><a href="#セキュア-スコアの推奨事項の最新機能と詳細" class="headerlink" title="セキュア スコアの推奨事項の最新機能と詳細"></a>セキュア スコアの推奨事項の最新機能と詳細</h2><p>推奨事項として表示される項目とその説明について案内します。<a href="https://learn.microsoft.com/ja-jp/entra/identity/monitoring-health/overview-recommendations#recommendations-overview-table">Microsoft Entra レコメンデーションとは</a> の公開情報にも一覧や、通知の送付先となる管理者ロールなどの詳細をおまとめしておりますので、必要に応じてご覧ください。</p><h3 id="管理者ロールに対して-MFA-を必須にする"><a href="#管理者ロールに対して-MFA-を必須にする" class="headerlink" title="管理者ロールに対して MFA を必須にする"></a>管理者ロールに対して MFA を必須にする</h3><p>管理者ロールは、一般ユーザーよりも高い特権を保有しています。これらのアカウントが侵害されてしまうと、様々な変更をテナントに加えることができてしまい、組織全体が危険にさらされますので、管理者ロールのアカウントには MFA を義務付けるとを推奨しています。もし攻撃者にパスワードが漏洩し、パスワードでの認証が突破されてしまった場合でも、 MFA を設定していれば事前に登録した電話番号や Authenticator などのアプリに 2 要素目の認証が行われるため、攻撃者はアカウントにアクセスするのが困難となります。</p><h3 id="すべてのユーザーが多要素認証を完了できるようにする"><a href="#すべてのユーザーが多要素認証を完了できるようにする" class="headerlink" title="すべてのユーザーが多要素認証を完了できるようにする"></a>すべてのユーザーが多要素認証を完了できるようにする</h3><p>Microsoft Authenticator アプリ、パスキー、電話番号など、追加の認証方法を実装することで、1 つの要素（知っている、持っている、またはお客様自身）が侵害された場合でも、アカウントの乗っ取りを防ぐことが可能です。MFA を使用することで、ユーザーがアクセスできるデバイスとデータを保護することは極めて重要です。これらのデバイスやデータを効果的に保護するために、MFA を活用することを強くお勧めします。</p><h3 id="レガシー認証をブロックするポリシーを有効にする"><a href="#レガシー認証をブロックするポリシーを有効にする" class="headerlink" title="レガシー認証をブロックするポリシーを有効にする"></a>レガシー認証をブロックするポリシーを有効にする</h3><p>今日、危険なサインイン試行のほとんどは、レガシー認証によるものです。Office 2010 などの古い Office クライアントは「先進認証」という最新の認証方式をサポートしておらず、IMAP、SMTP、POP3 などのレガシー プロトコルを使用しています。レガシー認証は MFA に対応していないため、お客様の環境で MFA ポリシーが構成されていても、悪意のある攻撃者はレガシー プロトコルを使うことでこれらの制御をバイパスすることができてしまいます。セキュリティ保護および向上のために MFA を登録することと併せて、レガシー認証をブロックするポリシーを有効にすることをお勧めします。 </p><h3 id="パスワードを有効期限切れにしない"><a href="#パスワードを有効期限切れにしない" class="headerlink" title="パスワードを有効期限切れにしない"></a>パスワードを有効期限切れにしない</h3><p>多くのお客様のテナントで、組織のパスワード ポリシーを用い「90 日経過したらパスワードを有効期限切れにして変更してもらう」ような有効期限のポリシーを構成しているかと思います。しかしながら、定期的なパスワードのリセットが強制されると、パスワードの安全性が低下することが研究で分かっています。</p><p>たとえば、ユーザーが最初に推測されにくい十分な長さのパスワードを考え設定したとします。しかし、たとえば 90 日ごとにパスワードの有効期限が切れるようにしてしまうと、せっかく考えた強度のあるパスワードを変更することとなり、ユーザーは改めて新しいパスワードを覚えなおす必要が生じます。この場合、ユーザーはより弱いパスワードを選び、リセットのたびに少しずつ変える傾向があることが分かっています。たとえば分かりやすい文字列を利用したり、前回と少しだけ文字列を変えたパスワードを設定したりするようなことです。</p><p>ユーザーがパスワードを設定した場合、それは将来も現在と同様に強力であるべきです。このため、「特別な理由なしにパスワードを定期的に失効させない」ことを、弊社では公式な立場として推奨しています。クラウド ユーザーのみのテナントには、パスワードポリシーを有効期限なしに設定することをお勧めします。詳細は <a href="https://learn.microsoft.com/ja-jp/microsoft-365/admin/misc/password-policy-recommendations?view=o365-worldwide&WT.mc_id=365AdminCSH_inproduct#password-expiration-requirements-for-users">パスワード ポリシーの推奨事項</a> をご覧ください。</p><h3 id="ユーザー-リスク-ポリシーを使用してすべてのユーザーを保護する"><a href="#ユーザー-リスク-ポリシーを使用してすべてのユーザーを保護する" class="headerlink" title="ユーザー リスク ポリシーを使用してすべてのユーザーを保護する"></a>ユーザー リスク ポリシーを使用してすべてのユーザーを保護する</h3><p>ユーザー リスク ポリシーをオンにすると、Microsoft Entra ID はユーザー アカウントが侵害された可能性があるかどうかを検出するようになります。ユーザー リスクに関する条件付きアクセスポリシーを構成することで、管理者は特定のユーザー リスク レベルに自動的に対応することができます。ユーザー リスクに対応する条件付きアクセスポリシーを活用し、ユーザを保護することをお勧めします。</p><h3 id="サインイン-リスク-ポリシーを使用してすべてのユーザーを保護する"><a href="#サインイン-リスク-ポリシーを使用してすべてのユーザーを保護する" class="headerlink" title="サインイン リスク ポリシーを使用してすべてのユーザーを保護する"></a>サインイン リスク ポリシーを使用してすべてのユーザーを保護する</h3><p>サインイン リスク ポリシーをオンにすると、疑わしいサインインに対して MFA の要求が行われるようになります。サインイン リスク ポリシーを使用してサインイン リスクが生じた際に備え、ユーザーを保護することをお勧めします。</p><h3 id="パスワード-ハッシュ同期を有効にする-ハイブリッド構成を使用している場合"><a href="#パスワード-ハッシュ同期を有効にする-ハイブリッド構成を使用している場合" class="headerlink" title="パスワード ハッシュ同期を有効にする (ハイブリッド構成を使用している場合)"></a>パスワード ハッシュ同期を有効にする (ハイブリッド構成を使用している場合)</h3><p>パスワード ハッシュ同期は、ハイブリッド ID を実現するために使用されるサインイン方法の 1 つです。Microsoft Entra Connect は、ユーザーのパスワード ハッシュをオンプレミスの Microsoft Entra Connect インスタンスからクラウドベースの Microsoft Entra Connect クラウド同期インスタンスに同期します。パスワード ハッシュ同期は、ユーザーが管理する必要のあるパスワードの数を 1 つに減らすのに役立ちます。パスワード ハッシュ同期を有効にすると、漏えいした資格情報のレポートも可能になりますので、ハイブリッド構成を使用している場合は、パスワード ハッシュ同期を有効にすることをお勧めします。</p><h3 id="信頼性の低いアプリケーションへの同意をユーザーに許可しない"><a href="#信頼性の低いアプリケーションへの同意をユーザーに許可しない" class="headerlink" title="信頼性の低いアプリケーションへの同意をユーザーに許可しない"></a>信頼性の低いアプリケーションへの同意をユーザーに許可しない</h3><p>悪意のあるアプリケーションがユーザーを騙して組織のデータへアクセスしてしまうリスクを低減するために、検証済みの発行者によって発行されたアプリケーションに対してのみ、ユーザーの同意を許可することをお勧めします。 </p><h3 id="最小限の特権管理ロールを使用する"><a href="#最小限の特権管理ロールを使用する" class="headerlink" title="最小限の特権管理ロールを使用する"></a>最小限の特権管理ロールを使用する</h3><p>パスワード管理者や Exchange 管理者のような比較的特権が低いロールをユーザーに割り当てることで、グローバル管理者などの特権アカウントが侵害される可能性が低くなります。管理者がアカウントに割り当てられた最小限の特権で業務を遂行できるようにすることをお勧めします。</p><h3 id="複数のグローバル管理者を指定する"><a href="#複数のグローバル管理者を指定する" class="headerlink" title="複数のグローバル管理者を指定する"></a>複数のグローバル管理者を指定する</h3><p>複数のグローバル管理者を持つことで、アカウントがロックアウトされた場合や緊急的なアクセスが必要な際にも対応が可能です。必要であれば、チーム内の誰かが委任を受けてアクセスできる緊急アクセス用のアカウントを持つことが重要です。また、管理者同士が侵害の兆候を監視することも可能になります。緊急アクセス用に複数のグローバル管理者を指定することをお勧めします。</p><h3 id="セルフ-サービス-パスワード-リセットを有効にする"><a href="#セルフ-サービス-パスワード-リセットを有効にする" class="headerlink" title="セルフ サービス パスワード リセットを有効にする"></a>セルフ サービス パスワード リセットを有効にする</h3><p>Microsoft Entra ID のセルフ サービス パスワード リセットを利用すると、ユーザーは自分のパスワードをリセットするためにヘルプデスクに連絡する必要がなくなります。Microsoft Entra は禁止された文字列をパスワードで利用できないようにする機能も有しているため、この機能と組み合わせることで、推測されやすいパスワードが使用されるのを防ぐことが可能です。ユーザーのセルフ サービス パスワード リセットを有効にすることをお勧めします。</p><h2 id="推奨事項の確認方法"><a href="#推奨事項の確認方法" class="headerlink" title="推奨事項の確認方法"></a>推奨事項の確認方法</h2><p>セキュア スコアの推奨事項を確認するには、Microsoft Entra 管理センターで「Microsoft Entra ID 」 &gt; 「概要」 &gt; 「推奨事項」の順に移動します。推奨事項のタブで、「カテゴリ」のフィルターを利用し、「Identity Secure Score」を選択して絞り込みを行います。</p><p><img src="/blog/azure-active-directory/new-secure-score-recommendation/new-secure-score-recommendation1.png"></p><p>または、概要ページの検索バーの上部にある「セキュリティ」のタイルを選択することも可能です。</p><p><img src="/blog/azure-active-directory/new-secure-score-recommendation/new-secure-score-recommendation2.png"></p><h2 id="新しい「推奨事項」の利点"><a href="#新しい「推奨事項」の利点" class="headerlink" title="新しい「推奨事項」の利点"></a>新しい「推奨事項」の利点</h2><p>新しいセキュア スコアの推奨事項の利点は以下のとおりです。</p><ul><li>セキュリティ態勢の改善: これらの推奨事項を実施することで、企業は、脅威にさらされるのを最小限に抑え、資産を保護し、お客様との信頼を維持するための貴重な知見を得ることができます。</li><li>実用的な知見: 各推奨事項には、セキュリティ上の懸念事項に対処するために何をすればよいのか、明確で実行可能な手順が示されています。</li><li>包括的にカバー:  推奨事項は幅広いセキュリティの側面をカバーしています。デジタル環境の安全性を確保するために全体的なアプローチが取れるようにします。</li></ul><h2 id="新機能の紹介"><a href="#新機能の紹介" class="headerlink" title="新機能の紹介"></a>新機能の紹介</h2><p>これらの推奨事項で利用できるようになった2つの新機能をご紹介します: </p><p><strong>セキュア スコア トレンド チャート</strong>: セキュア スコア トレンド チャートでは、セキュア スコアがどのように推移しているのかを確認することができます。たとえば以下の図では、おおよそ 70 点前後を推移していますが、10 月周辺に一度スコアが下がっていること、その後改善しスコアが上がっていることなどを一目で確認できます。</p><p>これらの傾向を監視することで、企業はセキュリティ対策の有効性を評価し、セキュリティ態勢をさらに強化するための意思決定をデータに基づいて行うことができます。セキュア スコアの履歴データには、<a href="https://learn.microsoft.com/ja-jp/graph/api/recommendation-tenantsecurescores?view=graph-rest-beta&tabs=http">テナント セキュア スコア API</a> を使用して、コマンドからもアクセスできます。 </p><p><img src="/blog/azure-active-directory/new-secure-score-recommendation/new-secure-score-recommendation3.png"></p><p><strong>ユーザーの詳細リスト</strong>: この機能を利用すると、影響を受けるユーザーの包括的なリストを確認することができます。たとえば下記画面ショットでは、「管理者ロールに多要素認証を要求する」という推奨事項について、対処が必要なユーザーが 3 人表示されています。ユーザーの情報だけでなく、いつからこの推奨事項がアクティブになっているのか確認することなども可能です。各推奨事項ごとにこの画面が用意されておりますため、各推奨事項に対し、アクションが必要なユーザーをそれぞれ確認いただけます。</p><p><a href="https://learn.microsoft.com/ja-jp/graph/api/impactedresource-get?view=graph-rest-beta&tabs=http">影響を受けるリソース API</a> を使用して、影響を受けるリソースのリストにコマンドからアクセスすることもできます。</p><p><img src="/blog/azure-active-directory/new-secure-score-recommendation/new-secure-score-recommendation4.png"></p><h2 id="今後の更新予定"><a href="#今後の更新予定" class="headerlink" title="今後の更新予定"></a>今後の更新予定</h2><p>利用可能な推奨事項に関する最新情報は、<a href="https://learn.microsoft.com/ja-jp/entra/identity/monitoring-health/overview-recommendations">Microsoft Entra レコメンデーションとは</a> をご覧ください。すでに様々な推奨機能が利用可能ですが、この機能の価値を高めるために、新しい推奨機能を引き続き導入してまいります。今後数ヶ月のうちに、Zero Trust フレームワークの実装を最適化するための Zero Trust の推奨事項や、製品の使用シナリオをガイドするとともに、Microsoft Entra Suite ライセンスの最も効果的な活用方法を提供する Microsoft Entra Suite の推奨事項も開始する予定です。今後のアップデートをお待ちください。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは！ Azure ID チームの小出です。&lt;/p&gt;
&lt;p&gt;本記事は、2025 年 1 月 23 日に米国の Microsoft Entra (Azure AD) Blog で公開されました &lt;a href=&quot;https://techcommunity.microso</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>Microsoft Entra PowerShell モジュールが一般提供 (GA) されました</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/microsoft-entra-powershell-module-now-generally-available/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/microsoft-entra-powershell-module-now-generally-available/</id>
    <published>2025-02-14T00:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.040Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 五十嵐 です。</p><p>本記事は、2025 年 1 月 30 日に米国の Microsoft Entra (Azure AD) Blog で公開された <a href="https://techcommunity.microsoft.com/blog/microsoft-entra-blog/microsoft-entra-powershell-module-now-generally-available/4365718">Microsoft Entra PowerShell module now generally available</a> の抄訳です。ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><h2 id="シナリオに特化した-Microsoft-Entra-PowerShell-モジュールを用いて-Microsoft-Entra-のリソースをプログラム的に管理および自動化しましょう"><a href="#シナリオに特化した-Microsoft-Entra-PowerShell-モジュールを用いて-Microsoft-Entra-のリソースをプログラム的に管理および自動化しましょう" class="headerlink" title="シナリオに特化した Microsoft Entra PowerShell モジュールを用いて Microsoft Entra のリソースをプログラム的に管理および自動化しましょう"></a>シナリオに特化した Microsoft Entra PowerShell モジュールを用いて Microsoft Entra のリソースをプログラム的に管理および自動化しましょう</h2><p>本日、<a href="https://aka.ms/entra/ps/docs">Microsoft Entra PowerShell モジュール</a> の一般適用を発表いたします。これは、Microsoft Entra の管理と自動化を効率化するために設計された、シナリオに特化した新しい PowerShell モジュールです。2021 年に、弊社は将来の PowerShell への投資はすべて Microsoft Graph PowerShell SDK に対して行われると <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-blog/automate-and-manage-azure-ad-tasks-at-scale-with-the-microsoft/ba-p/1942489">発表</a> しました。今回の GA というマイルストーンは、この取り組みの大きな一歩を反映したものです。</p><p>Microsoft Entra のお客様から、PowerShell の使用感について多くのフィードバックをいただき、感謝しております。今後も Microsoft Entra PowerShell モジュールへの投資を続け、より多くのリソースとシナリオをカバーできるよう拡大していきます。</p><h2 id="Microsoft-Entra-PowerShell-とは"><a href="#Microsoft-Entra-PowerShell-とは" class="headerlink" title="Microsoft Entra PowerShell とは"></a>Microsoft Entra PowerShell とは</h2><p>Microsoft Entra PowerShell モジュールは、管理者や開発者が Microsoft Entra リソースをプログラムで管理し、自動化するためのコマンドライン ツールです。これにより、ユーザー、グループ、アプリケーション、サービス プリンシパル、ポリシーなどを効率的に管理できるようになります。このモジュールは Microsoft Graph PowerShell SDK をベースにしていますので、Microsoft Graph PowerShell SDK のすべてのコマンドレットと完全に相互運用可能であり、シンプルかつ十分にドキュメントも整備されたコマンドを用いて複雑な操作を実行できます。また、このモジュールは、<a href="https://jpazureid.github.io/blog/azure-active-directory/msonline-and-azuread-powershell-retirement/">廃止される AzureAD PowerShell モジュール</a> からの移行をスムーズに行うための下位互換性オプションも提供しています。Microsoft Entra PowerShell は、Windows PowerShell 5.1 および PowerShell 7 以降で動作します。Windows、Linux、および macOS で最高のエクスペリエンスを得るには、PowerShell 7 以降の使用をお勧めします。</p><h2 id="Microsoft-Entra-PowerShell-のメリット"><a href="#Microsoft-Entra-PowerShell-のメリット" class="headerlink" title="Microsoft Entra PowerShell のメリット"></a>Microsoft Entra PowerShell のメリット</h2><ul><li><strong>使いやすさを重視</strong>: Microsoft Entra PowerShell は、理解しやすいパラメーター、意図が伝わりやすいパラメーター セットの定義、インライン ドキュメント、パイプラインのような PowerShell の基本機能を提供します。</li><li><strong>AzureAD PowerShell モジュールとの下位互換性</strong>: Microsoft Entra PowerShell を用いると、<a href="https://jpazureid.github.io/blog/azure-active-directory/msonline-and-azuread-powershell-retirement/">廃止される AzureAD PowerShell モジュール</a> からより移行しやすくなります。</li><li><strong>柔軟できめ細かな権限付与</strong>: Microsoft Graph PowerShell SDK と同様に、Microsoft Entra PowerShell は、アプリケーションに権限を付与する際に、管理者の同意を要求することが可能です。また、独自のサービス プリンシパルまたはユーザー割り当てマネージド ID を使用して Microsoft Entra PowerShell を実行することもできます。</li><li><strong>オープン ソース</strong>: Microsoft Entra PowerShell モジュールはオープン ソースであり、PowerShell を強化し、イノベーションを共有するためのコミュニティのコラボレーションを可能にします。Microsoft によるカスタマイズをお客様側で確認し、ニーズに合わせて利用することもできます。</li></ul><h2 id="使ってみる"><a href="#使ってみる" class="headerlink" title="使ってみる"></a>使ってみる</h2><p><strong>インストール</strong>: 次のコマンドを実行して、<a href="https://www.powershellgallery.com/packages/Microsoft.Entra/1.0.1">PowerShell Gallery</a> から “/v1.0” API バージョンを使用して Microsoft Graph リソースを管理する Microsoft Entra PowerShell をインストールします。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> Microsoft.Entra <span class="literal">-Repository</span> PSGallery <span class="literal">-Scope</span> CurrentUser <span class="literal">-Force</span> <span class="literal">-AllowClobber</span></span><br></pre></td></tr></table></figure><p>または、次のコマンドを実行して、”/beta” API バージョンを使用して Microsoft Graph リソースを管理する <a href="https://www.powershellgallery.com/packages/Microsoft.Entra.Beta/1.0.1">Beta モジュール</a> をインストールします。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> Microsoft.Entra.Beta <span class="literal">-Repository</span> PSGallery <span class="literal">-Scope</span> CurrentUser <span class="literal">-Force</span> <span class="literal">-AllowClobber</span></span><br></pre></td></tr></table></figure><p><strong>認証</strong>: Connect-Entra コマンドを使用して、委任されたアクセス (対話型) またはアプリケーションのみのアクセス (非対話型) で Microsoft Entra ID にサインインします。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Connect-Entra</span> <span class="literal">-Scopes</span> <span class="string">&#x27;User.Read.All&#x27;</span></span><br></pre></td></tr></table></figure><p>独自に登録したアプリケーション、マネージド ID、およびその他の認証方法を使用する例については、<a href="https://learn.microsoft.com/en-us/powershell/entra-powershell/authentication-scenarios?view=entra-powershell">認証シナリオのドキュメント</a> を参照ください。</p><p><strong>利用可能なすべてのコマンドを検索</strong>: 次のコマンドを使用して、Microsoft Entra PowerShell モジュールで使用可能なすべてのコマンドを一覧表示できます。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Get-Command</span> <span class="literal">-Module</span> Microsoft.Entra*</span><br></pre></td></tr></table></figure><p><strong>ヘルプを取得</strong>: 構文、パラメーター、説明、例など、特定のコマンドレットに関する詳細情報を表示するには、Get-Help コマンドを使用します。たとえば、Get-EntraUser コマンドレットについて確認するには、次のコマンドを実行します。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Get-Help</span> <span class="built_in">Get-EntraUser</span> <span class="literal">-Full</span></span><br></pre></td></tr></table></figure><p><strong>AzureAD PowerShell モジュールからの移行</strong>: Enable-EntraAzureADAlias コマンドを使用することで、Microsoft Entra PowerShell を使用して、最小限の変更で既存の AzureAD PowerShell モジュール スクリプトを実行できます。たとえば、次のようになります。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Import-Module</span> <span class="literal">-Name</span> Microsoft.Entra.Users</span><br><span class="line"><span class="built_in">Connect-Entra</span> <span class="comment">#Replaces Connect-AzureAD for auth</span></span><br><span class="line"><span class="built_in">Enable-EntraAzureADAlias</span> <span class="comment">#enable aliasing</span></span><br><span class="line"><span class="built_in">Get-AzureADUser</span> <span class="literal">-Top</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="今すぐお試しください！"><a href="#今すぐお試しください！" class="headerlink" title="今すぐお試しください！"></a>今すぐお試しください！</h2><p><a href="https://www.powershellgallery.com/packages/Microsoft.Entra/1.0.1">新しいバージョン</a> をお試しいただき、<a href="https://github.com/microsoftgraph/entra-powershell/issues">GitHub</a> でフィードバックをぜひ共有ください。皆様のニーズをより満たすためにモジュールの改善と強化を続けていく上で、皆様からのご意見が非常に貴重です。</p><h2 id="Microsoft-Entra-PowerShell-モジュールの詳細を確認する"><a href="#Microsoft-Entra-PowerShell-モジュールの詳細を確認する" class="headerlink" title="Microsoft Entra PowerShell モジュールの詳細を確認する"></a>Microsoft Entra PowerShell モジュールの詳細を確認する</h2><p>Microsoft Entra PowerShell モジュールのインストール方法、使用可能な認証方法、特定のシナリオに使用するコマンドレット、ハウツー ガイドなどについては、<a href="https://learn.microsoft.com/ja-jp/powershell/entra-powershell/?view=entra-powershell">公開情報</a> を参照ください。</p><p>また、<a href="https://learn.microsoft.com/en-us/powershell/entra-powershell/entra-powershell-faqs?view=entra-powershell">よくある質問 (FAQ)</a> も参照ください。</p><h2 id="ありがとうございます！"><a href="#ありがとうございます！" class="headerlink" title="ありがとうございます！"></a>ありがとうございます！</h2><p>パブリック プレビュー中に <a href="https://github.com/microsoftgraph/entra-powershell/issues">GitHub</a> で問題を報告し、このリリースの改善にご協力いただいたすべてのコミュニティ メンバーに感謝します。今後ともよろしくお願いいたします！</p><p>Steve Mutungi, Product Manager, Microsoft Entra PowerShell</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 五十嵐 です。&lt;/p&gt;
&lt;p&gt;本記事は、2025 年 1 月 30 日に米国の Microsoft Entra (Azure AD) Blog で公開された &lt;a href=&quot;https://techcommun</summary>
      
    
    
    
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
    <category term="Microsoft Entra" scheme="https://jpazureid.github.io/blog/tags/Microsoft-Entra/"/>
    
  </entry>
  
  <entry>
    <title>Microsoft Entra: 2024 年の注目機能トップ 50</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/top-50-features-of-2024/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/top-50-features-of-2024/</id>
    <published>2025-01-30T00:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.299Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 夏木 です。</p><p>本記事は、2025 年 1 月 7 日に米国の Microsoft Entra (Azure AD) Blog で公開された <a href="https://techcommunity.microsoft.com/blog/identity/microsoft-entra-top-50-features-of-2024/4352584">Microsoft Entra: Top 50 features of 2024 | Microsoft Community Hub</a> の抄訳です。ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><h2 id="2024-年の-Microsoft-Entra-におけるセキュリティ強化と製品イノベーションを振り返る"><a href="#2024-年の-Microsoft-Entra-におけるセキュリティ強化と製品イノベーションを振り返る" class="headerlink" title="2024 年の Microsoft Entra におけるセキュリティ強化と製品イノベーションを振り返る"></a>2024 年の Microsoft Entra におけるセキュリティ強化と製品イノベーションを振り返る</h2><p>2024 年の Microsoft Entra の製品イノベーションやセキュリティ強化について、全部ついていくのは大変と感じてはいらっしゃいませんか？ご安心ください。いつも Microsoft Entra の最新情報をお届けしているチームより、注目すべき 50 のソリューションや新機能をまとめた振り返りレポートを作成しました。</p><p>以下では、増大するサイバー脅威、お客様からのフィードバック、市場のニーズをもとに進化した 50 の注目機能をご紹介します。より詳しい情報は、<a href="https://aka.ms/entra/whatsnew">Entra 管理センターの「最新情報」エクスペリエンス</a> をご覧ください。最新の ID のイノベーションを導入することで、デジタル資産をより強固に保護し、セキュリティ投資の価値を最大化できます。</p><p>新年あけましておめでとうございます！</p><p>Shobhit</p><hr><h2 id="新しいソリューション-トップ-5"><a href="#新しいソリューション-トップ-5" class="headerlink" title="新しいソリューション トップ 5"></a>新しいソリューション トップ 5</h2><p><strong>1. AI 主導の ID セキュリティ</strong>: Microsoft Ignite 2024 で、Microsoft Entra 管理センター内での <a href="https://techcommunity.microsoft.com/blog/identity/security-copilot-is-now-embedded-in-microsoft-entra/4289387">Microsoft Security Copilot</a>  のプレビュー提供を <a href="https://jpazureid.github.io/blog/azure-active-directory/ignite-ai-and-sase-innovations-in-microsoft-entra/">発表</a> しました。これにより、ID 管理者は AI による ID にまつわる情報の要約や知見を活用して、セキュリティ インシデントへの対応力を高め、侵害リスクからより確実に組織を守ることができます。管理センター内に統合されたユーザー体験により、ID のリスクやサインインの問題解決といった作業もより迅速に行えます。</p><p><img src="/blog/azure-active-directory/top-50-features-of-2024/aI-driven-identity-security.png" alt="図 1: Microsoft Copilot の起動した後、「クリックして実行」オプションが利用可能になり、ワンクリックで要約や分析、トラブルシューティング、さらに機能について質問することが可能となりました。"></p><p><strong>2. Microsoft Entra Suite の一般提供開始</strong>: <a href="https://jpazureid.github.io/blog/azure-active-directory/microsoft-entra-suite-now-generally-available/">Microsoft Entra Suite</a> は、従業員のアクセス管理を包括的にサポートするクラウドベースのソリューションです。クラウドやオンプレミスを問わず、あらゆるアプリケーションやリソースへのアクセスを一元的に保護します。最小特権のアクセスを一貫して適用し、従業員の利便性も向上させます。</p><p><img src="/blog/azure-active-directory/top-50-features-of-2024/microsoft-entra-suite.png" alt="図 2: Microsoft Entra Suite は、従業員アクセス向けの包括的なクラウド ソリューションを提供します。 "></p><p><strong>3. Microsoft の Security Service Edge (SSE) ソリューション</strong>: Microsoft の Security Service Edge (SSE) ソリューションは、<a href="https://www.microsoft.com/security/business/identity-access/microsoft-entra-private-access">Microsoft Entra Private Access</a>、<a href="https://www.microsoft.com/security/business/identity-access/microsoft-entra-internet-access">Microsoft Entra Internet Access</a>、SaaS セキュリティに特化した <a href="https://www.microsoft.com/security/business/siem-and-xdr/microsoft-defender-cloud-apps">Microsoft Defender for Cloud Apps</a>（CASB）を組み合わせた SSE ソリューションを提供します。このクラウドベースかつ ID 中心のネットワーク モデルは革新的なものです。条件付きアクセスと継続的アクセス評価 (CAE) をすべてのアプリやリソースに拡張し、オンプレミスやクラウド環境におけるセキュリティの隙間を解消します。</p><p><img src="/blog/azure-active-directory/top-50-features-of-2024/microsoft-security-service-edge.png" alt="図 3: ID 中心の Secure Web Gateway (SWG) で、インターネット、SaaS、Microsoft 365 アプリやリソースへのアクセスを保護します。 "></p><p><strong>4. Microsoft Entra External ID による外部 ID アクセスの管理</strong>: <a href="https://www.microsoft.com/security/business/identity-access/microsoft-entra-external-id?msockid=31a0906fdeb0658912808276df9c6461">Microsoft Entra External ID</a> は、開発者に優しい次世代のカスタマー ID アクセス管理 (CIAM) ソリューションです。パートナー、法人顧客、消費者向けアプリケーションの構築において、安全かつカスタマイズ可能な CIAM をシンプルに実現します。</p><p><img src="/blog/azure-active-directory/top-50-features-of-2024/microsoft-entra-external-id.png" alt="図 4: 外部 ID 向けに、安全で直感的かつスムーズなサインアップ・サインイン体験を設計可能です。"></p><p><strong>5. <a href="https://techcommunity.microsoft.com/blog/identity/face-check-is-now-generally-available/4175880">Face Check</a>: 高精度な ID 検証機能</strong>: Microsoft Entra Verified ID の初のプレミアム機能として、プライバシーを重視した顔認証機能 Face Check の一般提供が開始されました。ユーザーのリアルタイムの自撮り画像と Verified ID に登録された写真を照合することで、信頼性の高い本人確認を実現します。</p><p><img src="/blog/azure-active-directory/top-50-features-of-2024/face-check.png" alt="図 5: Face Check により、リアルタイムの自撮り画像と Verified ID 上の写真を照合し信頼性を強化します。"></p><h2 id="ゼロ-トラスト-アクセス制御の確立と-ID-の保護"><a href="#ゼロ-トラスト-アクセス制御の確立と-ID-の保護" class="headerlink" title="ゼロ トラスト アクセス制御の確立と ID の保護"></a>ゼロ トラスト アクセス制御の確立と ID の保護</h2><p><strong>6. Microsoft Entra ID Protection によるパスワードスプレー攻撃のリアルタイム検出と防御</strong>: <a href="https://learn.microsoft.com/entra/id-protection/overview-identity-protection">Microsoft Entra ID Protection</a> により、パスワード スプレー攻撃のリアルタイム検出と防御が可能となり、修復作業を数時間から数秒に短縮できます。</p><p><strong>7. Entra ID Protection の<a href="https://learn.microsoft.com/entra/id-protection/concept-identity-protection-risks">新しい検出機能</a></strong>: 異常な Microsoft Graph の使用、トークン窃取、攻撃者中間 (AitM) 攻撃に対する保護を強化するための新しい検出機能が追加されました。</p><p><strong>8. オンプレミスのパスワード変更によるリスクのリセット</strong>: オンプレミス側でパスワード変更を行うことで、ユーザー リスクをリセットできるようになりました。これによりハイブリッド環境のお客様は <a href="https://learn.microsoft.com/entra/id-protection/howto-identity-protection-remediate-unblock#allow-on-premises-password-reset-to-remediate-user-risks-preview">パスワードの修復</a> を必要とするリスクベースの条件付きアクセス ポリシーを適用できるようになりました。</p><p><strong>9. インサイダー脅威の検出と自動緩和の強化</strong>: 条件付きアクセスで<a href="https://learn.microsoft.com/entra/identity/conditional-access/policy-risk-based-insider-block">インサイダー リスク条件</a> を活用することで、インサイダー脅威の検出と自動緩和が強化されました。</p><p><strong>10. <a href="https://learn.microsoft.com/entra/id-protection/id-protection-dashboard">Entra ID Protection のダッシュボード</a></strong>: ダッシュボードでは、重要なメトリクス、視覚的な表示、セキュリティ体制を強化するための推奨事項が提供されます。</p><p><strong>11. 管理者ポータルへのアクセスに多要素認証 (MFA) を要求</strong>: Entra 管理センターなどの<a href="https://techcommunity.microsoft.com/blog/identity/mfa-enforcement-for-microsoft-entra-admin-center-sign-in-coming-soon/4230849">管理者ポータルにアクセス</a> する際に MFA を要求することで、アカウント侵害の試みを 99.2% 以上防ぐことができます。</p><p><strong>12. <a href="https://techcommunity.microsoft.com/blog/identity/act-now-turn-on-or-customize-microsoft-managed-conditional-access-policies/4078809">Microsoft マネージド条件付きアクセス ポリシー</a> の強化</strong>: Microsoft マネージド条件付きアクセス ポリシーは、お客様の使用パターンやリスク、既存のポリシーに基づいてリソースとデータをより強固に保護し、管理者の負担を軽減します。</p><p><strong>13. MFA 登録を 14 日間スキップする猶予期間の <a href="https://techcommunity.microsoft.com/blog/identity/update-to-security-defaults/4044868">終了</a></strong>: セキュリティ既定値群による MFA 登録のスキップ (14 日間の猶予期間) が廃止されます。MFA を直ちに有効にすることで ID に関するの攻撃の 99.2% 以上を防ぐことが可能なためです。</p><p><strong>14. Microsoft Entra ID での<a href="https://learn.microsoft.com/entra/identity/authentication/concept-authentication-external-method-provider">外部認証方法</a></strong>: Microsoft Entra ID の外部認証方法では、お好みの MFA ソリューションを使用しながら、条件付きアクセスや ID Protection などの機能を活用できます。</p><p><strong>15. Microsoft Entra Permissions Management と Microsoft Defender for Cloud の <a href="https://learn.microsoft.com/entra/permissions-management/permissions-management-for-defender-for-cloud">統合</a></strong>: Microsoft Entra Permissions Management と Microsoft Defender for Cloud（MDC）の統合により、他のクラウド リソースへのアクセスと権限に関する情報が統一されたインターフェースで提供されます。</p><p><strong>16. 新しい <a href="https://techcommunity.microsoft.com/blog/identity/introducing-new-and-upcoming-entra-recommendations-to-enhance-security-and-produ/3796390">Entra 推奨事項の追加</a></strong>: 「未使用のアプリケーションを削除」や「期限切れのアプリケーション資格情報を更新」など、アプリケーションの健全性とセキュリティを向上させるための新しい推奨事項が追加されました。</p><p><strong>17. 重要なアプリケーションへのアクセス前に <a href="https://techcommunity.microsoft.com/blog/identity/prompt-users-for-reauthentication-on-sensitive-apps-and-high-risk-actions-with-c/4062703">対話的な再認証を要求</a></strong>: 条件付きアクセスにより、重要なアプリケーションにアクセスしたり、機密性の高い操作を行ったりする前に、対話的な再認証を要求します。</p><p><strong>18. <a href="https://learn.microsoft.com/en-us/entra/verified-id/verifiable-credentials-configure-tenant-quick">Microsoft Entra Verified ID をあっという間に設定</a></strong>: 管理者が「開始する」ボタンを一度選択するだけで、設定ステップがいくつか省略され、Microsoft Entra Verified ID を速やかにセットアップ可能になりました。</p><h2 id="パスワードレス認証でフィッシング攻撃を無効化"><a href="#パスワードレス認証でフィッシング攻撃を無効化" class="headerlink" title="パスワードレス認証でフィッシング攻撃を無効化"></a>パスワードレス認証でフィッシング攻撃を無効化</h2><p><strong>19. Microsoft Authenticator のデバイスにバインドされたパスキー サポートによるフィッシング攻撃の無効化</strong>: iOS および Android 用の Microsoft Authenticator で、<a href="https://learn.microsoft.com/en-us/entra/identity/authentication/how-to-plan-prerequisites-phishing-resistant-passwordless-authentication">デバイスにバインドされたパスキー</a> を使用してフィッシング攻撃を無効化できます。</p><p><strong>20. Microsoft Account (MSA) でのパスワード削除と <a href="https://www.microsoft.com/en-us/security/blog/2024/05/02/microsoft-introduces-passkeys-for-consumer-accounts/">パスキー</a> 使用</strong>: Microsoft Account (MSA) においてパスワードを削除し、パスキーを使用する機能が追加されました。</p><p><strong>21. <a href="https://techcommunity.microsoft.com/blog/identity/the-latest-enhancements-in-microsoft-authenticator/4078807">Android でブローカー アプリを用いた Microsoft アプリでのパスキー (FIDO2) 認証</a> のサポート</strong>: FIDO2 セキュリティ キーまたはパスキーを使用して、Teams や Outlook などのアプリにサインインできるようになりました。</p><p><strong>22. ユーザーの代わりに FIDO2 セキュリティキー (パスキー) を <a href="https://techcommunity.microsoft.com/blog/identity/public-preview-microsoft-entra-id-fido2-provisioning-apis/4062699">管理者が構成</a></strong>: 管理者がユーザーの代わりに FIDO2 セキュリティ キー (パスキー) を構成することで、初日から安全でシームレスな認証が実現します。</p><h2 id="ID-環境の刷新"><a href="#ID-環境の刷新" class="headerlink" title="ID 環境の刷新"></a>ID 環境の刷新</h2><p><strong>23. <a href="https://learn.microsoft.com/en-us/entra/identity/multi-tenant-organizations/multi-tenant-organization-overview">Microsoft Entra ID のマルチテナント組織</a> を使用した安全なユーザーのコラボレーション</strong>: 複数のテナントにまたがるユーザーとの安全なやり取りが可能となり、ユーザーのプロビジョニングと管理が自動化されます。</p><p><strong>24. <a href="https://techcommunity.microsoft.com/blog/identity/move-to-cloud-authentication-with-the-ad-fs-migration-tool/4174841">AD FS 移行ツール</a> を使用したクラウド認証への移行</strong>: AD FS 移行ツールを使用して、移行可能なアプリケーションを特定し、その互換性を評価することができます。</p><p><strong>25. 外部 ID 用の <a href="https://learn.microsoft.com/en-us/entra/external-id/customers/concept-native-authentication">ネイティブ認証</a> を使用した魅力的な認証画面の構築</strong>: アプリケーションにシームレスに統合された、ユーザーの視覚に訴えかける魅力的な認証画面を簡単に構築できます。</p><p><strong>26. <a href="https://learn.microsoft.com/en-us/graph/templates/overview-bicep-templates-for-graph">Bicep テンプレート</a> による Microsoft Graph リソースの宣言的な IaaC 機能</strong>: Microsoft Entra ID グループやアプリケーションなど、テナントのインフラ情報を定義し、展開するために Bicep テンプレートを使用できます。</p><p><strong>27. ユーザーが自らアクセス要求を行うフロー</strong>: <a href="https://learn.microsoft.com/en-us/entra/id-governance/entitlement-management-request-behalf">従業員の代理で、管理者がリソースへのアクセスを要求する機能</a> が追加され、従業員がリソースへタイムリーにアクセスできるようになり、生産性向上を実現します。</p><p><strong>28. 人事データを活用したライフサイクル ワークフローの自動化</strong>: <a href="https://learn.microsoft.com/en-us/entra/id-governance/manage-workflow-custom-security-attribute">カスタム セキュリティ属性</a> に保存された機密人事データと他の属性を活用し、入社から異動、退職までの一連のシナリオを自動化するためのワークフローを定義します。</p><p><strong>29. Microsoft Entra でのアカウントの有効化、無効化、削除の簡素化</strong>: <a href="https://learn.microsoft.com/en-us/entra/id-governance/manage-workflow-on-premises">ライフサイクル ワークフロー</a> により、一定期間経過後のシームレスなオフボーディングを実現できます。</p><p><strong>30. ライフサイクル ワークフローの <a href="https://learn.microsoft.com/en-us/entra/id-governance/lifecycle-workflow-insights">動作状態の監視</a></strong>: ワークフロー、タスク、カテゴリーごとの処理データを表示して、ワークフローの動作状態を確認できるようになりました。</p><p><strong>31. サインイン ワークブックに対する重要な更新</strong>: Azure AD 認証ライブラリ (ADAL) から Microsoft 認証ライブラリ (MSAL) への移行を進めるための重要なツールとして <a href="https://jpazureid.github.io/blog/azure-active-directory/migrate-adal-apps-to-msal-with-enhanced-insights/">サインイン ワークブックが強化</a>されました。</p><p><strong>32. <a href="https://techcommunity.microsoft.com/blog/identity/introducing-the-microsoft-entra-powershell-module/4173546">Microsoft Entra PowerShell モジュール</a> の更新</strong>: Microsoft Entra 製品の管理と自動化をより簡単に行うため、高品質でシナリオ重視のツールとして Micorosft Entra PowerShell モジュールが提供されました。</p><p><strong>33. <a href="https://techcommunity.microsoft.com/blog/identity/microsoft-graph-activity-logs-is-now-generally-available/4094535">Microsoft Graph アクティビティ ログ</a> を活用したセキュリティ分析</strong>: テナント内のアクティビティを監視し、セキュリティ分析や脅威ハンティングが可能になりました。</p><p><strong>34. Mac デバイスの使い勝手と管理性をよりセキュアに</strong>: <a href="https://techcommunity.microsoft.com/blog/identity/platform-sso-for-macos-now-in-public-preview/4051574">プラットフォーム SSO</a> により、Mac デバイスの使用と管理がよりシームレスかつ安全に行えるようになりました。</p><p><strong>35. <a href="https://learn.microsoft.com/en-us/entra/identity/hybrid/cloud-sync/how-to-configure-entra-to-active-directory">Microsoft Entra ID ガバナンス</a> によるオンプレミス アプリケーションの管理</strong>: セキュリティ グループを Active Directory にプロビジョニングし、Microsoft Entra ID ガバナンスを使用してオンプレミス アプリケーション (Kerberos アプリケーション) の管理がより簡単になります。</p><p><strong>36. 動的ルールを使用した管理者ユーザーとグループの<a href="https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/admin-units-members-dynamic">効果的な管理</a></strong>: 動的ルールを使用して、管理者ユーザーやグループの管理を効率化します。</p><p><strong>37. <a href="https://learn.microsoft.com/en-us/entra/permissions-management/">Microsoft Entra Permissions Management</a> における PIM 対応グループの強化</strong>: Microsoft Entra Permissions Management において、PIM 対応グループのサポートが強化されました。</p><p><strong>38. <a href="https://learn.microsoft.com/en-us/entra/identity-platform/custom-extension-overview">カスタム認証拡張機能</a>による認証体験のカスタマイズ</strong>: 外部システムとの統合を通じて、認証体験をカスタマイズできるようになりました。</p><p><strong>39. ワークロード ID 認証の <a href="https://techcommunity.microsoft.com/blog/identity/microsoft-entra-resilience-update-workload-identity-authentication/4094704">耐障害性</a> 向上</strong>: ワークロード ID 認証の耐障害性が向上し、99.99% のサービスレベル保証が提供されます。</p><h1 id="製品の更新やテナントの健全性などに対する可視性の向上"><a href="#製品の更新やテナントの健全性などに対する可視性の向上" class="headerlink" title="製品の更新やテナントの健全性などに対する可視性の向上"></a>製品の更新やテナントの健全性などに対する可視性の向上</h1><p><strong>40. “<a href="https://aka.ms/entra/whatsnew">What’s new</a>“ 機能によるプロダクト更新の集中管理</strong>: Microsoft Entra 管理センターの “What’s new” 機能により、製品の更新情報、パブリックプレビュー、一般提供開始、廃止予定、変更通知などを集中管理できます。</p><p><img src="/blog/azure-active-directory/top-50-features-of-2024/microsoft-entra-product-updates.png" alt="図 6: Microsoft Entra 管理センターの「新着情報」セクションでは、Microsoft Entra 製品の最新の更新情報を一元的に確認できます。 "></p><p><strong>41. サインインの種類ごとに視覚的にトレンドと合計値を提供する正常状態の監視機能</strong>: さまざまなサインインの種類について、それらのトレンドと合計値を視覚的に表示し、認証処理の正常状態を簡単に調査できるようになりました。</p><p><img src="/blog/azure-active-directory/top-50-features-of-2024/health-monitoring.png" alt="図 7: Microsoft Entra ID は月間アクティブ ユーザーが 5,000 人以上の組織向けにテナント単位での SLA パフォーマンスを提供しています。"></p><p><strong>42. ライセンス利用状況に関する情報提供</strong>: <a href="https://techcommunity.microsoft.com/blog/identity/introducing-microsoft-entra-license-utilization-insights/3796393">Microsoft Entra のライセンス</a> を最大限活用いただけるよう、現在の使用状況に関する情報を得ることができ、さらにライセンス違反がないようにできます。</p><h2 id="連邦政府および規制業界の要件への準拠"><a href="#連邦政府および規制業界の要件への準拠" class="headerlink" title="連邦政府および規制業界の要件への準拠"></a>連邦政府および規制業界の要件への準拠</h2><p>以下は Microsoft Entra 証明書ベース認証 (CBA) に対して行われた<a href="https://techcommunity.microsoft.com/blog/identity/microsoft-entra-cba-enhancements/4286759">機能強化</a>です。</p><p><strong>43. 証明書失効リスト (CRL) の検証に対するフェイルセーフ</strong>: 証明書発行機関 (CA) に証明書失効リスト (CRL) がない場合、CBA を失敗させるようにすることで管理者がセキュリティを強化できます。</p><p><strong>44. 強化された PKI ベースの証明書機関 (CA) ストア</strong>: 以前まであったサイズ制限が撤廃され、各 CA のレベルで発行者ヒントもサポートされます。</p><p><strong>45. 条件付きアクセス ポリシーにおけるきめ細かい CBA の構成</strong>: ユーザー名、アフィニティ バインディング、ポリシー ルール、そして高度な CBA の構成が条件付きアクセスで <a href="https://techcommunity.microsoft.com/blog/identity/microsoft-entra-certificate-based-authentication-enhancements/1751778">サポートされました</a>。</p><p><strong>46. 証明書発行者と OID によるきめ細かいアクセス制御</strong>:  証明書の発行者またはポリシー オブジェクト識別子 (OID) のプロパティに基づいて特定のリソースへのアクセスを <a href="https://techcommunity.microsoft.com/blog/identity/introducing-more-granular-certificate-based-authentication-configuration-in-cond/2365668">許可</a> できます。</p><p><strong>47. <a href="https://techcommunity.microsoft.com/blog/identity/the-latest-enhancements-in-microsoft-authenticator/4078807">Microsoft Authenticator の FIPS 140 準拠</a></strong>: 連邦機関が大統領令 (EO) 14028 の要件を満たし、医療機関が電子処方箋 (EPCS) に対応できるよう支援します。</p><p><strong>48. 政府向け ID ガバナンスの機能追加</strong>: Microsoft Entra ID Governance が米国政府のコミュニティ クラウド (GCC)、GCC-High、および国防総省クラウド環境で連邦機関、州・地方政府、政府契約者向けに <a href="https://techcommunity.microsoft.com/blog/identity/microsoft-entra-id-governance-for-government/3575578">提供されています</a>。</p><h2 id="統合されたセキュア-アクセス-サービス-エッジ-SASE-と-ID-管理-IDM"><a href="#統合されたセキュア-アクセス-サービス-エッジ-SASE-と-ID-管理-IDM" class="headerlink" title="統合されたセキュア アクセス サービス エッジ (SASE) と ID 管理 (IDM)"></a>統合されたセキュア アクセス サービス エッジ (SASE) と ID 管理 (IDM)</h2><p><strong>49. <a href="https://techcommunity.microsoft.com/blog/identity/microsoft-partners-for-new-sase-ecosystem/4287444">SD-WAN およびインターネット プロバイダーとの連携</a></strong>: Microsoft は、主要な SD-WAN およびインターネット プロバイダーと提携し、セキュアなブランチ接続を実現しています。これにより、セキュリティ サービス エッジ (SSE) ソリューションを最先端のネットワーク接続で利用できるようなり、統一された SASE アーキテクチャへ移行しやすくしています。</p><p><strong>50. <a href="https://techcommunity.microsoft.com/blog/identity/microsoft-and-sap-work-together-to-transform-identity-for-sap-customers/2520430">SAP と Microsoft の連携</a></strong>: SAP は Microsoft と提携し、SAP Identity Management (IDM) の顧客に Microsoft Entra への移行を促しています。SAP IDM のサポート終了に伴い、包括的な ID およびアクセス ガバナンス フレームワークの統合強化が実現します。</p><p>毎年様々なフィードバックとコラボレーションを賜りありがとうございます。継続的に皆様からの声に耳を傾け、改善していく企業文化を育むことにより、セキュリティが単なる機能ではなく、すべての基盤となる未来を築いてまいります。今後のアップデートにもご期待ください！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 夏木 です。&lt;/p&gt;
&lt;p&gt;本記事は、2025 年 1 月 7 日に米国の Microsoft Entra (Azure AD) Blog で公開された &lt;a href=&quot;https://techcommunit</summary>
      
    
    
    
    
    <category term="Microsoft Entra" scheme="https://jpazureid.github.io/blog/tags/Microsoft-Entra/"/>
    
  </entry>
  
  <entry>
    <title>MSOnline および AzureAD PowerShell の廃止 - 2025 年版</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/msonline-and-azuread-powershell-retirement/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/msonline-and-azuread-powershell-retirement/</id>
    <published>2025-01-29T00:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.072Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 名取 です。</p><p>本記事は、2025 年 1 月 14 日に米国の Microsoft Entra Blog で公開された <a href="https://techcommunity.microsoft.com/blog/identity/action-required-msonline-and-azuread-powershell-retirement---2025-info-and-resou/4364991">Action required: MSOnline and AzureAD PowerShell retirement - 2025 info and resources</a> を意訳したものになります。ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><h2 id="MSOnline-PowerShell-の廃止は-2025-年-4-月に始まりますのでスケジュールと必要な対応について確認ください。"><a href="#MSOnline-PowerShell-の廃止は-2025-年-4-月に始まりますのでスケジュールと必要な対応について確認ください。" class="headerlink" title="MSOnline PowerShell の廃止は 2025 年 4 月に始まりますのでスケジュールと必要な対応について確認ください。"></a>MSOnline PowerShell の廃止は 2025 年 4 月に始まりますのでスケジュールと必要な対応について確認ください。</h2><p>Microsoft Entra の <a href="https://entra.microsoft.com/#view/Microsoft_AAD_IAM/ChangeManagementHubList.ReactView">新着情報</a> や以前の <a href="https://jpazureid.github.io/blog/azure-active-directory/important-update-deprecation-of-azure-ad-powershell-and-msonline/">ブログ</a> 更新でお知らせいたしましたとおり、MSOnline と Microsoft AzureAD PowerShell モジュールは 2024 年 3 月 30 日に非推奨となりました。MSOnline PowerShell モジュールの廃止は 2025 年 4 月初旬に始まり、2025 年 5 月下旬に完了します。この日程以降の影響を避けるために、MSOnline の使用を <a href="https://learn.microsoft.com/powershell/microsoftgraph/installation?view=graph-powershell-1.0">Microsoft Graph PowerShell SDK</a> または現在プレビュー中の <a href="https://learn.microsoft.com/powershell/entra-powershell/installation?view=entra-powershell&tabs=powershell&pivots=windows">Microsoft Entra PowerShell</a> に移行する必要があります。</p><h2 id="主なポイント"><a href="#主なポイント" class="headerlink" title="主なポイント"></a>主なポイント</h2><ul><li>MSOnline PowerShell は 2025 年 4 月初旬から 5 月下旬の間に廃止され、使用できなくなります。</li><li>AzureAD PowerShell は 2025 年 3 月 30 日以降サポートされなくなりますが、廃止は 2025 年 7 月 1 日以降に行われます。サポート終了と廃止時期に差があるのは、MSOnline PowerShell の移行を完了するための時間をお客様に確保いただくためです。</li><li>MSOnline PowerShell の廃止に備えるため、2025 年 1 月から 3 月の間にすべてのテナントで繰り返し一時的な停止テストが実施されます。</li></ul><p>MSOnline の使用を <a href="https://learn.microsoft.com/powershell/microsoftgraph/installation?view=graph-powershell-1.0">Microsoft Graph PowerShell SDK</a> または <a href="https://learn.microsoft.com/powershell/entra-powershell/installation?view=entra-powershell&tabs=powershell&pivots=windows">Microsoft Entra PowerShell</a> にできるだけ早く移行することを計画ください。MSOnline PowerShell からの移行が完了した後は、AzureAD PowerShell からの移行に取り組むようご対応ください。</p><h2 id="タイムラインの概要"><a href="#タイムラインの概要" class="headerlink" title="タイムラインの概要"></a>タイムラインの概要</h2><table><thead><tr><th>モジュール</th><th>サポート終了</th><th>一時停止テスト</th><th>廃止</th></tr></thead><tbody><tr><td>MSOnline</td><td>2025 年 3 月 30 日</td><td>2025 年 1 月 20 日 ～ 2025 年 3 月 30 日</td><td>2025 年 4 月上旬 ～ 2025 年 5 月下旬</td></tr><tr><td>AzureAD</td><td>2025 年 3 月 30 日</td><td>該当なし</td><td>2025 年 7 月 1 日以降</td></tr></tbody></table><h2 id="MSOnline-PowerShell"><a href="#MSOnline-PowerShell" class="headerlink" title="MSOnline PowerShell"></a>MSOnline PowerShell</h2><p>セキュリティへの継続的な取り組みの一環として、MSOnline PowerShell の廃止が先行して 2025 年 4 月初旬から 5 月下旬の間に行われます。廃止されると、MSOnline PowerShell は使用できなくなります。</p><p>この廃止に備えるため、2025 年 1 月から 3 月の間に繰り返し一時的にサービス停止が実施されます。これらの一時停止中は、MSOnline のコマンドレットの使用が禁止されている旨のメッセージが表示され、コマンドレットを使用できなくなります。これらの一時停止の予定は以下の通りです:</p><ul><li>2025 年 1 月 20 日から 2 月 28 日の間に、各テナントで 3 ～ 8 時間の一時停止が少なくとも 2 回発生します。これらは異なる時間帯に行われます。</li><li>2025 年 3 月中には、すべてのテナントが MSOnline PowerShell の廃止準備のために、より長時間にわたり一時停止が生じます。</li></ul><p>これらの一時停止の後は機能が復旧し、MSOnline PowerShell の移行に引き続き取り組んでいただけます。</p><h2 id="AzureAD-PowerShell"><a href="#AzureAD-PowerShell" class="headerlink" title="AzureAD PowerShell"></a>AzureAD PowerShell</h2><p>AzureAD PowerShell の廃止に関する通知は 2025 年 3 月 30 日に終了します。この日以降、メンテナンスやサポートは行われません。お客様が MSOnline からの移行に集中できるようにするため、AzureAD PowerShell の廃止は 2025 年第 3 四半期を目標としています。</p><h2 id="今後も最新情報にお気を付けください"><a href="#今後も最新情報にお気を付けください" class="headerlink" title="今後も最新情報にお気を付けください"></a>今後も最新情報にお気を付けください</h2><p>このブログ記事は 2025 年を通じて定期的に更新され、これらの廃止に関する最新情報をお届けする予定です。お客様テナントに影響が生じる場合は、可能な限り、<a href="https://learn.microsoft.com/microsoft-365/admin/manage/message-center?view=o365-worldwide">Microsoft 365 メッセージセンター</a> や Microsoft Entra 管理センターの通知を通じて情報をお知らせします。</p><h2 id="テナントでの-MSOnline-と-AzureAD-PowerShell-モジュールの使用を確認する"><a href="#テナントでの-MSOnline-と-AzureAD-PowerShell-モジュールの使用を確認する" class="headerlink" title="テナントでの MSOnline と AzureAD PowerShell モジュールの使用を確認する"></a>テナントでの MSOnline と AzureAD PowerShell モジュールの使用を確認する</h2><h3 id="サインインログ"><a href="#サインインログ" class="headerlink" title="サインインログ"></a>サインインログ</h3><p>Microsoft Entra のサインイン ログを使用して、MSOnline および AzureAD PowerShell からのログインを識別できます。これらのログ イベントでは、PowerShell セッションのクライアントとユーザーに関する情報を確認可能です。以下が手順になります。</p><ol><li>Microsoft Entra 管理センターに移動します。</li><li>[ID] を展開し、[さらに表示] をクリックします。</li><li>[監視と正常性]で、[サインイン ログ]を選択します。</li><li>[ユーザーのサインイン (非対話型)] タブを選択し、[フィルターの追加] をクリックしてフィル度の選択画面を起動します。</li><li>[アプリケーション］を選択し、［適用］をクリックします。</li><li>[アプリケーション] の入力項目に <strong>Azure Active Directory PowerShell</strong> と入力し、[適用] をクリックします。</li><li>[ユーザーのサインイン (対話型)] のログについても、以下の手順を繰り返します。</li></ol><p>MSOnline PowerShell と AzureAD PowerShell の両方のサインイン イベントが、アプリケーション名 <strong>Azure Active Directory PowerShell</strong> で表示されます。 </p><h3 id="Entra-の推奨事項"><a href="#Entra-の推奨事項" class="headerlink" title="Entra の推奨事項"></a>Entra の推奨事項</h3><p>AzureAD PowerShell の利用状況についての追加情報は、<a href="https://learn.microsoft.com/entra/identity/monitoring-health/recommendation-migrate-to-microsoft-graph-api">Microsoft Entra の推奨事項</a> にある「<strong>Azure AD Graph API の廃止に伴うサービス プリンシパルの Microsoft Graph への移行</strong>」に記載されています。この推奨事項には、Microsoft Entra 管理センターの [<strong>ID</strong>] &gt; [<strong>概要</strong>] &gt; [<strong>推奨事項</strong>] からアクセスできます。</p><p>Kristopher Bash<br>Product Manager, Microsoft Graph<br><a href="https://www.linkedin.com/in/kristopher-bash-aa3224133/">LinkedIn</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 名取 です。&lt;/p&gt;
&lt;p&gt;本記事は、2025 年 1 月 14 日に米国の Microsoft Entra Blog で公開された &lt;a href=&quot;https://techcommunity.microsof</summary>
      
    
    
    
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
    <category term="Microsoft Entra" scheme="https://jpazureid.github.io/blog/tags/Microsoft-Entra/"/>
    
  </entry>
  
  <entry>
    <title>Microsoft 365 管理センターにおける組織のメッセージの利用方法</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/introducing-organizational-message/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/introducing-organizational-message/</id>
    <published>2025-01-17T00:00:00.000Z</published>
    <updated>2025-04-12T15:36:20.924Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは！ Azure ID チームの小出です。</p><p>本記事は、 2024 年 5 月 3 日に公開された <a href="https://techcommunity.microsoft.com/blog/microsoft_365blog/introducing-organizational-messages-preview-in-the-microsoft-365-admin-center/4123890">Introducing organizational messages (preview) in the Microsoft 365 admin center</a>  と、2024 年 11 月 19 日に公開された <a href="https://techcommunity.microsoft.com/blog/microsoft_365blog/announcing-general-availability-of-organizational-messages-in-the-microsoft-365-/4303367">Announcing general availability of organizational messages in the Microsoft 365 admin center</a>  をもとに、日本語でわかりやすくおまとめしなおした記事です。</p><p>今回は、Microsoft 365 管理センター上に新しくできた「組織のメッセージ」機能について、上記ブログと公開情報、事例をもとに機能について紹介します。</p><h2 id="組織のメッセージとは？"><a href="#組織のメッセージとは？" class="headerlink" title="組織のメッセージとは？"></a>組織のメッセージとは？</h2><p>お客様の環境では、たとえば「自社サービスに障害が起きて業務アプリが開けない」といった障害発生時や、「新しい社員がチームに入社した」といったときに、どのようにユーザーに通知していますでしょうか。一般的には、 Teams のチャネルに投稿を行う、社内ポータルのトップに通知を出す、E メールを送付して共有を図るなどの方法を利用されているお客様が多いかと思います。</p><p>組織のメッセージは、事前に作成したメッセージを、ユーザーが利用している Windows デバイスや Microsoft のサービスなどに通知として配信する機能です。事前にどのようなメッセージを誰に配信するかを決めることができるので、全社もしくは特定の部署のユーザーなど、必要な範囲のユーザーに対してのみメッセージを配信することができます。メッセージの内容は、事前に定義されたテンプレートの中から選ぶことができ、そのメッセージをどこに通知するかを指定することも可能ですので、要件にあった形で通知を行うことができます (特定のライセンスをお持ちのお客様は Premium 機能を利用できます。たとえば、テンプレートからの作成ではなく、内容を完全にカスタマイズしたメッセージを作成することも可能です)。</p><p>主な機能は下記です。</p><ul><li><strong>一元管理</strong>: メッセージの使用状況のレポートや展開ガイドなど、さまざまな管理機能が用意されており、さらにテンプレートに基づいてて作成した組織メッセージを Microsoft 365 管理センター内の 1 つの場所ですべて表示できます。 </li><li><strong>メッセージの作成</strong>: 組織内でメッセージ ライター ロールを持つユーザーは、組織のメッセージの目的に合わせて、カスタマイズされたメッセージを作成したり、テンプレート ベースのメッセージ (メッセージ テキストまたは宛先 URL) をカスタマイズしたりできます。 </li><li><strong>通知を表示する製品の場所</strong>: Windows 10 と 11 の複数の場所、または Teams アプリの中から選択できます。 </li><li><strong>メッセージのスケジュール設定と緊急メッセージ</strong>: ユーザーに配信するメッセージを特定の日付の範囲内にスケジュールすることが可能です。Windows 10 および 11 の一部の画面に対しては緊急配信を行うことも可能です。</li><li><strong>柔軟なターゲティング</strong>: 既存のユーザー グループや、部署や場所などのより高度な属性を使用して、メッセージを適切な受信者に絞り込むことができます。 </li><li><strong>承認ワークフロー</strong>: テンプレートを利用しないカスタム メッセージを作成する場合、誤った配信が行われないよう必ず承認が必要です。組織のメッセージ承認者ロールを持つユーザーは、カスタム メッセージが送信される前にレビューおよび承認が可能です。 </li><li><strong>メッセージ アクティビティ レポート</strong>: ユーザーにメッセージが表示されたか、ユーザーがメッセージをクリックしたかどうかなどの詳細を確認することができます。</li></ul><p>Teams のチャネル、グループ チャットや E メールなどの既存の通知の仕組みも引き続き利用いただいたうえで組織のメッセージを活用いただくと、より迅速に多くのユーザーにメッセージを共有することが可能です。詳細について下記おまとめしておりますので、ぜひ活用ください。</p><h2 id="メッセージの種類"><a href="#メッセージの種類" class="headerlink" title="メッセージの種類"></a>メッセージの種類</h2><p>組織のメッセージには、大きく分けて「通常のメッセージ」と「緊急のメッセージ」の2種類があります。どちらも基本的な機能（メッセージの内容や通知の種類を決めて通知を行う部分）については同じですが、下記のような違いがあります。文字どおり、ユーザーに可能な限り迅速に配信を行いたいような緊急時には緊急メッセージを利用し、急を要さない通知のシナリオにおいては通常のメッセージを利用します。</p><table><thead><tr><th></th><th>通常のメッセージ</th><th>緊急のメッセージ</th></tr></thead><tbody><tr><td>メッセージをどのように配信するか</td><td>デバイスからのプル型 (デバイス側から問い合わせがあったときに配信する)</td><td>サービスからのプッシュ型 (サービス側から出来る限りデバイスへ配信を行うように働きかける)</td></tr><tr><td>メッセージの配信頻度</td><td>配信頻度を週に 1 度など決めることができる</td><td>1 回きりの緊急配信のため頻度は指定できない</td></tr></tbody></table><h2 id="Premium-機能でできること"><a href="#Premium-機能でできること" class="headerlink" title="Premium 機能でできること"></a>Premium 機能でできること</h2><p>組織のメッセージ機能では、お持ちのライセンスによって利用できる機能に差異があります。ライセンス要件や Premium 機能については <a href="https://learn.microsoft.com/ja-jp/microsoft-365/admin/misc/organizational-messages-microsoft-365?view=o365-worldwide#premium-features">Microsoft 365 管理センター内の組織のメッセージ</a> の公開情報にて案内されていますが、具体的には下記いずれかのライセンスが必要です。</p><ul><li>Microsoft 365 E3-E5 ライセンス</li><li>Office 365 E3-E5 ライセンス</li><li>Windows 365 E3-E5 ライセンス</li></ul><p>Office 365 E3/E5 ライセンスでは Teams 宛てに通知するシナリオでのカスタム メッセージを、Windows 365 E3/E5 ライセンスでは Windows OS の通知領域やタスクバーなど Windows 宛てに通知するシナリオでのカスタム メッセージを作成することが可能です。ライセンスをどちらか片方のみお持ちの場合、Premium 機能の利用可否は、「どこに通知するか」の選択によります。Microsoft 365 E3/E5 をお持ちであれば、どの通知先を選択しても Premium 機能は利用可能です。</p><p>なお、現時点で利用できる Premium 機能は下記 2 つです。</p><p><strong>1. カスタム メッセージ</strong></p><p>テンプレートから通知を作成するのではなく、完全にカスタマイズされたメッセージを作成することができます。ライセンス要件を満たしておらず Premium 機能が利用できない場合には、既存のテンプレートから作成するような形になります。具体的には、Premium ライセンスがない場合は下記画面の「Copilot」や「Communication」などをクリックして作成することが可能です。タイトルやメッセージの内容は変更することはできませんが、URL リンクやアイコンは変更可能です。Premium ライセンスがあれば、下記 「Create your own」をクリックすることができるので、カスタマイズされたメッセージを作成することができます。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message1.png"></p><p><strong>2. 通知先となるターゲットの指定</strong></p><p>既定では、指定したグループに対して通知が行われます。グループの指定は以下のメッセージの受信者の設定で行うことができます。Premium 機能が利用できない場合、Groups 以外は指定できませんが、ライセンスがあれば他に Companies, Departments, Locations など、グループ以外の属性で受信者を指定できるようになります。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message2.png"></p><h2 id="組織のメッセージ機能を触ってみよう！"><a href="#組織のメッセージ機能を触ってみよう！" class="headerlink" title="組織のメッセージ機能を触ってみよう！"></a>組織のメッセージ機能を触ってみよう！</h2><p>組織のメッセージ機能は、Microsoft 365 管理センターで利用することができます。通常のメッセージを作成する手順について紹介します。まず、Microsoft 365 管理センターにアクセスし、レポート内の組織のメッセージをクリックします。下記のような画面が表示されます。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message3.png"></p><p>通常のメッセージを作成したい場合、Create a message をクリックします。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message4.png"></p><p>次の画面は、どういう目的で組織のメッセージを利用したいのかを指定します。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message5.png"></p><p>次の画面では、画面のどこにメッセージを表示させたいか、表示場所を指定します。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message6.png"></p><p>テンプレートを利用するか、カスタム メッセージを利用するかを指定します。テンプレートの場合、利用できるテンプレートが複数ある場合もあるため、目的に一番近いテンプレートを指定します。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message7.png"></p><p>テンプレートを利用する場合、さらに詳細について選択することができるので、どのようなメッセージを通知したいのか指定します。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message8.png"></p><p>通知をクリックしたときにどの画面に遷移するのか URL を指定したり、通知のロゴを指定したりします。カスタム メッセージの場合は、メッセージのタイトルや内容をこの画面で指定することができます。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message9.png"></p><p>誰にそのメッセージを送付したいのか指定します。この画面で指定するのは、通知を受信したいユーザーが含まれるユーザー グループです。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message10.png"></p><p>通常メッセージについてはスケジュールを次の画面で指定します。開始日および終了日や、どのくらいの頻度で通知を繰り返したいかを指定します。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message11.png"></p><p>これらの設定が完了すると、レビュー画面が表示されるので、確認のうえメッセージを作成すれば完了です。</p><h2 id="よくある質問"><a href="#よくある質問" class="headerlink" title="よくある質問"></a>よくある質問</h2><h3 id="Q-前提条件となる-Intune-ポリシー作成時のグループと、メッセージ作成時の受信者グループの違いが分かりません。どのようなグループを指定すればよいのでしょうか。"><a href="#Q-前提条件となる-Intune-ポリシー作成時のグループと、メッセージ作成時の受信者グループの違いが分かりません。どのようなグループを指定すればよいのでしょうか。" class="headerlink" title="Q. 前提条件となる Intune ポリシー作成時のグループと、メッセージ作成時の受信者グループの違いが分かりません。どのようなグループを指定すればよいのでしょうか。"></a>Q. 前提条件となる Intune ポリシー作成時のグループと、メッセージ作成時の受信者グループの違いが分かりません。どのようなグループを指定すればよいのでしょうか。</h3><p>A. Intune ポリシー作成時の割り当てグループは、メッセージを受信できるデバイスをまとめるグループです。一方、組織のメッセージの受信者はユーザー単位で管理されています。このため、メッセージ作成時の対象として選択するグループにはユーザーが所属している必要があります。Intune 側のポリシーを割り当てるグループはデバイスを含んだグループを、メッセージ作成時の受信者設定ではメッセージを受信したいユーザーが含まれるグループを指定ください。</p><h3 id="Q-組織のメッセージを作成するときに、承認制になるパターンとならないパターンがあります。違いは何ですか。"><a href="#Q-組織のメッセージを作成するときに、承認制になるパターンとならないパターンがあります。違いは何ですか。" class="headerlink" title="Q. 組織のメッセージを作成するときに、承認制になるパターンとならないパターンがあります。違いは何ですか。"></a>Q. 組織のメッセージを作成するときに、承認制になるパターンとならないパターンがあります。違いは何ですか。</h3><p>A. Premium 機能で利用可能なカスタマイズ メッセージの場合は承認が必要です。カスタマイズ メッセージでは、管理者が自由に指定したメッセージがユーザーに一括通知されることとなります。誤った内容・不適切な内容をユーザーに広く通知することがないよう、ダブルチェックとして承認が必要です。一方、既定で用意されているテンプレートを利用する場合には承認は不要です。このシナリオの場合、通知されるメッセージ自体はすでに既定で指定されているため、管理者の一任でメッセージを作成および配送できます。</p><h3 id="Q-通常のメッセージと緊急のメッセージでは、プッシュ型およびプル型の配信方法のほかに、どのような違いがありますか？"><a href="#Q-通常のメッセージと緊急のメッセージでは、プッシュ型およびプル型の配信方法のほかに、どのような違いがありますか？" class="headerlink" title="Q. 通常のメッセージと緊急のメッセージでは、プッシュ型およびプル型の配信方法のほかに、どのような違いがありますか？"></a>Q. 通常のメッセージと緊急のメッセージでは、プッシュ型およびプル型の配信方法のほかに、どのような違いがありますか？</h3><p>A. 通常のメッセージでは、どのような頻度でメッセージを配信したいかを指定することが可能です。1週間に 1 回など、定期的に配信することが可能です。一方、緊急メッセージはユーザーに急いで情報を発信したいときに使うものになるため、配信は 1 度きりとなり、繰り返しの設定や定期配信はできません。</p><h3 id="Q-Premium-機能の前提となるライセンスを持っているのにグレーアウトしていて利用できません。どうしたらいいですか。"><a href="#Q-Premium-機能の前提となるライセンスを持っているのにグレーアウトしていて利用できません。どうしたらいいですか。" class="headerlink" title="Q. Premium 機能の前提となるライセンスを持っているのにグレーアウトしていて利用できません。どうしたらいいですか。"></a>Q. Premium 機能の前提となるライセンスを持っているのにグレーアウトしていて利用できません。どうしたらいいですか。</h3><p>A. 事象発生テナントからお問い合わせを起票ください。その際、お持ちのライセンス情報についても記載いただけますとスムーズに対応が可能です。</p><h3 id="Q-メッセージを作成し-Active-になりましたが、誰がメッセージを見たのかをログなどから確認することはできますか？"><a href="#Q-メッセージを作成し-Active-になりましたが、誰がメッセージを見たのかをログなどから確認することはできますか？" class="headerlink" title="Q. メッセージを作成し Active になりましたが、誰がメッセージを見たのかをログなどから確認することはできますか？"></a>Q. メッセージを作成し Active になりましたが、誰がメッセージを見たのかをログなどから確認することはできますか？</h3><p>A. はい、できます。組織のメッセージ画面にある Review Activity をクリックすると、アクティビティ情報を取得することが可能です。各項目の説明は以下の通りです。</p><ul><li>Messages seen: ユーザーの端末にメッセージが配信され、実際にデバイスに表示された数が表示されています。</li><li>Clicks: ユーザーがその通知されたメッセージをクリックした回数が表示されています。</li><li>Clickthrough Rate: メッセージが表示された回数のうち、クリックされた回数の比率を表示しています。</li></ul><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message12.png"></p><p>画面上の下部分を確認すると、以下のようにメッセージごとの回数および比率を確認することも可能です。</p><p><img src="/blog/azure-active-directory/introducing-organizational-message/introducing-organizational-message13.png"></p><p>上記記事を参考に、ぜひ組織のメッセージ機能をご利用ください！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは！ Azure ID チームの小出です。&lt;/p&gt;
&lt;p&gt;本記事は、 2024 年 5 月 3 日に公開された &lt;a href=&quot;https://techcommunity.microsoft.com/blog/microsoft_365blog/introduci</summary>
      
    
    
    
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>ゲスト ユーザーのガバナンスに関する更新情報と請求に関するガイダンス</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/updates-and-billing-guidance-for-guest-governance/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/updates-and-billing-guidance-for-guest-governance/</id>
    <published>2025-01-05T01:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.305Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 高田 です。</p><p>本記事は、2024 年 12 月 20 日に米国の Microsoft Entra Blog で公開された <a href="https://techcommunity.microsoft.com/blog/identity/updates-and-billing-guidance-for-guest-governance/4164498">Updates and billing guidance for guest governance</a> を意訳したものになります。ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><h2 id="ゲスト向けの-Microsoft-Entra-ID-Governance-機能の-GA-時期と請求の詳細に関する重要な更新情報"><a href="#ゲスト向けの-Microsoft-Entra-ID-Governance-機能の-GA-時期と請求の詳細に関する重要な更新情報" class="headerlink" title="ゲスト向けの Microsoft Entra ID Governance 機能の GA 時期と請求の詳細に関する重要な更新情報"></a>ゲスト向けの Microsoft Entra ID Governance 機能の GA 時期と請求の詳細に関する重要な更新情報</h2><p>本サイトでは、Microsoft Entra ID <a href="https://jpazureid.github.io/blog/azure-active-directory/Microsoft-Entra-ID-Governance-licensing-for-business-guests/">Governance のライセンス</a> に関して <a href="https://jpazureid.github.io/blog/azure-active-directory/introducing-entra-id-governance/">以前にブログ記事</a> を公開しましたが、それに続いて、本日はゲスト用 Microsoft Entra ID Governance の追加機能 (アドオン) について、その GA 時期と請求の最新情報をお届けします。</p><h2 id="GA-時期に関する最新情報"><a href="#GA-時期に関する最新情報" class="headerlink" title="GA 時期に関する最新情報"></a>GA 時期に関する最新情報</h2><p>この度、ゲスト用 ID Governance アドオンの一般提供 (GA) が 2025 年の第 2 四半期に予定されていることをお知らせします。このタイムラインに沿うことで、すべてのお客様にスムーズでシームレスに機能を展開できると期待しています。</p><h2 id="請求に関する情報"><a href="#請求に関する情報" class="headerlink" title="請求に関する情報"></a>請求に関する情報</h2><p>以前、ゲスト用の ID Governance 機能は、機能の対象となった ID ごとに月額 0.75 ドルで請求されることをお知らせしました。 請求についてより明確な情報をお届けするため、さらにいくつかの重要なポイントをお伝えしたいと思います。</p><ul><li>Microsoft Entra ID Governance の範囲内の機能のみが、ゲスト向け ID Governance アドオンで 0.75 ドルとして請求されます。P2 ライセンスに含まれるガバナンス機能は P2 の範囲内で請求され、0.75 ドルとしては課金されません。製品別の機能の一覧については、Microsoft Entra ID Governance のライセンスに関する基本情報である <a href="https://learn.microsoft.com/entra/id-governance/licensing-fundamentals?branch=main">Microsoft Entra ID Governance</a> のページを参照ください。</li><li>UserType が Guest として設定されているユーザーのみが請求対象となります。</li><li>請求は実際のサービスの利用有無に基づいており、毎月の状況に応じて課金されます。ある月にガバナンスの操作が実行されたゲスト ユーザー ID が 1 つある場合、その月にそのユーザーに対して実行されたガバナンス操作の回数には関係なく、毎月 0.75 ドルの料金のみが発生します。</li></ul><h2 id="具体例"><a href="#具体例" class="headerlink" title="具体例"></a>具体例</h2><h3 id="シナリオ-1-アクセス-パッケージの割り当ての自動化"><a href="#シナリオ-1-アクセス-パッケージの割り当ての自動化" class="headerlink" title="シナリオ 1: アクセス パッケージの割り当ての自動化"></a>シナリオ 1: アクセス パッケージの割り当ての自動化</h3><p><strong>3 月:</strong></p><ul><li>Contoso 社は、アクセス パッケージを 500 人のゲスト ユーザーに割り当てる自動割り当てポリシーを作成しました。</li><li>Contoso 社の IT 部門は、別の 500 人のゲスト ユーザーに対してゲスト変換 API を実行しました。</li><li><strong>請求:</strong> 3 月については、Contoso 社は 750 ドルを請求されます。これは、自動割り当てポリシーの 375 ドル (500 ユーザー x 0.75 ドル) とゲスト変換 API の 375 ドル (500 ユーザー x 0.75 ドル) が含まれるためです。</li></ul><p><strong>4 月:</strong></p><ul><li>3 月にアクセス パッケージが自動割り当てられた 500 人のゲスト ユーザーには割り当てが維持されましたが、4 月にはこれらのユーザーに対して明示的なガバナンス操作が実行されなかったとします。この場合、請求はなされません。さらに、Contoso 社の IT 部門は 100 人のゲストに対して非アクティブかどうかを確認するアクセス レビューを実行しました。</li><li><strong>請求:</strong> 4 月については、Contoso 社は非アクティブかどうかを確認するアクセス レビューに対して 75 ドル (100 ユーザー x 0.75 ドル) を請求されます。</li></ul><h3 id="シナリオ-2-ライフサイクル-ワークフローと非アクティブなユーザーに対するアクセス-レビュー"><a href="#シナリオ-2-ライフサイクル-ワークフローと非アクティブなユーザーに対するアクセス-レビュー" class="headerlink" title="シナリオ 2: ライフサイクル ワークフローと非アクティブなユーザーに対するアクセス レビュー"></a>シナリオ 2: ライフサイクル ワークフローと非アクティブなユーザーに対するアクセス レビュー</h3><p><strong>3 月:</strong></p><ul><li>Fabrikam 社は、300 人のゲスト ユーザーに対してライフサイクル ワークフローを実行しました。</li><li>また、上記と同じゲストのうち 100 人に対して非アクティブなユーザーかを判別するアクセス レビューを実行し、加えて 200 人の別のゲストを対象にアクセス レビューを実行しました。</li><li><strong>請求:</strong> 3 月の場合、Fabrikam 社は 375 ドル請求されます。これには、ライフサイクル ワークフローの 225 ドル (300 ユーザー x 0.75 ドル) とアクセス レビューの 150 ドル (200 ユーザー x 0.75 ドル) が含まれます。 ゲスト ユーザーのうち 100 人はすでにライフサイクル ワークフローの追加料金が発生済みであること、さらにゲスト ユーザーあたりの月額料金の上限は 0.75 ドルであることから、これら 100 人のゲストに対しては非アクティブなユーザー レビューに対する追加料金は発生しません。</li></ul><p><strong>4 月:</strong> </p><ul><li>3 月にアクセス レビューが実行された 200 人のゲスト ユーザー (2 番目のグループ) のうち、150 人のゲストに対しアプリへのアクセスを許可する自動割り当てアクセス パッケージが割り当てられ、さらにこの 150 人のゲストに対し、3 月に実行したものと同じ非アクティブなユーザーのアクセス レビューを 4 月にも繰り返しました。</li><li><strong>課金:</strong> 4 月の場合、Fabrikam は 112.50 ドル (150 ユーザー x 0.75 ドル) を請求されます。これらの 150 人のゲストは既に 4 月にアクセス レビューに関して課金されているため、アクセス パッケージの自動割り当てアクションに関して二重に課金されることはありません。</li></ul><h2 id="今後の変更に対する備え"><a href="#今後の変更に対する備え" class="headerlink" title="今後の変更に対する備え"></a>今後の変更に対する備え</h2><p>今後の変更に備えるために、次のような <strong>ゲストが関与する可能性のある</strong> ID Governance の機能を確認することをお勧めします。 </p><ul><li><a href="https://learn.microsoft.com/entra/id-governance/entitlement-management-external-users">エンタイトルメント管理</a> でのポリシーの自動割り当て</li><li>カスタム拡張機能、Verified ID、またはライフサイクル ワークフローを使用したエンタイトルメント管理ポリシー</li><li>ユーザーとグループの所属関係、非アクティブなユーザー、またはグループの PIM に関する <a href="https://learn.microsoft.com/entra/id-governance/manage-guest-access-with-access-reviews">アクセス レビュー</a></li></ul><p>また、これらのアクティビティに関してすべて <a href="https://learn.microsoft.com/entra/identity/users/clean-up-stale-guest-accounts">監査ログ</a> を確認し、ガバナンス操作が実行されたゲスト ユーザーを確認することをお勧めします。</p><p>ゲスト向け ID Governance アドオンのリリースが近づくにあたり、今回お届けした情報によって、よりお客様の理解が明確になればと考えております。パブリック プレビュー期間中は課金がまだ行われておりませんので、ゲスト向けの ID Governance 機能をぜひ無料でお試しください: <a href="https://aka.ms/IDGovernanceGuests">https://aka.ms/IDGovernanceGuests</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 高田 です。&lt;/p&gt;
&lt;p&gt;本記事は、2024 年 12 月 20 日に米国の Microsoft Entra Blog で公開された &lt;a href=&quot;https://techcommunity.microso</summary>
      
    
    
    
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
    <category term="Microsoft Entra" scheme="https://jpazureid.github.io/blog/tags/Microsoft-Entra/"/>
    
  </entry>
  
  <entry>
    <title>多要素認証 (MFA) のリセット手順 - 2025 年版</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/mfa-reset-2025/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/mfa-reset-2025/</id>
    <published>2025-01-05T00:00:00.000Z</published>
    <updated>2025-04-12T15:36:20.968Z</updated>
    
    <content type="html"><![CDATA[<div class="alert is-info"><p class="alert-title">Note</p><p>本記事は 2022 年に公開した <a href="/blog/azure-active-directory/mfa-reset-2022/">多要素認証 (MFA) のリセット手順 - 2022 年版</a> の内容を更新したものです。</p></div><p>こんにちは、Azure &amp; Identity サポート チームの長谷川です。</p><p>弊社ブログでは過去に複数回にわたり、ユーザーに登録された MFA の認証方法を管理者によりリセットする手順を紹介していました。ここでのリセットとは、ユーザーに登録された MFA 用の認証方法を削除し、次回のユーザーのサインイン時に MFA が要求されると、ユーザーに MFA 用の認証方法の登録が要求されるというものです。しかしながら、現在では 2022 年版から GUI やコマンドなどが変更になったため、2025 年版として本記事を紹介します。本記事はテナントの管理者向けの記事となっております点を、あらかじめご承知おきください。</p><p>なお、一般ユーザーの権限では他ユーザーの MFA 用の認証方法をリセットすることはできません。一般ユーザーは、Entra ID にログインができる状態であればユーザー自身で自らの MFA の認証方法を変更可能です。しかし、MFA (追加の認証) を受け取れるスマートフォンを紛失したなどの場合に、ユーザーが自ら MFA 設定のリセットを行うことはできません。</p><h2 id="Microsoft-Entra-管理センターで-MFA-用の認証方法をリセットする手順"><a href="#Microsoft-Entra-管理センターで-MFA-用の認証方法をリセットする手順" class="headerlink" title="Microsoft Entra 管理センターで MFA 用の認証方法をリセットする手順"></a>Microsoft Entra 管理センターで MFA 用の認証方法をリセットする手順</h2><p>Azure ポータルでもほぼ同様の手順でユーザーに登録された MFA 用の認証方法をリセット可能です。この手順では、1 ユーザーごとに画面から MFA 用の認証方法をリセットします。</p><ol><li><p>認証管理者、特権認証管理者、グローバル管理者のいずれかのロールを持つユーザーで Microsoft Entra 管理センター (<a href="https://entra.microsoft.com/">https://entra.microsoft.com</a>) へサインインします (リセット対象のアカウントが管理者権限を持つアカウントの場合は特権認証管理者またはグローバル管理者にてサインインが必要です)。</p></li><li><p>[ユーザー] &gt; [すべてのユーザー] に移動します。</p></li><li><p>ユーザーの一覧から、MFA 用の認証方法をリセットしたいユーザーの表示名を選択して開きます。</p></li><li><p>画面左側のメニューから [認証方法] タブを選択します。</p><p> <img src="/blog/azure-active-directory/mfa-reset-2025/mfa-reset-2025-1.jpg"></p></li><li><p>[多要素認証の再登録を要求する] を押下します。</p><p> <img src="/blog/azure-active-directory/mfa-reset-2025/mfa-reset-2025-2.jpg"></p></li></ol><h2 id="コマンド-Microsoft-Graph-PowerShell-で-MFA-用の認証方法をリセットする手順-複数ユーザーに対して一括実施"><a href="#コマンド-Microsoft-Graph-PowerShell-で-MFA-用の認証方法をリセットする手順-複数ユーザーに対して一括実施" class="headerlink" title="コマンド (Microsoft Graph PowerShell) で MFA 用の認証方法をリセットする手順 (複数ユーザーに対して一括実施)"></a>コマンド (Microsoft Graph PowerShell) で MFA 用の認証方法をリセットする手順 (複数ユーザーに対して一括実施)</h2><p>Microsoft Graph PowerShell のスクリプトと CSV を利用して、複数ユーザーに対して設定済みの MFA 用の認証方法を一括で削除する手順です。このスクリプトでは、GUI (Azure Portal および Microsoft Entra 管理センター) で [多要素認証の再登録を要求する] のボタンを押下したときに削除される「電話番号、Microsoft Authenticator アプリ、ソフトウェア OATH トークン」を削除します。「電話番号、Microsoft Authenticator アプリ、ソフトウェア OATH トークン」以外の認証方法 (例: FIDO2 セキュリティ キー) は、この手順では削除されません。</p><div class="alert is-info"><p class="alert-title">Note</p><p>既定のサインイン方法に代替電話 (音声通話 (代替モバイル)) が設定されているユーザーにおいては、事前に既定のサインイン方法を GUI 等から代替電話以外のものに変更したうえで本スクリプトを実行ください。既定のサインイン方法が代替電話のままのユーザーに本スクリプトを実行した場合、 そのユーザーの MFA のリセットに失敗します。</p></div><ol><li><p>MFA 用の認証方法をすべて削除 (リセット) したいユーザーの UPN を記載した CSV を作成し、MFA_reset_users.csv という名前で任意の場所に保存します。(この例では C:\temp に保存したとします)</p></li><li><p>CSV の中身は、項目名に “UserPrincipalName” を記載し、その後の行にユーザーの UPN を列挙します (下図参照)。</p><p> <img src="/blog/azure-active-directory/mfa-reset-2025/mfa-reset-2025-3.jpg"></p></li><li><p>以下の内容をコピーし、MFA_reset_script.ps1 の名前で任意の場所に保存します (この例では C:\temp に保存したとします)。もし手順 1 で CSV の保存先を C:\temp 以外にした場合は、1 行目の CSV のファイル パスを変更ください。</p> <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$users</span> = <span class="built_in">Import-Csv</span> <span class="literal">-Path</span> <span class="string">&quot;C:\temp\MFA_reset_users.csv&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$user</span> <span class="keyword">in</span> <span class="variable">$users</span>) &#123;</span><br><span class="line">    <span class="variable">$userId</span> = <span class="variable">$user</span>.UserPrincipalName</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">DeleteAuthMethod</span><span class="params">(<span class="variable">$uid</span>, <span class="variable">$method</span>)</span></span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (<span class="variable">$method</span>.AdditionalProperties[<span class="string">&#x27;@odata.type&#x27;</span>]) &#123;</span><br><span class="line">            <span class="string">&#x27;#microsoft.graph.microsoftAuthenticatorAuthenticationMethod&#x27;</span> &#123; </span><br><span class="line">                <span class="built_in">Write-Host</span> <span class="string">&#x27;Removing microsoftAuthenticatorAuthenticationMethod&#x27;</span></span><br><span class="line">                <span class="built_in">Remove-MgUserAuthenticationMicrosoftAuthenticatorMethod</span> <span class="literal">-UserId</span> <span class="variable">$uid</span> <span class="literal">-MicrosoftAuthenticatorAuthenticationMethodId</span> <span class="variable">$method</span>.Id</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="string">&#x27;#microsoft.graph.phoneAuthenticationMethod&#x27;</span> &#123; </span><br><span class="line">                <span class="built_in">Write-Host</span> <span class="string">&#x27;Removing phoneAuthenticationMethod&#x27;</span></span><br><span class="line">                <span class="built_in">Remove-MgUserAuthenticationPhoneMethod</span> <span class="literal">-UserId</span> <span class="variable">$uid</span> <span class="literal">-PhoneAuthenticationMethodId</span> <span class="variable">$method</span>.Id</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="string">&#x27;#microsoft.graph.softwareOathAuthenticationMethod&#x27;</span> &#123; </span><br><span class="line">                <span class="built_in">Write-Host</span> <span class="string">&#x27;Removing softwareOathAuthenticationMethod&#x27;</span></span><br><span class="line">                <span class="built_in">Remove-MgUserAuthenticationSoftwareOathMethod</span> <span class="literal">-UserId</span> <span class="variable">$uid</span> <span class="literal">-SoftwareOathAuthenticationMethodId</span> <span class="variable">$method</span>.Id</span><br><span class="line">            &#125;</span><br><span class="line">            Default &#123;</span><br><span class="line">                <span class="built_in">Write-Host</span> <span class="string">&#x27;This script does not handle removing this auth method type: &#x27;</span> + <span class="variable">$method</span>.AdditionalProperties[<span class="string">&#x27;@odata.type&#x27;</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$</span>? <span class="comment"># Return true if no error and false if there is an error</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$methods</span> = <span class="built_in">Get-MgUserAuthenticationMethod</span> <span class="literal">-UserId</span> <span class="variable">$userId</span></span><br><span class="line">    <span class="comment"># -1 to account for passwordAuthenticationMethod</span></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Found <span class="variable">$</span>(<span class="variable">$methods</span>.Length - 1) auth method(s) for <span class="variable">$userId</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="variable">$defaultMethod</span> = <span class="variable">$null</span></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$authMethod</span> <span class="keyword">in</span> <span class="variable">$methods</span>) &#123;</span><br><span class="line">        <span class="variable">$deleted</span> = DeleteAuthMethod <span class="literal">-uid</span> <span class="variable">$userId</span> <span class="literal">-method</span> <span class="variable">$authMethod</span></span><br><span class="line">        <span class="keyword">if</span>(!<span class="variable">$deleted</span>)&#123;</span><br><span class="line">            <span class="comment"># We need to use the error to identify and delete the default method.</span></span><br><span class="line">            <span class="variable">$defaultMethod</span> = <span class="variable">$authMethod</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Graph API does not support reading default method of a user.</span></span><br><span class="line">    <span class="comment"># Plus default method can only be deleted when it is the only (last) auth method for a user.</span></span><br><span class="line">    <span class="comment"># We need to use the error to identify and delete the default method.</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$null</span> <span class="operator">-ne</span> <span class="variable">$defaultMethod</span>)&#123;</span><br><span class="line">        <span class="built_in">Write-Host</span> <span class="string">&quot;Removing default auth method&quot;</span></span><br><span class="line">        <span class="variable">$result</span> = DeleteAuthMethod <span class="literal">-uid</span> <span class="variable">$userId</span> <span class="literal">-method</span> <span class="variable">$defaultMethod</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Re-checking auth methods...&quot;</span></span><br><span class="line">    <span class="variable">$methods</span> = <span class="built_in">Get-MgUserAuthenticationMethod</span> <span class="literal">-UserId</span> <span class="variable">$userId</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># -1 to account for passwordAuthenticationMethod</span></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Found <span class="variable">$</span>(<span class="variable">$methods</span>.Length - 1) auth method(s) for <span class="variable">$userId</span>&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>作業端末で PowerShell を管理者権限で起動します。</p></li><li><p>以下のコマンドを実行しその PowerShell ウインドウ上でスクリプトを実行できるようにします。</p> <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Set-ExecutionPolicy</span> RemoteSigned <span class="literal">-Scope</span> <span class="keyword">Process</span></span><br></pre></td></tr></table></figure></li><li><p>以下のコマンドを実行し、Microsoft Graph PowerShell モジュールをインストールします (既にモジュールがインストールされている場合はスキップください)。「今すぐ PowerShellGet で NuGet プロバイダーをインストールしてインポートしますか?」が表示されたら Y (はい) を選択します。</p> <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> Microsoft.Graph <span class="literal">-Force</span></span><br></pre></td></tr></table></figure></li><li><p>以下のコマンドを実行し、グローバル管理者でサインインします ([要求されているアクセス許可] という画面が表示された場合は、[承諾] を押下します)。もしグローバル管理者を利用しない場合は、実行するユーザーに二つのロール (クラウド アプリケーション管理者と (特権) 認証管理者) が付与されていれば実行可能です。管理者ユーザーの MFA の認証方法を削除する場合は特権認証管理者ロールが必要です。</p> <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Connect-MgGraph</span> <span class="literal">-Scopes</span> <span class="string">&quot;UserAuthenticationMethod.ReadWrite.All&quot;</span> </span><br></pre></td></tr></table></figure></li><li><p>スクリプトと CSV が保存されたフォルダに移動し、CSV と スクリプトが存在することを確認しておきます。</p> <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> C:\temp</span><br><span class="line"><span class="built_in">dir</span></span><br></pre></td></tr></table></figure><p> <img src="/blog/azure-active-directory/mfa-reset-2025/mfa-reset-2025-4.jpg"></p></li><li><p>以下のコマンドでスクリプトを実行し、CSV に書かれた対象ユーザーの MFA 用の認証方法をリセットします。</p> <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">.\MFA_reset_script.ps1</span><br></pre></td></tr></table></figure></li><li><p>削除された認証方法が Removing … のメッセージで表示されます。</p><p><img src="/blog/azure-active-directory/mfa-reset-2025/mfa-reset-2025-5.jpg"></p></li><li><p>作業が終わりましたら、以下のコマンドを実行し、セッションを切断します。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Disconnect-MgGraph</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="免責事項"><a href="#免責事項" class="headerlink" title="免責事項"></a>免責事項</h2><p>本サンプル コードおよび手順は、あくまでも説明のためのサンプルとして提供されるものであり、製品の実運用環境で使用されることを前提に提供されるものではありません。本サンプル コードおよびそれに関連するあらゆる情報は、「現状のまま」で提供されるものであり、商品性や特定の目的への適合性に関する黙示の保証も含め、明示・黙示を問わずいかなる保証も付されるものではありません。マイクロソフトは、お客様に対し、本サンプル コードを使用および改変するための非排他的かつ無償の権利ならびに本サンプル コードをオブジェクト コードの形式で複製および頒布するための非排他的かつ無償の権利を許諾します。</p><p>但し、お客様は以下の 3 点に同意するものとします。</p><ol><li>本サンプル コードが組み込まれたお客様のソフトウェア製品のマーケティングのためにマイクロソフトの会社名、ロゴまたは商標を用いないこと</li><li>本サンプル コードが組み込まれたお客様のソフトウェア製品に有効な著作権表示をすること</li><li>本サンプル コードの使用または頒布から生じるあらゆる損害（弁護士費用を含む）に関する請求または訴訟について、マイクロソフトおよびマイクロソフトの取引業者に対し補償し、損害を与えないこと</li></ol><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>新年のご挨拶の代わりに 2025 年版の MFA の認証方法のリセット方法を紹介しました。新しい年が皆様にとって幸多き一年となりますようにお祈り申し上げます。製品動作に関する正式な見解や回答については、お客様環境などを十分に把握したうえでサポート部門より提供しますので、ぜひ弊社サポート サービスをご利用ください。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;alert is-info&quot;&gt;&lt;p class=&quot;alert-title&quot;&gt;Note&lt;/p&gt;&lt;p&gt;本記事は 2022 年に公開した &lt;a href=&quot;/blog/azure-active-directory/mfa-reset-2022/&quot;&gt;多要素認証 (</summary>
      
    
    
    
    
    <category term="Microsoft Entra ID" scheme="https://jpazureid.github.io/blog/tags/Microsoft-Entra-ID/"/>
    
    <category term="MFA" scheme="https://jpazureid.github.io/blog/tags/MFA/"/>
    
  </entry>
  
  <entry>
    <title>Entra ID 初学者向けシリーズ第 1 弾 - 条件付きアクセス 入門</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/starter-series-conditional-access/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/starter-series-conditional-access/</id>
    <published>2024-12-27T16:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.227Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 夏木 です。</p><p>この度、Microsoft Entra サポート チームより、最近 Entra の利用を始めたお客様を対象に初学者向けのブログ シリーズを開始することといたしました。本記事は、その Entra ID 初学者向けシリーズの第 1 弾「条件付きアクセス 入門」です。</p><p><strong>本記事の対象者</strong></p><ul><li>Microsoft Entra 条件付きアクセスの基本を理解したい方</li><li>よくあるお問い合わせの事例を通じて実践的な知識を得たい方</li><li>Microsoft Entra  のサインイン ログの基本的な分析方法を知りたい方</li></ul><p><strong>記事概要</strong></p><p>本記事では、Microsoft Entra 条件付きアクセスを初めて学習/導入する方を対象に、基礎的な概念や設定方法を分かりやすく解説します。また、現場でよくある質問や課題を例に、具体的な対応策も紹介します。最後に、サインイン ログの読み解き方についても簡単に解説します。IT 管理者の方々にとって日々の運用に役立ちましたら嬉しいです！</p><hr><h2 id="条件付きアクセスの基本"><a href="#条件付きアクセスの基本" class="headerlink" title="条件付きアクセスの基本"></a>条件付きアクセスの基本</h2><h3 id="条件付きアクセスとは"><a href="#条件付きアクセスとは" class="headerlink" title="条件付きアクセスとは"></a>条件付きアクセスとは</h3><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-1.png" alt="ユーザーと条件、リソースの関係を表した画像"></p><p>条件付きアクセスは、ユーザーが Entra ID と連携したリソースにアクセスする際に、特定の条件に基づいてポリシーを適用し、リソースへのアクセスを制御する仕組みです。これにより、必要なユーザーだけが適切な状況でリソースにアクセスできるようになりセキュリティを高めることが可能です。条件付きアクセス ポリシーが適用されるのは、ユーザーが Entra ID にサインインした後、Entra ID がクラウド上のリソースに対して各種のトークンを発行する直前となります。</p><p>条件付きアクセスの流れ:</p><ol><li>ユーザーが特定のリソース (Web アプリや Web API) にアクセスを試みます。</li><li>特定のリソース (Web アプリや Web API) が Entra ID で認証してくるようユーザーに要求し、ユーザーは Entra ID に誘導されます。</li><li>Entra ID によりサインインが求められます。</li><li>ユーザーが ID/PW などを入力しサインインが成功すると、アクセス要求が条件付きアクセス ポリシーによって評価されます。<ul><li>ポリシーの適用条件に合致しなかった場合 → ポリシーは適用されずアクセスが許可されます 🙆‍♀️ </li><li>ポリシーの適用条件に合致し、制御を満たした場合 → アクセスが許可されます 🙆‍♀️</li><li>ポリシーの適用条件に合致したが、制御を満たさない場合 → アクセスが拒否されます 🙅‍♀️</li></ul></li></ol><p>ポリシーの適用条件や制御に具体的に設定できる値については後述します。</p><p>より細かい説明については <a href="https://jpazureid.github.io/blog/azure-active-directory/review-ca/">改めて知る Microsoft Entra 条件付きアクセス</a> の記事もご覧ください。</p><h2 id="条件付きアクセスの考え方のポイント"><a href="#条件付きアクセスの考え方のポイント" class="headerlink" title="条件付きアクセスの考え方のポイント"></a>条件付きアクセスの考え方のポイント</h2><p>初学者にとって押さえておくと躓きにくいポイントと、おすすめの Identity チーム公式ブログをご紹介します。条件付きアクセス初学者の方に是非意識していただきたい考え方はこちらです。</p><ol><li>設定した条件に合致したサインインにアクセス権を付与するのではなく、条件に合うサインインに制限をかける (制御する)  </li><li>制御の対象は、正確にはアプリケーションではなく “リソース” である</li></ol><h3 id="条件付きアクセスの考え方のポイント-1"><a href="#条件付きアクセスの考え方のポイント-1" class="headerlink" title="条件付きアクセスの考え方のポイント 1"></a>条件付きアクセスの考え方のポイント 1</h3><p>条件付きアクセスは、サインインに対してアクセス権を付与する (アクセスを許可) するという考え方ではなく、設定した条件に合うサインインに制御 (制限) をかけるという考え方です。</p><p>条件に合致した場合にサインインに対して適用される制御 (制限) としては、「アクセスのブロック」や「多要素認証を要求する」、「Microsoft Entra ハイブリッド参加済みデバイスが必要」というものがあります。実際の画面とその考え方は以下の画像のとおりです。</p><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-2.png" alt="アクセスのブロックとアクセス権の付与について解説した画像"></p><p>条件付きアクセスは、ポリシーが適用される条件を満たした場合に、アクセスをブロックもしくは制御するためのものあり、条件を満たしたものを許可するというものではありません。ファイアーウォールのルールのような「既定ですべてブロックがあり、そのうえで一部を許可する」というイメージではない点に注意ください。ID とパスワードという最低限の認証を突破した後に、条件に合うものに追加の制御 (もしくはブロック) を適用するというイメージです。</p><p>改めて、「アクセスを許可する」というものではなく、「特定の条件を満たした場合に制御が適用される (条件を満たさなかった場合は制御が適用されない)」というイメージになります。</p><p>詳細は以下の記事もご覧ください:</p><ul><li><a href="https://jpazureid.github.io/blog/azure-active-directory/conditional-access-basic/">条件付きアクセスの基本的な考え方 | Japan Azure Identity Support Blog</a>  </li><li><a href="https://jpazureid.github.io/blog/azure-active-directory/review-ca/">改めて知る Microsoft Entra 条件付きアクセス | Japan Azure Identity Support Blog</a></li></ul><h3 id="条件付きアクセスの考え方のポイント-2"><a href="#条件付きアクセスの考え方のポイント-2" class="headerlink" title="条件付きアクセスの考え方のポイント 2"></a>条件付きアクセスの考え方のポイント 2</h3><p>条件付きアクセスが制御の対象とするのは、「アプリケーション」ではなく「リソース」へのアクセスです。ここで言う「リソース」というのは、Entra ID と連携して動作している Web アプリケーション (Salesforce や自社開発のWeb アプリケーションなど) や、PC 上で動作するクライアント アプリケーションがクラウド上からデータを取得する際のアクセス先 (Web API) とお考え下さい。</p><p>例えば Outlook クライアントを Windows 上で利用して、Microsoft 365 の E メールを利用している場合、ユーザーは単に Outlook クライアントにサインインしているだけと思うはずですが、実際にはインターネット (Microsoft 365) 上から Email のデータを取得してくるにあたり Exchange Online の Web API を利用しています。Outlook クライアントは Exchange Online というクラウド上の “リソース” を使用しており、この Exchange Online が条件付きアクセスの適用対象となります。このため、条件付きアクセスの設定画面では、Outlook というリソースは出てきません。</p><p>他にも例えば、ユーザーが Windows 上で Teams のネイティブ クライアント アプリにアクセスしたとします。この時、ユーザーは Teams のネイティブ クライアント アプリにだけアクセスしているわけではありません。実際は、Teams のクラウド側の Web サービスに加え、SharePoint Online、Exchange Online、Microsoft Planner という複数の Web API にアクセスをしています。つまり、Teams のクライアントは、それが使用するデータのもととなっている複数のクラウド上の “リソース” にアクセスしています。Teams はこれらリソースの一つでもアクセスができないと (条件付きアクセスでブロックされると)、正常に動作しません。</p><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-3.png" alt="Teams におけるサービスの依存関係を表した画像"></p><p>このようにユーザーがサインインしているアプリが、別のクラウド上の Web API (リソース) を呼び出すということは一般的であり、これはサービスの依存関係とも呼ばれます。条件付きアクセスを利用する際に意識するべき依存関係については <a href="https://learn.microsoft.com/ja-jp/entra/identity/conditional-access/service-dependencies">条件付きアクセスのサービスの依存関係</a> に解説されていますのでご覧ください。</p><p>そのほかの条件付きアクセスの動作の仕組みやよくある質問に関しては <a href="https://jpazureid.github.io/blog/azure-active-directory/qanda-conditional-access/">Azure AD の条件付きアクセスに関する Q&amp;A</a> の記事もご覧ください。  </p><h2 id="条件付きアクセス-ポリシーの作成"><a href="#条件付きアクセス-ポリシーの作成" class="headerlink" title="条件付きアクセス ポリシーの作成"></a>条件付きアクセス ポリシーの作成</h2><p>条件付きアクセス ポリシーにて設定可能な値の概要は以下のとおりです。まず、条件について以下に概要をおまとめしました。条件付きアクセス ポリシーでは、まず大きく適用対象のユーザーと適用対象のリソースを選択する必要があります。これらに加えて、さらにネットワークの場所やクライアント OS の種類など細かく適用条件を選択することが可能です。</p><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-4.png" alt="条件付きアクセス ポリシーの割り当てについて概要をまとめた画像"></p><p>上記の囲まれた部分の構成が終わったら、次にその条件に合致したときにどのような制御を適用するかを決めます。それが以下の画面です。</p><p>条件に合致したときにアクセスを許可する場合、許可に際して適用される制御の内容を選択します。例えば、条件に合致したときに多要素認証を求めたい場合は「多要素認証を要求する」にチェックを付けます。</p><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-5.png" alt="アクセス制御において許可とセッション制御の概要をまとめた画像"></p><p>なお、条件に合致したときにセッションに対しても制御を適用することが可能です。例えば、サインインの頻度という制御を適用すると、8 時間毎に再認証をユーザーに求めるということも可能です (頻繁な再認証はセキュリティをむしろ低下させるため推奨しておりません)。</p><p>各設定値の詳細は <a href="https://learn.microsoft.com/ja-jp/entra/identity/conditional-access/concept-conditional-access-policies">条件付きアクセス ポリシーの構築</a> の公開情報もご覧ください。</p><h2 id="よくあるお問い合わせの例"><a href="#よくあるお問い合わせの例" class="headerlink" title="よくあるお問い合わせの例"></a>よくあるお問い合わせの例</h2><p>これまでの説明をもとに、条件付きアクセス ポリシーの理解向上に役立ついくつかのお問い合わせ例をご紹介いたします。</p><ul><li>基本編 1: 場所やデバイスの状態をもとに制御したい</li><li>基本編 2: ポリシーを構成したが思ったように適用されない</li><li>中級編 3: 「デバイスは準拠しているとしてマーク済みである必要があります」の制御を適用した状態で Intune の新規デバイス登録は可能か</li><li>中級編 4: Teams 以外のすべてのアプリをブロックしているのに Teams にアクセスできない</li></ul><h3 id="基本編-1-場所やデバイスの状態をもとに制御したい"><a href="#基本編-1-場所やデバイスの状態をもとに制御したい" class="headerlink" title="基本編 1: 場所やデバイスの状態をもとに制御したい"></a>基本編 1: 場所やデバイスの状態をもとに制御したい</h3><p>以下のようなお問い合わせがあったとします。</p><blockquote><p>以下を満たす条件付きアクセスポリシーを作成したい。</p><p>&lt;シナリオ A&gt;<br>社外からの Office 365 へのアクセスは準拠済みのデバイスのみに制限したい</p><p>&lt;シナリオ B&gt;<br>Android / iOS に対しては指定した IP アドレスの範囲からしかアクセスを許可しない  </p></blockquote><p>これらの場合、ポリシーの構成としては、すべてのネットワークの場所に対して「準拠済みのデバイスを要求する」もしくは「アクセスをブロックする」と構成して、ポリシーの対象外の場所に「社内」や「指定した IP アドレスの範囲」を指定します。各シナリオを言い換えると以下のようになります。</p><p>&lt;シナリオ A&gt;<br>全ての場所ですべてのユーザーに対し、Office 365 にアクセスする際は準拠済みのデバイスを必要とするが、社内はその対象外とする。</p><p>&lt;シナリオ B&gt;<br>Android / iOS に対してはすべての場所 (指定した IP アドレスの範囲はその対象外) ですべてのユーザーとアプリに対してアクセスをブロックする。</p><p>これらを実際のポリシーの構成に落とし込むと以下のようになります。このように、要望されているシナリオを条件付きアクセス ポリシーの構成に合うように少し変換して構成ください。</p><p>&lt;シナリオ A の設定例&gt;</p><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-6.png" alt="シナリオ A の設定例を示した画像"></p><p>&lt;シナリオ B の設定例&gt;</p><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-7.png" alt="シナリオ B の設定例を示した画像"></p><h3 id="基本編-2-ポリシーを構成したが思ったように適用されない"><a href="#基本編-2-ポリシーを構成したが思ったように適用されない" class="headerlink" title="基本編 2: ポリシーを構成したが思ったように適用されない"></a>基本編 2: ポリシーを構成したが思ったように適用されない</h3><p>以下のようなお問い合わせがあったとします。</p><blockquote><p>以下条件付きアクセスポリシーを設定をしたが、適用されない。オフィス以外の場所からのアクセスはブロックしたい。</p><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-8.png" alt="ターゲット リソースが設定されていない状態の画像">  </p></blockquote><p>ターゲット リソースが指定されていないため、何もポリシーの対象となっておらず機能しません。以下は割り当てをするときに必ず指定する必要があるものです:</p><ul><li>ユーザー</li><li>ターゲットリソース</li></ul><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-9.png" alt="ターゲット リソースに着目した状態の画像"></p><p>前述のとおり、条件付きアクセスは、条件に合ったものに対して制御を適用するというものですので、ポリシーが適用される条件についてはすべて指定するようにご注意ください。</p><h3 id="中級編-3-「デバイスは準拠しているとしてマーク済みである必要があります」の制御を適用した状態で-Intune-の新規デバイス登録は可能か"><a href="#中級編-3-「デバイスは準拠しているとしてマーク済みである必要があります」の制御を適用した状態で-Intune-の新規デバイス登録は可能か" class="headerlink" title="中級編 3: 「デバイスは準拠しているとしてマーク済みである必要があります」の制御を適用した状態で Intune の新規デバイス登録は可能か"></a>中級編 3: 「デバイスは準拠しているとしてマーク済みである必要があります」の制御を適用した状態で Intune の新規デバイス登録は可能か</h3><p>以下のようなお問い合わせがあったとします。</p><blockquote><p>条件付きアクセスにて、「デバイスは準拠しているとしてマーク済みである必要があります」の制御を適用された状態にしました。新しいデバイスの Intune 登録は可能でしょうか。</p><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-10.png" alt="「デバイスは準拠しているとしてマーク済みである必要があります」にチェックがついた状態の画像">  </p></blockquote><p>このお客様は、条件付きアクセスにて「デバイスは準拠しているとしてマーク済みである必要があります」の制御を適用にした際に、これから Intune 登録しようとしているデバイスはこの条件を満たせない (登録しようとしているその時点ではデバイスはまだ非準拠である) ため、新規の Intune 登録がブロックされるのではないかと懸念してこのようなお問い合わせをされました。</p><p>このシナリオは条件付きアクセスで考慮されており、Bootstrap シナリオと呼ばれます。この Bootstrap シナリオに当たる以下の場合は、条件付きアクセス ポリシー適用の対象となるユーザーとリソースを設定していても、制御が適用されません:</p><ul><li>Device registration</li><li>Intune Management Setup</li><li>Intune Check-In</li><li>Multi-Factor Auth Connector</li><li>(一覧は公開されていないため、上記の他にもある可能性あり)</li></ul><p>この時、条件付きアクセス ポリシーとしては、制御が適用されないという結果になりますので、サインイン ログ上は、条件付きアクセス ポリシーの適用が失敗したと表示される場合があります。しかしながら、これは想定された動作であるため心配いただく必要はありません。</p><p>詳細は <a href="https://learn.microsoft.com/ja-jp/entra/identity/conditional-access/policy-alt-all-users-compliant-hybrid-or-mfa">準拠しているデバイス、ハイブリッド参加済みデバイス、または MFA を必須にする</a> の公開情報もご覧ください。</p><h3 id="中級編-4-Teams-以外のすべてのアプリをブロックしているのに-Teams-にアクセスできない"><a href="#中級編-4-Teams-以外のすべてのアプリをブロックしているのに-Teams-にアクセスできない" class="headerlink" title="中級編 4: Teams 以外のすべてのアプリをブロックしているのに Teams にアクセスできない"></a>中級編 4: Teams 以外のすべてのアプリをブロックしているのに Teams にアクセスできない</h3><p>以下のようなお問い合わせがあったとします。</p><blockquote><p>Teams 以外のすべてのアプリをブロックし、Teams はポリシーの対象外としている。しかし、Teams にアクセスできないのはなぜでしょうか。</p><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-11.png" alt="ターゲット リソースの対象として Microsoft Teams Services のみが選択されている状態の画像">  </p></blockquote><p>Microsoft Entra 条件付きアクセスのサービス依存関係が原因です。前述のとおり、Teams にアクセスするためには、Microsoft SharePoint Online や Microsoft Exchange Online のリソースにアクセスする必要があります。しかし、このシナリオでは Teams のみがポリシーの対象外であり、Microsoft SharePoint Online や Microsoft Exchange Online は条件付きアクセス ポリシーの適用対象となります。このため、Teams アプリが使用しているリソースがブロックされる状態であり、結果的に Teams にもアクセスできません。</p><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-12.png" alt="Teams の依存関係を表した画像"></p><p>Teams のみをユーザーに利用させたいというお客様は多くいらっしゃいますが、Teams のこのような性質により、Teams のみユーザーに利用させるということは極めて困難です。条件付きアクセス ポリシーの観点では、Microsoft SharePoint Online や Microsoft Exchange Online も条件付きアクセスポリシーで許可いただく必要があります。結果としてユーザーは Outlook や SharePoint Online にもアクセスが可能となります。弊社としてはこういった依存関係を考慮して、条件付きアクセスポリシーの対象および対象外としては Office 365 の利用をお勧めしています。</p><p>詳細は <a href="https://learn.microsoft.com/ja-jp/entra/identity/conditional-access/service-dependencies">条件付きアクセスのサービスの依存関係</a> の公開情報もご覧ください。</p><h2 id="サインイン-ログを見るときのポイント"><a href="#サインイン-ログを見るときのポイント" class="headerlink" title="サインイン ログを見るときのポイント"></a>サインイン ログを見るときのポイント</h2><p>条件付きアクセスに起因してサインインがブロックされた場合、その概要がサインイン画面に表示されます。この時、「詳細」をクリックするか、画面右下の … をクリックすると、エラーの詳細を確認可能です。サインイン時のエラー画面にて表示される以下の情報を控えてサインイン ログを検索すると詳細な情報を得ることが出来ます。</p><p>なお、これらの情報は弊社サポート チームにとっても重要な情報であるため、サインインに関連した調査を依頼される際には弊社サポートにもこの情報をぜひご提供ください。</p><ul><li>要求 ID (Request ID): 各サインインの ID</li><li>相関 ID (Correlation ID): 一連のサインインを束ねた ID</li><li>Timestamp: サインインした時刻</li><li>アプリ名: アクセス先のアプリ</li></ul><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-13.png" alt="サインイン画面で詳細を表示した状態の画像"></p><p>Entra ID のサインイン ログを確認するには以下の手順を実施ください。</p><ol><li>Azure Portal  (<a href="https://portal.azure.com/">https://portal.azure.com</a>) にアクセスします。</li><li>管理者アカウントでサインインします。</li><li>[Microsoft Entra ID] &gt; [サインイン ログ] に移動します。</li></ol><p>適当なサインイン ログの内容をクリックすると、以下のように情報が表示されます。[基本情報] タブにその概要が表示されます。ここで注目したい値は以下のとおりです。</p><ul><li>要求 ID (Request ID): 各サインインの ID</li><li>相関 ID (Correlation ID): 一連のサインインを束ねた ID</li><li>Timestamp: サインインした時刻</li><li>リソース名: アクセス先のリソース</li><li>リソース ID: アクセス先のリソースの ID</li><li>ユーザー: サインインしたユーザーの UPN</li></ul><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-14.png" alt="サインイン ログの基本情報のタブを開いた状態の画像"></p><p>[条件付きアクセス] タブでは以下の内容などを確認することが可能です。ポリシーの適用が思ったように行われない場合は、この画面を見て各ポリシーの適用状況をご確認ください。</p><ul><li>どの条件付きアクセスポリシーが適用されたか</li><li>どの条件に合致したのか</li><li>どの制御が適用されたのか</li></ul><p><img src="/blog/azure-active-directory/starter-series-conditional-access/conditional-access-15.png" alt="サインイン ログの条件付きアクセスのタブを開いた状態の画像"></p><h2 id="まとめ"><a href="#まとめ" class="headerlink" title="まとめ"></a>まとめ</h2><p>今回の初学者向けシリーズ第 1 弾では条件付きアクセスについて解説しました。特にご注目いただきたい点をまとめると以下のとおりです。</p><ul><li>アクセス権の付与ではなく、特定の条件を満たした場合に制御が適用される (条件を満たさなかった場合は制御が適用されない) というイメージである</li><li>条件付きアクセスでの制御の対象はユーザーの目の前で動いているアプリではなく、クラウド上の “リソース” である</li><li>ユーザーの目の前で動いているアプリがどのクラウド “リソース” を利用しているかを意識することでポリシーの構成をスムーズに行うことが可能である</li></ul><h1 id="参考になる資料"><a href="#参考になる資料" class="headerlink" title="参考になる資料"></a>参考になる資料</h1><p>上記内容をご覧いただけましたら、是非以下の資料についてもご覧ください。</p><p>ブログ  </p><ul><li><a href="https://jpazureid.github.io/blog/azure-active-directory/qanda-conditional-access/">Azure AD の条件付きアクセスに関する Q&amp;A | Japan Azure Identity Support Blog</a></li><li><a href="https://jpazureid.github.io/blog/azure-active-directory/conditional-access-basic/">条件付きアクセスの基本的な考え方 | Japan Azure Identity Support Blog</a></li><li><a href="https://jpazureid.github.io/blog/azure-active-directory/review-ca/">改めて知る Microsoft Entra 条件付きアクセス | Japan Azure Identity Support Blog</a></li><li><a href="https://jpazureid.github.io/blog/azure-active-directory/conditional-cannot-access-rightnow/">「現時点ではこれにはアクセスできません」 エラーについて | Japan Azure Identity Support Blog</a></li></ul><p>公開情報  </p><ul><li><a href="https://learn.microsoft.com/ja-jp/entra/identity/conditional-access/overview">Microsoft Entra ID の条件付きアクセスとは - Microsoft Entra ID | Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/ja-jp/entra/identity/conditional-access/plan-conditional-access">Microsoft Entra の条件付きアクセスのデプロイを計画する - Microsoft Entra ID | Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/ja-jp/entra/identity/conditional-access/concept-conditional-access-policies">条件付きアクセス ポリシーの構築 - Microsoft Entra ID | Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/ja-jp/entra/identity/conditional-access/service-dependencies">条件付きアクセスのサービスの依存関係 - Microsoft Entra ID | Microsoft Learn</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 夏木 です。&lt;/p&gt;
&lt;p&gt;この度、Microsoft Entra サポート チームより、最近 Entra の利用を始めたお客様を対象に初学者向けのブログ シリーズを開始することといたしました。本記事は、その E</summary>
      
    
    
    
    
    <category term="Microsoft Entra" scheme="https://jpazureid.github.io/blog/tags/Microsoft-Entra/"/>
    
    <category term="Starter series" scheme="https://jpazureid.github.io/blog/tags/Starter-series/"/>
    
  </entry>
  
  <entry>
    <title>カスタム OTP E メール プロバイダーのサポートでエンドユーザー体験が向上</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/enhance-end-user-experiences-with-custom-otp-email-provider-support/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/enhance-end-user-experiences-with-custom-otp-email-provider-support/</id>
    <published>2024-12-26T00:00:00.000Z</published>
    <updated>2025-04-12T15:36:20.750Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 名取 です。</p><p>本記事は、2024 年 12 月 5 日に米国の Microsoft Entra Blog で公開された <a href="https://techcommunity.microsoft.com/blog/identity/enhance-end-user-experiences-with-custom-otp-email-provider-support/3627346">Enhance end-user experiences with Custom OTP Email Provider Support</a> を意訳したものになります。ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><h2 id="消費者向けアプリケーションでワン-タイム-パスコード用にカスタム-E-メール-プロバイダーを設定する"><a href="#消費者向けアプリケーションでワン-タイム-パスコード用にカスタム-E-メール-プロバイダーを設定する" class="headerlink" title="消費者向けアプリケーションでワン タイム パスコード用にカスタム E メール プロバイダーを設定する"></a>消費者向けアプリケーションでワン タイム パスコード用にカスタム E メール プロバイダーを設定する</h2><p>現代のデジタル時代において、シームレスなユーザー体験を提供することは、ブランドの強化、ユーザーの信頼獲得、ビジネスの成長にとって非常に重要です。Microsoft External ID の一般提供 (GA) により、一般消費者向けに高度なセキュリティとコンプライアンスを備えたユーザー体験が構築可能となりました。弊社は管理者と開発者の両方にとってシンプルでシームレスな体験を提供することを目指しており、直近のブログでは、モバイル アプリケーション向けに完全にカスタマイズ可能な <a href="https://devblogs.microsoft.com/identity/native-auth-for-external-id-ga/">ネイティブ認証</a> や <a href="https://www.microsoft.com/ja-jp/security/business/identity-access/microsoft-entra-external-id">管理者向けの組み込みセキュリティ コントロール</a> を紹介しました。</p><p>この取り組みの次のステップとして、External ID を利用しているアプリで、よりブランドのカスタマイズが行えるよう、新しいカスタム認証拡張機能を追加しました。カスタマイズとブランディングは、エンドユーザーがアプリケーションをスムーズに利用し、そこに企業ブランドのアイデンティティを反映させるという意味で非常に重要な機能です。ここからは、シニア プロダクト マネージャーの Sasha Mars より、Microsoft Entra 管理センターでこの新しい拡張機能の利用方法について紹介してもらいます。</p><hr><h2 id="外部向けアプリケーションで利用できる新しいカスタム認証拡張機能"><a href="#外部向けアプリケーションで利用できる新しいカスタム認証拡張機能" class="headerlink" title="外部向けアプリケーションで利用できる新しいカスタム認証拡張機能"></a>外部向けアプリケーションで利用できる新しいカスタム認証拡張機能</h2><p>こんにちは皆さん</p><p>今日は、新しくリリースされたカスタム認証拡張機能を紹介いたします 。この拡張機能により、サインアップ、サインイン、パスワード忘れの際に発生するワン タイム パスコードの利用において、マイクロソフトやマイクロソフト以外の E メール プロバイダーとの統合が可能になります。ぜひ、本日よりパブリック プレビューをお試しください。</p><h3 id="ユーザーにユニークな体験を"><a href="#ユーザーにユニークな体験を" class="headerlink" title="ユーザーにユニークな体験を"></a>ユーザーにユニークな体験を</h3><p>今回お話しするカスタマイズ機能は、ユーザー体験をより細かくコントロールしたいというフィードバックに基づいて追加されました。顧客向けアプリを構築する場合、Azure AD B2C プラットフォームでの経験から、企業ブランドごとにカスタマイズされたユーザー体験を提供するということが顧客と企業の間の信頼関係を構築する上で非常に重要であることがわかっています。</p><p>この新しいカスタム認証拡張機能を使用すると、Microsoft Entra External ID が既定で提供する E メール サービスの代わりに、Azure Communication Services や他のサード パーティーの E メール プロバイダーなどお好みの E メール プロバイダーを利用でき、カスタマイズしたデザインと操作感を実現可能になります。</p><h3 id="カスタム-E-メール-プロバイダーへのゲートウェイとして機能する-API-を作成する"><a href="#カスタム-E-メール-プロバイダーへのゲートウェイとして機能する-API-を作成する" class="headerlink" title="カスタム E メール プロバイダーへのゲートウェイとして機能する API を作成する"></a>カスタム E メール プロバイダーへのゲートウェイとして機能する API を作成する</h3><p>代わりに Azure Function App を作成することも可能です。この場合、HTTP トリガー関数を作成して、その関数の既定の設定値を更新ください。</p><h3 id="EmailOtpSend-カスタム認証拡張機能の構成する"><a href="#EmailOtpSend-カスタム認証拡張機能の構成する" class="headerlink" title="EmailOtpSend カスタム認証拡張機能の構成する"></a>EmailOtpSend カスタム認証拡張機能の構成する</h3><p>EmailOtpSend カスタム認証拡張機能は、Microsoft Entra 管理センターのカスタム認証拡張のブレードで設定できます。そこで新しいカスタム認証拡張機能を登録し、それをアプリケーションに接続し、カスタム E メール プロバイダーをアプリケーションに割り当てます。</p><p>ここで、管理者が実際に独自の Email プロバイダーを設定 - BYOE (Bring Your Own Email) - し、API を使用して自動化する流れを見てみましょう。</p><ul><li><p><strong>基本設定</strong> - ここでは EmailOtpSend のイベントの種類を選択できます。<br>  <img src="/blog/azure-active-directory/enhance-end-user-experiences-with-custom-otp-email-provider-support/1.png"></p></li><li><p><strong>エンドポイントの設定</strong> - API エンドポイントを設定します。<br>  <img src="/blog/azure-active-directory/enhance-end-user-experiences-with-custom-otp-email-provider-support/2.png"></p></li><li><p><strong>API の認証</strong> - API エンドポイントへの呼び出しを安全に行うためのフローを構成します。<br>  <img src="/blog/azure-active-directory/enhance-end-user-experiences-with-custom-otp-email-provider-support/3.png"></p></li><li><p><strong>アプリケーション</strong> - EmailOtpSend のイベントを割り当てるアプリケーションを指定します。<br>  <img src="/blog/azure-active-directory/enhance-end-user-experiences-with-custom-otp-email-provider-support/4.png"></p></li></ul><p>Microsoft Entra External ID テナントをまずご用意の上、ぜひ EmailOtpSend によるカスタム認証拡張機能をお試しください。</p><p>カスタム認証拡張機能の詳細については、<a href="https://learn.microsoft.com/ja-jp/entra/identity-platform/custom-extension-email-otp-get-started?tabs=azure-communication-services,azure-portal">こちら</a> をご覧ください。</p><p>いつも皆様からのフィードバックをお待ちしております。以下のリンクより新機能に関するご意見をお寄せください。</p><p>Sasha Mars<br>Senior Product Manager, Microsoft Identity and Network Access<br>LinkedIn: <a href="https://www.linkedin.com/in/alexandermarss/">Sasha Mars | LinkedIn</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 名取 です。&lt;/p&gt;
&lt;p&gt;本記事は、2024 年 12 月 5 日に米国の Microsoft Entra Blog で公開された &lt;a href=&quot;https://techcommunity.microsof</summary>
      
    
    
    
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
    <category term="Microsoft Entra" scheme="https://jpazureid.github.io/blog/tags/Microsoft-Entra/"/>
    
  </entry>
  
  <entry>
    <title>Security Copilot が Microsoft Entra で利用できるようになりました！</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/security-copilot-for-microsoft-entra/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/security-copilot-for-microsoft-entra/</id>
    <published>2024-12-25T17:00:00.000Z</published>
    <updated>2025-04-12T15:36:21.219Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは！ Azure ID チームの小出です。</p><p>今回は、2024 年 11 月 19  日に米国の Microsoft Entra (Azure AD) Blog で Sarah Scott によって公開された <a href="https://techcommunity.microsoft.com/blog/identity/security-copilot-is-now-embedded-in-microsoft-entra/4289387">Security Copilot is now embedded in Microsoft Entra</a> を抄訳し、サポートチームにて補足したものになります。</p><p>Copilot は現在 Teams や Outlook など様々なサービスに組み込まれ、より簡単に利用できるようになっています。たとえば Copilot を PowerPoint で使ってプレゼンテーションを共同作成したり、Excel ファイルの分析を行うなども可能です。ただ、 ID 管理の観点では Copilot はこれまで利用できる機能がなく、「Entra 管理センターでも Copilot の機能を活用したい」と思われていた方もいらっしゃるかと思います。今回、Entra 管理センターにも Copilot の機能が組み込まれ、トラブル シューティングなどに活用できるようになりました！ぜひ下記で利用方法や役立つシナリオをご覧ください！ご不明点などございましたら遠慮なくサポートへお問い合わせください。</p><hr><h2 id="Microsoft-Entra-の-Security-Copilot-を体感しよう-—-AI-駆動の-ID-およびアクセス管理のパブリック-プレビューが開始されました！"><a href="#Microsoft-Entra-の-Security-Copilot-を体感しよう-—-AI-駆動の-ID-およびアクセス管理のパブリック-プレビューが開始されました！" class="headerlink" title="Microsoft Entra の Security Copilot を体感しよう — AI 駆動の ID およびアクセス管理のパブリック プレビューが開始されました！"></a>Microsoft Entra の Security Copilot を体感しよう — AI 駆動の ID およびアクセス管理のパブリック プレビューが開始されました！</h2><p>本日、Microsoft Entra 管理センターにおける Microsoft Security Copilot のパブリック プレビューを <a href="https://aka.ms/CopilotforSecurityGA">発表</a> しました。この統合により、2024 年 4 月にスタンドアロン版の Security Copilot で<a href="https://techcommunity.microsoft.com/t5/microsoft-entra-blog/microsoft-entra-adds-identity-skills-to-copilot-for-security/ba-p/4081857">一般提供された</a> すべての ID スキル (具体的にはユーザーの詳細、グループの詳細、サインイン ログ、監査ログ) と、管理者やセキュリティ アナリストが直接 Microsoft Entra 管理センターで使用できる新しい ID 関連の機能が提供されるようになりました。また、ID 関連のリスク調査をよりよく行えるようにする新しいスキルも追加しました。12 月には、さらに範囲を広げ、Security Copilot と Microsoft Entra のスタンドアロンのバージョンと管理センターに組み込まれたバージョンの両方に App Risk Management 専用のスキルを追加する予定です。これらの機能により、ID 管理者とセキュリティ アナリストは、Microsoft Entra に登録されたアプリケーションとワークロード ID に影響を与えるリスクをより適切に特定、理解、修復できるようになります。</p><p>Security Copilot が Microsoft Entra に組み込まれたことで、ID 管理者は、AI を用いた自然言語によるまとめ (ID にまつわる背景情報や知見をまとめたもの) を得つつセキュリティ インシデントに対応することができ、ID の侵害に対してより一層の備えが可能となります。また、Copilot は管理センターに組み込まれれているため、管理センターから離れることなく、ID 関連のリスクやサインインの問題の解決などのトラブル シューティング作業を迅速に行うことが可能です。 </p><h2 id="Security-Copilot-の価値を-Microsoft-Entra-に拡大-ID-およびアクセス管理のための-AI"><a href="#Security-Copilot-の価値を-Microsoft-Entra-に拡大-ID-およびアクセス管理のための-AI" class="headerlink" title="Security Copilot の価値を Microsoft Entra に拡大 - ID およびアクセス管理のための AI"></a>Security Copilot の価値を Microsoft Entra に拡大 - ID およびアクセス管理のための AI</h2><p>パブリック プレビューでは、最初の Copilot スキルは ID のセキュリティとアクセスのトラブル シューティングに重点を置いており、これにより ID およびアクセス管理タスクの時間短縮と精度向上を目標としています。これは、ID とネットワーク アクセスの様々な課題 (ネットワーク アクセス、先進のアクセス制御、さらにその先を含む) に対応する、より包括的な生成 AI ソリューションをお届けするという弊社の目標に向けたほんの始まりにすぎません。ID とアクセスのシナリオで使用される生成 AI はまだ登場したばかりですが、急速に進化していることも事実であり、製品としての成功はお客様とのよりよいコラボレーションにかかっています。パブリック プレビューにいち早く参加することで、製品の成長に合わせて、主要なシナリオへの対応やスキルの改善にお客様も参画可能です。弊社はお客様と共に、今日のニーズに応えるとともに、今後の課題を先取りするソリューションを構築していきたいと考えています。</p><p>プレビューを早期にお使いのお客様から見えてきたその価値は目を見張るものがあります。<a href="https://aka.ms/SecurityCopilotITAdminResearch">Security Copilot IT Admin Efficiency Study</a> によると、Entra 管理センターに組み込まれた Security Copilot を使用して、IT 管理者がアクセス失敗のトラブルシューティングを行うと、より短時間かつ正確にその対応を完了でき、さらに今後も業務で Copilot を使用したいと考える人が圧倒的に多いことがわかりました。結果は以下のとおりです:</p><ul><li>Copilot の利用者はサインインのトラブルシューティングにかかる時間が 46.11% 短縮されました。</li><li>Copilot を使用すると、サインインのトラブルシューティングに関連する作業の精度が 46.8%向上しました。</li><li>また最も重要な点として、回答者の 95% が Copilot を使用することで作業の質が向上したと言い、96.7% が今後もこれらの作業で Copilot を使用したいと回答しました。  </li></ul><h2 id="Microsoft-Entra-管理センターでの-Copilot-の動作例"><a href="#Microsoft-Entra-管理センターでの-Copilot-の動作例" class="headerlink" title="Microsoft Entra 管理センターでの Copilot の動作例"></a>Microsoft Entra 管理センターでの Copilot の動作例</h2><p>弊社では ID 管理者の皆様の普段の業務フローにおいて Security Copilot を活用できるということが重要であると考えているため、Microsoft Entra 管理センターで直接 Copilot を利用できるようにしました。ナビゲーション バーにある Copilot ボタンをクリックすることで Security Copilot にアクセスできます。 </p><p>Copilot が支援できるタスクがどういったものかをまず最初に理解しやすくするため、Copilot のチャットのパネルを初めて開いたときにスターター プロンプトというものを表示するようにしました。これはクリックするだけで実行できるプロンプトです。スターター プロンプトの一覧から選択するか、サインインログのトラブルシューティングや ID 関連のリスクの調査などの質問を Copilot に行うことが可能です。例えば「テナント内のリスク高のユーザーを表示してください」、「[ユーザー名] に MFA が要求されたのはなぜですか」、「[ユーザー名] の直近のサインインに適用された条件付きアクセス ポリシーはどれですか」などの質問が挙げられます。最後に、チャットの会話の流れに基づいて、より内容を深堀していくようなプロンプトも提案されますので、問題をさらに調査することが可能です。以下の画像もご覧ください。</p><p><img src="/blog/azure-active-directory/security-copilot-for-microsoft-entra/security-copilot-for-microsoft-entra1.png"></p><p>なお、Azure ポータルと Microsoft Entra 管理センターの両方に「Copilot」のボタンがありますが、Azure ポータル上のボタンは Azure 向けの Copilot です。今回のブログで紹介している Entra 向けの Copilot とは異なるため、Entra 向けの Copilot を利用したい場合は、 Microsoft Entra 管理センターから Copilot にアクセスください。</p><p><img src="/blog/azure-active-directory/security-copilot-for-microsoft-entra/security-copilot-for-microsoft-entra2.png"></p><h2 id="Microsoft-Entra-に組み込まれた-Security-Copilot-を使用してあらゆるリソースへのあらゆる-ID-のアクセスを保護する"><a href="#Microsoft-Entra-に組み込まれた-Security-Copilot-を使用してあらゆるリソースへのあらゆる-ID-のアクセスを保護する" class="headerlink" title="Microsoft Entra に組み込まれた Security Copilot を使用してあらゆるリソースへのあらゆる ID のアクセスを保護する"></a>Microsoft Entra に組み込まれた Security Copilot を使用してあらゆるリソースへのあらゆる ID のアクセスを保護する</h2><p>ID 管理者、セキュリティ アナリスト、ネットワーク セキュリティ管理者はすべて、組織全体のアクセスを保護し、ID を管理するという目標を共有しています。当社は、これらの管理者が抱える職責を果たすにあたり直接的なサポートができるよう Security Copilot のスキル開発を進めており、注力している点としては以下が挙げられます。</p><ul><li>アクセスの管理および保護</li><li>ID に関連する問題と運用のトラブルシューティング</li><li>ID ライフサイクルのワークフローの最適化</li><li>ID とネットワーク アクセスに関するセキュリティ ポリシーの計画と展開 </li></ul><p>これらの重点分野を中心に機能と機能を構成することで、Security Copilot と Microsoft Entra をご利用のお客様に対し、AI に基づく知見、自動化、推奨事項を提供し、お客様がより多くのことを実現できるようにしたいと思っています。これは具体的には、業務フローの効率化や、ID とリソースの保護など上記重点項目に関連する特定の業務をより早く、かつ正確に完了させるということです。</p><p>パブリック プレビューでは、以下の 2 つの重要なシナリオにおいて ID 管理者とセキュリティ アナリストを支援するスキルを提供いたします: </p><ul><li>Microsoft Entra の Security Copilot を使用してアクセスのガバナンスとポリシーの適用を管理</li><li>Microsoft Entra の Security Copilot を使用してアクセス失敗をトラブルシューティング</li></ul><h2 id="Microsoft-Entra-の-Security-Copilot-を使用してアクセスのガバナンスとポリシーの適用を管理"><a href="#Microsoft-Entra-の-Security-Copilot-を使用してアクセスのガバナンスとポリシーの適用を管理" class="headerlink" title="Microsoft Entra の Security Copilot を使用してアクセスのガバナンスとポリシーの適用を管理"></a>Microsoft Entra の Security Copilot を使用してアクセスのガバナンスとポリシーの適用を管理</h2><p>お客様の企業規模が成長し、ID に関連するリスクがより複雑になるにつれ様々な課題が生じますが、この解決を支援するというのが本スキルの目標です。攻撃の量と巧妙さが増すにつれ、アクセス ガバナンスとポリシーの強制を適切に行うことが非常に重要になっています。</p><p><a href="https://techcommunity.microsoft.com/t5/microsoft-entra-blog/microsoft-entra-adds-identity-skills-to-copilot-for-security/ba-p/4081857">4 月の発表</a> では、高リスクと判定されたユーザーを管理者が迅速に特定し解決するというシナリオについて解説しました。管理者は、Copilot が自動生成したまとめをもとに、ユーザーのリスク状態について分析情報を即座に得るとともに、実施すべき推奨事項も Copilot から得ることでセキュリティ インシデントを解消して問題を解決するということが可能です。</p><p>さらに、管理者が自由にプロンプトでの対話を通じてリスクの高いユーザーをより詳細に調査できる新機能を導入しました。これによりリスク レベルの上昇やリスクの高いサインインなどに関してさらなる知見が得られます。リスクのあるアプリケーションや未使用のアプリケーション、特定のアプリケーションに付与されたアクセス許可などの調査については、12 月にスタンドアロンと組み込み版の両方で追加される予定です。 </p><h2 id="Microsoft-Entra-の-Security-Copilot-を使用した重大なアクセス障害のトラブルシューティング"><a href="#Microsoft-Entra-の-Security-Copilot-を使用した重大なアクセス障害のトラブルシューティング" class="headerlink" title="Microsoft Entra の Security Copilot を使用した重大なアクセス障害のトラブルシューティング"></a>Microsoft Entra の Security Copilot を使用した重大なアクセス障害のトラブルシューティング</h2><p>ID 管理者は、セキュリティと効率性、ユーザーの生産性のバランスを取りながら、アクセス侵害にも対応するという責務を抱えており、ID に関するリスクが増すにつれ ID 管理者の負荷も増すばかりです。これに対応するため、管理者は Copilot を使用してサインインログのトラブルシューティング作業を自動化し、Microsoft Entra 内のユーザーやグループの詳細、サインインログ、監査ログ、および診断ログに関する実用的な知見をもとに具体的な対応項目を得るということが可能です。これらの機能により、管理者は重要な情報を迅速に収集し、トラブルシューティングをより早く行うことで、運用の効率化を実現できます。</p><p>サインインの失敗や条件付きアクセスの競合、ロールとアクセス許可の変更など、アクセスに関する問題が発生した場合、管理者は管理センターで Security Copilot を使用することでその原因を特定できます。Copilotを使用すると、認証方法からアカウントの状態まで、ユーザーの詳細を数秒で収集できるため、ユーザーの資格情報または構成に問題があるかどうかを迅速に判断できます。同様に、グループの詳細を使用して、アクセスに影響する可能性のあるグループのメンバー情報や所有者を簡単に確認できます。</p><p>サインイン ログの調査については、Copilot に特定のユーザーの最近のアクティビティや失敗した試みをピンポイントで要約するよう促すことができ、ブロックされたサインインや特定の IP アドレスに関連する潜在的なセキュリティ上の問題など、アクセス失敗の原因を簡単に診断できます。アクセス許可の変更や監査ログで異常が検出された場合などより複雑なシナリオの場合は、Security Copilot に事象の切り分けを依頼するとともに、その異常がどのようなものかの説明も即座に行わせることができます。これには、所有者の変更やアクセス権の追加による特権の昇格など、潜在的な攻撃の特定も含まれ、設定の不備によりセキュリティ リスクが拡大するのを防げます。</p><p>最後に、診断ログの機能により、Security Copilot がポリシーの健全性を評価し、構成とログ収集が正しく設定されていることを確認することも可能です。これにより、組織が脆弱な状態とならないよう先んじて構成の不備を特定可能です。</p><h2 id="Microsoft-Security-Copilot-の導入方法"><a href="#Microsoft-Security-Copilot-の導入方法" class="headerlink" title="Microsoft Security Copilot の導入方法"></a>Microsoft Security Copilot の導入方法</h2><p>Security Copilot は、従量課金の柔軟な価格設定であるため、すぐに使い始めることができ、お客様のニーズと予算に応じて利用を拡大するということも可能です。Security Copilot はすでにどのお客様でも購入が可能であるものの、Microsoft Entra 管理センターでの利用は <strong>パブリック プレビュー</strong> 中となります。このブログで取り上げたほとんどのシナリオは現在パブリック プレビューで利用可能であり、弊社ではプレビュー期間中もこれらのシナリオをサポートするスキルについて、その品質と範囲を強化していく予定です。改めまして、すでに Microsoft Entra をお使いの皆様がこのプレビューに参加し、Microsoft Entra の Security Copilot がより一層皆様のお役に立てるようぜひフィードバックをお寄せください。</p><div class="alert is-info"><p class="alert-title">Note</p><p>サポート チームによる補足: Security Copilot を利用される際は請求される金額にご注意ください。Security Copilot は質問を処理する SCU (Security Conpmuter Unit）の稼働時間に応じて課金が生じます。Security Copilot 利用しないときは SCU を削除するか、Security Copilot を構成した Azure サブスクリプションに対して金額のアラートを設定しておき、予算で設定した閾値に達したら Email で通知するかなど、予想外の請求が生じないよう準備されることをお勧めします。</p></div><p>Security Copilot を用いることで、セキュリティおよび IT 部門が AI を活用し、さらにそのスキルセットを強化できるということが実証されています。これは、お客様の組織がビジネス上の目標を達成するために生成 AI を安全に活用できることを示す大きなマイルストーンであります。お客様ならびにパートナー様が目指している、あらゆる場所から、あらゆる ID で、あらゆるリソースに安全にアクセスするというゴールに向け、弊社も皆様と共に歩んでまいる所存です。</p><p>Security Copilot の導入方法については<a href="https://learn.microsoft.com/en-us/copilot/security/get-started-security-copilot">こちらの資料</a>をご覧ください。また、貴社の営業担当者にもお問い合わせいただき、そのメリットについてご確認ください。</p><p>Sarah Scott<br>Principal Manager, Product Management</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは！ Azure ID チームの小出です。&lt;/p&gt;
&lt;p&gt;今回は、2024 年 11 月 19  日に米国の Microsoft Entra (Azure AD) Blog で Sarah Scott によって公開された &lt;a href=&quot;https://techc</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>Adversary-in-the-Middle フィッシング攻撃への対策</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/defeating-adversary-in-the-middle-phishing-attacks/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/defeating-adversary-in-the-middle-phishing-attacks/</id>
    <published>2024-12-25T16:00:00.000Z</published>
    <updated>2025-04-12T15:36:20.728Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 五十嵐 です。</p><p>本記事は、2024 年 11 月 19 日に米国の Microsoft Entra (Azure AD) Blog で公開された <a href="https://techcommunity.microsoft.com/blog/identity/defeating-adversary-in-the-middle-phishing-attacks/1751777">Defeating Adversary-in-the-Middle phishing attacks</a> の抄訳です。ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><h2 id="増加する-Adversary-in-the-Middle-フィッシング攻撃のリスクを減らす方法"><a href="#増加する-Adversary-in-the-Middle-フィッシング攻撃のリスクを減らす方法" class="headerlink" title="増加する Adversary-in-the-Middle フィッシング攻撃のリスクを減らす方法"></a>増加する Adversary-in-the-Middle フィッシング攻撃のリスクを減らす方法</h2><p>本日は ID に関連した高度な攻撃への対処に関する連載記事の第 2 回目をお届けします。</p><p>多要素認証 (MFA) を採用しているユーザーの割合が 40% を超えた今、傾向として 2 つの状況が浮かび上がってきています。1 つ目は、攻撃者が MFA で保護されていないアカウントの侵害に成功している割合が高くなっていることです。より多くのライオンがより少ない獲物を追いかけているような状況のため、ライオンの餌食となる獲物はより多くのリスクに直面しています。過去 1 年間で、当社は毎秒 7,000 件のパスワード攻撃をブロックしており、これは前年比で 75% 増加しました。2 つ目は、MFA の普及により、攻撃者は MFA で保護されたアカウントを侵害する別の方法を見つけることを余儀なくされていることです。このため、トークン窃取 (<a href="https://jpazureid.github.io/blog/azure-active-directory/how-to-break-the-token-theft-cyber-attack-chain/">前回のブログ</a> のテーマ) や Adversary-in-the-Middle (AiTM) フィッシング攻撃 (今回のブログのテーマ) のような高度な攻撃が増加しており、このブログ シリーズではここに焦点を当てていきます。</p><p>ほとんどの攻撃には依然としてパスワードが関係しているため、何よりもまず、<a href="https://arxiv.org/abs/2305.00945">パスワード関連の攻撃の 99% 以上を阻止できる</a> <a href="https://learn.microsoft.com/ja-jp/entra/identity/authentication/tutorial-enable-azure-mfa">MFA をオンにしましょう</a>。MFA を計画的に展開し強制していくことは、あらゆる ID セキュリティの計画において最も重要な部分です。</p><p>最初のブログ「<a href="https://jpazureid.github.io/blog/azure-active-directory/how-to-break-the-token-theft-cyber-attack-chain/">トークン窃取によるサイバー攻撃の防止策</a>」では、トークン窃取を伴う攻撃に対する 8 つの実践的な対策を紹介しました。トークン窃取とは異なり、AiTM フィッシング攻撃は、すでにユーザーに発行された有効なトークンを盗むわけではありません。それどころか、ユーザーを騙して正規の Web サイトにそっくりなページに誘導することで、ユーザーに認証情報を入力させ、MFA を実行するなど攻撃者に代わって認証を行わせます。これにより攻撃者は被害者の情報を使って本物の Web サイトにサインインすることで、攻撃者のデバイスに直接トークンが発行されるというものです。</p><p>このブログでは、AiTM フィッシング攻撃がどのように行われるのか、また AiTM フィッシング攻撃からユーザーを守るために何ができるのかについて説明していきます。</p><h2 id="古典的なフィッシング攻撃の手口"><a href="#古典的なフィッシング攻撃の手口" class="headerlink" title="古典的なフィッシング攻撃の手口"></a>古典的なフィッシング攻撃の手口</h2><p><img src="/blog/azure-active-directory/defeating-adversary-in-the-middle-phishing-attacks/defeating-adversary-in-the-middle-phishing-attacks1.gif" alt="図 1: 基本的なトークンの流れ"></p><p>上のアニメーション GIF は、このシリーズの <a href="https://jpazureid.github.io/blog/azure-active-directory/how-to-break-the-token-theft-cyber-attack-chain/">最初のブログ</a> から転載したもので、ユーザー エージェント (デバイスまたはアプリケーション)、ID プロバイダー (IdP)、およびリライング パーティー間の通常のトークンの流れを示しています。ユーザー エージェントがアクセスを要求すると、IdP は ID を証明するよう要求します。ユーザー エージェントが認証情報を提供すると、IdP はトークンを返し、ユーザー エージェントはトークンをリライング パーティーに提示してリソースにアクセスできるようになります。ユーザー エージェントは、例えるなら遊園地で乗り物に乗るためのチケットを購入する来場者といえますし、IdP は遊園地の乗り物のチケットを販売するチケット売り場、リライング パーティーは来場者からチケットを確認して受け取り、乗り物に乗れるようにする係員のようなものです。</p><p>MFA が導入される以前は、下の図が示すように、フィッシング攻撃は容易に実行が可能でした。攻撃者 (右側) は、被害者 (左側) に対し、悪意のある偽のリンクを含んだそれっぽい欺瞞の電子メールまたはインスタント メッセージを送信します。例えば、「アカウントの確認を行う必要がある」もしくは「アクセス権を失わないよう緊急で対応する必要がある」などのように被害者に今すぐ行動をとるよう急かすような内容です。被害者となるユーザーがリンクをクリックすると、ユーザー名とパスワードの入力を求める偽サイトが表示されます。ユーザーがこれに応じると、偽サイトは認証情報を盗み取って、エラー メッセージや悪意のあるページを表示します。</p><p><img src="/blog/azure-active-directory/defeating-adversary-in-the-middle-phishing-attacks/defeating-adversary-in-the-middle-phishing-attacks2.png" alt="図 2: MFA 導入前のフィッシング攻撃"></p><p>このようなフィッシング攻撃では、攻撃者は正規のサイトやその IdP とやりとりする必要がないことに着目ください。パスワードを盗んだら、そのあとに攻撃者は正規のサイトにアクセスし、盗んだパスワードを使用していつでも好きなときに不正なサインインを行うことが可能です。</p><p>そこで MFA の登場です。</p><h3 id="MFA-登場後のフィッシング"><a href="#MFA-登場後のフィッシング" class="headerlink" title="MFA 登場後のフィッシング"></a>MFA 登場後のフィッシング</h3><p>従来の MFA の流れは、IdP がテキスト、電話、または認証アプリへのプッシュ通知を通じて直接ユーザーのデバイスまたはアプリケーションに通知した認証コードを、ユーザーが数分以内に入力する必要があるというものです。言い換えれば、MFA の通知は、フィッシング サイト経由でユーザーの認証情報を盗もうとする攻撃者を迂回して行われます。ユーザーがサインイン画面を操作していなくても MFA が試行される可能性はあるため、ユーザーがゴルフに出かけているにもかかわらず、要求した覚えのない MFA 通知 (テキストや電話) を受け取るという場合があり得ます。この場合、盗んだパスワードで「いつでも好きな時に」不正なサインインをするという従来の攻撃を試みる攻撃者は困ったことになります。ユーザーの応答がない場合、攻撃が失敗するからです。</p><p>MFA を迂回するためには、攻撃者は攻撃の流れを変える必要があります。MFA の一連の流れの間、被害者となるユーザーを継続的にその流れに巻き込み続けなければなりません。そのためには、被害者と IdP で行われる認証のやり取りのその中間に攻撃者が挟まるようにし、流れの一方では被害者と攻撃者が、もう一方では攻撃者と IdP が直接やり取りするようにします。このようにして、攻撃者は被害者を操り、ユーザー名、パスワード、および検証コードを提供させるのです。そうすれば認証の一連の流れが成立しますので、攻撃者は被害者のアカウントにアクセスできるようになります。</p><p>この双方向のやりとりの間、攻撃者は被害者に対してはサインイン画面になりすまし、IdP に対しては被害者になりすますということを行います。攻撃者は正規の IdP の UI をスクレイピングして被害者に提示し、被害者が IdP へ資格情報を提示したら攻撃者はそれをキャプチャして、正規の IdP に提示します。</p><p>フィッシング サイトに誘導された被害者は、偽のサインイン画面とやり取りします。攻撃者はそのやり取りをキャプチャし、正規の IdP に伝えます。正規の IdP が MFA チャレンジを発行すると、被害者は偽サイトに表示された偽の MFA 通知とやり取りしてそれに応答します。攻撃者は被害者の応答をキャプチャし、正規の IdP にそれを横流しして認証の一連の流れを完成させます。IdP は攻撃者に対して有効なトークンを発行し、攻撃者は被害者のアカウントへの侵入に成功します。</p><p><img src="/blog/azure-active-directory/defeating-adversary-in-the-middle-phishing-attacks/defeating-adversary-in-the-middle-phishing-attacks3.gif" alt="図 3: MFA 登場後のフィッシング攻撃"></p><p>前回のブログでは、トークンの窃取を遊園地のチケット売り場でチケットを購入した後にスリに遭うことに例えました。AiTM フィッシングは、騙されて間違ったチケット売り場に行かされるようなものと言えるでしょう。</p><p>入場料が 10% 割引になるというチラシに惹かれたあなた (ユーザー エージェント) は、正規にみえるチケット売り場に行き、シーズン パス (トークン) の購入を依頼します。偽の係員 (攻撃者) はあなたの ID とクレジット カードを要求します。あなたがそれらを渡すと、係員はそれらを共犯者に渡し、共犯者は正規のチケット売り場 (IdP) に走り、あなたの ID とクレジット カードを使ってパスを購入しようとします。</p><p>クレジット カードでの取引を承認するにあたり、カード会社があなたに SMS で PIN コードを送ります。正規のチケット売り場はそれをカード会社に提示することが求められます。チケット売り場がコードを要求すると、共犯者が偽のチケット売り場に戻ってあなたから PIN コードを受け取り、正規の売り場に戻ってその PIN で購入を完了し、シーズン パスをポケットに入れます。このように走り回るような例だとかなり面倒に思うかもしれませんが、デジタルなやりとりではすべてが即座に行われますので、正規のユーザーがこれを見破るのはかなりの困難を伴うということを覚えておいてください。</p><p>共犯者があなたの ID とクレジット カードを持って戻ってくると、偽の係員はそれをあなたに返し、クレジット カードでの取引ができなかったと言うのです。残念ですが、あなたが支払ったシーズン パスをあなた以外のだれかが乗り物の係員 (リライング パーティー) に提示し、その人が乗り物を楽しむということになります。</p><p>適切なポリシーを構成して MFA を実施することで、攻撃者が認証情報を盗んだとしても、好きなときに何度も認証を完了するということはほぼ不可能になりますが、攻撃者はこの AiTM フィッシングの手法を使ってトークンを取得し、少なくともそのトークンの有効期限が切れるまでは何らかの危害を加えることができます。</p><p>MFA をバイパスする攻撃の詳細については、ブログ ポスト「<a href="https://jpazureid.github.io/blog/azure-active-directory/all-your-creds-are-belong-to-us/">君達の資格情報は全ていただいた！</a>」を参照ください。</p><p>続いて、Microsoft がこれらの攻撃にどのように対応しているのか見ていきましょう。まず、最も確実な対策であるパスキーから始め、その他の多層防御のオプションについて説明します。</p><h2 id="パスキーは-AiTM-フィッシング攻撃に対する最善のソリューション"><a href="#パスキーは-AiTM-フィッシング攻撃に対する最善のソリューション" class="headerlink" title="パスキーは AiTM フィッシング攻撃に対する最善のソリューション"></a>パスキーは AiTM フィッシング攻撃に対する最善のソリューション</h2><p>トークン保護の機能がトークン窃取攻撃を防ぐ決定的な方法であるのと同様に、新しい種類の資格情報を用いることでユーザーが AiTM フィッシング攻撃の餌食になることをほぼ防ぐことが可能です。フィッシングに耐性のある資格情報は、機密情報を公開しない暗号的な手法を使用しているため、攻撃者が認証プロセスを傍受したり複製したりすることができず、より安全です。<a href="https://learn.microsoft.com/ja-jp/entra/identity/authentication/concept-authentication-methods">Microsoft Entra ID がサポートする認証方法</a> のうち、パスキー、証明書ベース認証 (CBA)、および Windows Hello for Business はフィッシング耐性があります。最も強い保護を提供することで、<a href="https://www.microsoft.com/en-us/security/blog/2024/08/26/how-microsoft-entra-id-supports-us-government-agencies-in-meeting-identity-security-requirements/?msockid=19c63df6c7b66c801d3c29f1c69b6d43">米国のサイバーセキュリティ向上に関する大統領令</a> などの規制要件を満たしています。</p><p>最新の業界標準であるパスキーはすでに採用が広がっています。高いセキュリティ保証を提供するため、パスキーは <a href="https://learn.microsoft.com/ja-jp/windows/win32/seccertenroll/public-key-infrastructure">公開鍵暗号方式</a> を使用し、ユーザーとの直接のやり取りを必要とします。以下のような 3 つの重要な特性により、パスキーのフィッシングはほぼ不可能と言えます:</p><ul><li><strong>URL 固有</strong>: ユーザー エージェントがパスキーを作成するとき、プロビジョニングのプロセスにおいてリライング パーティーの URL を記録し、パスキーは同じ URL のサイトに対してのみ機能します。このため偽の模倣サイトでは機能しません。</li><li><strong>デバイス固有</strong>: ユーザーがアクセスを要求しているデバイスにパスキーが同期、保存、または接続されている場合に限り、リライング パーティーにアクセスが許可されます。</li><li><strong>ユーザー固有</strong>: 認証を完了するために、ユーザーは通常は、顔、指紋、またはデバイス固有の PIN を使用してデバイス上で何らかの身体的操作を行うことによって、ユーザーが物理的に存在することを証明する必要があります。</li></ul><p>パスキーは、目に見えないインクで書かれた特別な ID カードのようなもので、意図された場所で、本人が提示した場合にのみ明らかにすることができます。この場合、この特別な ID カードは、遊園地の正規のチケット売り場で、生体認証または PIN を使ってロックを解除したときにのみ機能します。</p><p>Microsoft Entra ID のフィッシングに強い認証方法については、<a href="https://learn.microsoft.com/ja-jp/entra/identity/authentication/phishing-resistant-authentication-videos">ビデオ シリーズ</a> をご覧ください。</p><h2 id="Adversary-in-the-Middle-攻撃に対する多層防御策"><a href="#Adversary-in-the-Middle-攻撃に対する多層防御策" class="headerlink" title="Adversary-in-the-Middle 攻撃に対する多層防御策"></a>Adversary-in-the-Middle 攻撃に対する多層防御策</h2><p>AiTM 攻撃は、フィッシングに耐性のある認証情報でサインインするユーザーに対しては効果がありませんが、フィッシングに耐性のある認証情報をすべてのユーザーに展開するには時間がかかります。OATH トークンや単純な承認による MFA を使用している場合でも、攻撃者が AiTM 攻撃を実行するのをはるかに困難にする追加の安全策を設定することが可能です。</p><h2 id="パスワードレス化"><a href="#パスワードレス化" class="headerlink" title="パスワードレス化"></a>パスワードレス化</h2><p>MFA およびパスワードレス認証に Microsoft Authenticator アプリをご使用ください。Authenticator アプリは、MFA の要求が正当なものか、潜在的なセキュリティ脅威であるかをユーザーが判断できるように、追加の情報を提供します。 </p><ul><li><strong>アプリケーション名</strong>: 認証を要求しているアプリケーションの名前を表示することで、その MFA 要求がユーザーのアクセス先リソースからのものであるかどうかを認識できます。</li><li><strong>地理的な場所</strong>: IP アドレスに基づいてサインインを試行した場所を表示することで、予期しない場所や疑わしい場所からのサインインを識別しやすくなります。</li><li><strong>番号の一致</strong>: Authenticator アプリに入力する必要がある番号をサインイン画面に表示することで、ユーザーが物理的に存在し、サインインの試行を意識して行っていることを確認します。</li></ul><p><img src="/blog/azure-active-directory/defeating-adversary-in-the-middle-phishing-attacks/defeating-adversary-in-the-middle-phishing-attacks4.png" alt="図 4: Microsoft Authenticator の追加のコンテキスト"></p><p>「No, it’s not me」の選択肢を押したユーザーは、Entra ID Protection にリスク シグナルとして情報が送信され、リスク ポリシーによりユーザーに即座に何らかの対応を求めることが可能です。さらに、当社の ID セキュリティ アルゴリズムが、異常な IP アドレスや既知の悪質な IP アドレスからのサインイン試行を検出した場合は、MFA 通知も抑制されます。</p><p>Microsoft Authenticator を使用したパスワードレス認証の設定方法については、<a href="https://learn.microsoft.com/ja-jp/entra/identity/authentication/howto-authentication-passwordless-phone">ドキュメント</a> を参照ください。</p><div class="alert is-info"><p class="alert-title">Note</p><p>サポート チームによる補足: Microsoft Authenticator を使用したパスワードなしの電話によるサインイン (Passwordless phone sign-in) は、パスキーとは異なり AiTM 攻撃への直接的なフィッシング耐性はありません。しかし、上記のような追加の情報を提供することで AiTM 攻撃を困難にする追加の安全策が提供されます。</p></div><h2 id="攻撃者の活動を制限するアクセス-ポリシーの設定"><a href="#攻撃者の活動を制限するアクセス-ポリシーの設定" class="headerlink" title="攻撃者の活動を制限するアクセス ポリシーの設定"></a>攻撃者の活動を制限するアクセス ポリシーの設定</h2><p>AiTM 攻撃はユーザーを騙して悪質な Web サイトに誘導することが必要なため、ユーザーがそういったサイトに誘導されないようにできるだけ多くのバリケードを設ける必要があります。例えば、ポリシーによる制限を設けることで、攻撃者は活動が制限され、攻撃者の移動範囲を大幅に制限するとともに攻撃者の活動を特定してブロックすることも容易になります。</p><h3 id="マネージドおよび準拠済みデバイスを要求する"><a href="#マネージドおよび準拠済みデバイスを要求する" class="headerlink" title="マネージドおよび準拠済みデバイスを要求する"></a>マネージドおよび準拠済みデバイスを要求する</h3><p>Microsoft Entra ID のポリシーで、マネージドおよび準拠済みデバイスを使用しているユーザーにのみトークンを発行するという構成にしていた場合はどうなるでしょう。攻撃者がユーザーに代わってトークンを要求するには、まずユーザーが使用するマネージドおよび準拠済みデバイス上にフィッシング サイトを構成し、デバイスの電源は常にオンにした状態でエンドポイント保護も回避する必要があります。さらには発行されたトークンをポリシーで指定された更新期間内に使用しながら、トークンの自動失効につながるリスクのしきい値はトリガーしないようにするということも必要です。これらのハードルはかなり高いと言えるでしょう。</p><p>攻撃者が AiTM フィッシング攻撃を仕掛けるにあたり使用するマルウェアへの感染を防ぐには、ポリシーを構成してすべてのデバイスを準拠済みとすること、最新のエンドポイント保護を実行していること、そしてすべての Windows ユーザーがデバイスの管理者権限ではなく標準ユーザーとして実行されていることを強制ください。</p><p>管理対象デバイスを要求するポリシーの構成方法については、<a href="https://learn.microsoft.com/ja-jp/mem/intune/protect/device-compliance-get-started#compliance-policy-settings">ドキュメント</a> を参照ください。</p><h3 id="ネットワーク境界内で使用されるセッションを制限する"><a href="#ネットワーク境界内で使用されるセッションを制限する" class="headerlink" title="ネットワーク境界内で使用されるセッションを制限する"></a>ネットワーク境界内で使用されるセッションを制限する</h3><p>条件付きアクセスを使用して、IP アドレス範囲を使用して準拠済みネットワークの境界を定義できます。ネットワーク境界を確立すると、ネットワーク境界外のデバイスへのトークンの発行や再発行ができなくなるため、攻撃者はその境界内で活動することを余儀なくされます。そのため、攻撃者は管理された準拠デバイス上でユーザー応答を不正利用する必要があるだけでなく、そのデバイスもネットワーク境界内で動作している必要があります。</p><p>Entra Internet Access と Entra Private access では、エンドポイントにエージェントをインストールし、アクセスを要求するユーザーが信頼できるネットワークから来たかどうかを確認するリアルタイムの準拠ネットワーク チェックが実施されます。もしネットワーク境界内にいなければ、条件付きアクセスは即座にリクエストを拒否します。 </p><p>条件付きアクセスを使用して準拠ネットワークの境界を定義するための詳細な手順は、こちらの <a href="https://learn.microsoft.com/ja-jp/entra/identity/conditional-access/policy-block-by-location">ドキュメント</a> を参照ください。</p><p>また、条件付きアクセスを使用して準拠ネットワークのチェックを有効にするための詳細な手順は、こちらの <a href="https://learn.microsoft.com/ja-jp/entra/global-secure-access/how-to-compliant-network">ドキュメント</a> を参照ください。</p><h3 id="ユーザーがアクセスできる-URL-を制限する"><a href="#ユーザーがアクセスできる-URL-を制限する" class="headerlink" title="ユーザーがアクセスできる URL を制限する"></a>ユーザーがアクセスできる URL を制限する</h3><p>ユーザーがフィッシング リンクをクリックすると、Windows と Microsoft Edge に統合されたセキュリティ機能である <a href="https://learn.microsoft.com/ja-jp/windows/security/operating-system-security/virus-and-threat-protection/microsoft-defender-smartscreen/">Microsoft Defender SmartScreen</a> が、ユーザーおよび業界から報告されているフィッシング サイトやマルウェア サイトの動的リストとその URL を照合します。一致するサイトが見つかった場合、そのサイトが安全でないと報告されていることをユーザーに警告し、そのサイトに進むには追加の手順を踏む必要が生じます。SmartScreen はまた、ダウンロードされたファイルやアプリケーションをスキャンし、悪意のあるファイルや望ましくない可能性のあるファイルをブロックします。</p><p>Microsoft Defender for Endpoint のネットワーク保護は、SmartScreen の適用範囲を拡大し、信頼性の低い Web サイトに接続しようとするすべての外向きの HTTP(S) トラフィックを OS レベルでブロックします。ネットワーク保護を有効にするには、Intune、PowerShell、グループ ポリシー、または Microsoft Configuration Manager を使用いただけます。また、Microsoft Defender for Office 365 ポータルのテナント許可/ブロック リストを構成して、ユーザーがアクセスできるサイトを制限することもできます。</p><p>Microsoft Defender を使用して URL をブロックする方法については、こちらの <a href="https://learn.microsoft.com/ja-jp/defender-office-365/tenant-allow-block-list-urls-configure">ドキュメント</a> を参照ください。</p><p>また、Microsoft Defender for Endpoint のネットワーク保護を有効にする方法については、こちらの <a href="https://learn.microsoft.com/ja-jp/defender-endpoint/enable-network-protection">ドキュメント</a> を参照ください。</p><h2 id="フィッシング攻撃を示す異常を検出し対応するよう備える"><a href="#フィッシング攻撃を示す異常を検出し対応するよう備える" class="headerlink" title="フィッシング攻撃を示す異常を検出し対応するよう備える"></a>フィッシング攻撃を示す異常を検出し対応するよう備える</h2><p>万が一、上記すべての対策が失敗した場合も、異常検知の機能で攻撃のブロックと修復が可能です。</p><h3 id="Microsoft-Entra-ID-Protection-と-Microsoft-Defender-を使用して異常なセッションを監視"><a href="#Microsoft-Entra-ID-Protection-と-Microsoft-Defender-を使用して異常なセッションを監視" class="headerlink" title="Microsoft Entra ID Protection と Microsoft Defender を使用して異常なセッションを監視"></a>Microsoft Entra ID Protection と Microsoft Defender を使用して異常なセッションを監視</h3><p>ユーザーがセッションを開始したり、アプリケーションにアクセスしようとすると、Microsoft Entra ID Protection はユーザーとセッションのリスク要因に通常と異なる (異常な) 要素がないかを調べます。以下は、リスク レベルを高める異常の例です:</p><ul><li>通常とは異なる Web サイトからのトークン要求</li><li>攻撃者がフィッシングで入手したトークンでサインイン (次のような <a href="https://learn.microsoft.com/ja-jp/entra/id-protection/concept-identity-protection-risks#risk-detections-mapped-to-riskeventtype">検出</a> がトリガーされます):<ul><li>異常なトークン </li><li>異常なユーザー アクティビティ </li><li>Attacker in the Middle</li><li>見慣れないサインイン プロパティ  </li><li>ユーザーからの疑わしいアクティビティ (自分が開始していない MFA リクエストなど) の報告</li></ul></li></ul><p>条件付きアクセスポリシーを構成すると、リスクに基づく対応が可能です。ユーザーまたはセッションのリスクレベルが上昇したときに、自動的に実行される修復ステップを定義できます。</p><p>リスク検出の詳細については、こちらの <a href="https://learn.microsoft.com/ja-jp/entra/id-protection/concept-identity-protection-risks#risk-detections-mapped-to-riskeventtype">ドキュメント</a> を参照ください。</p><h3 id="リスク-ベースの条件付きアクセス-ポリシーを作成する"><a href="#リスク-ベースの条件付きアクセス-ポリシーを作成する" class="headerlink" title="リスク ベースの条件付きアクセス ポリシーを作成する"></a>リスク ベースの条件付きアクセス ポリシーを作成する</h3><p>例えば、リスクが高まった場合に MFA による <a href="https://jpazureid.github.io/blog/azure-active-directory/prompt-users-for-reauthentication-on-sensitive-apps-and-high-risk-actions-with-conditional-access/">再認証を要求する</a> ような条件付きアクセス ポリシーを構成することができます。この場合、正当なユーザーはその場にいないことが多く、攻撃者とやり取りして再認証の手助けをしてしまうということが起きないので、AiTM フィッシング攻撃を阻止できます。条件付きアクセスは通常、トークンの更新時にリスク レベルをチェックするため、攻撃者がなんとか正規のトークンを手に入れたとしても、攻撃を受けるのはそのトークンの有効期間内に限られます。</p><p>継続的アクセス評価 (CAE) は、Teams、Exchange Online、SharePoint Online などのアプリケーションやサービスでネイティブにサポートされており、これらのアプリケーション用のアクセス トークンをリアルタイムで無効にできます。この発動条件には、ユーザーのネットワークの場所の変更も含まれます。</p><p>リスク ベースの条件付きアクセス ポリシーを作成する詳細な手順については、こちらの <a href="https://learn.microsoft.com/ja-jp/entra/id-protection/concept-identity-protection-policies">ドキュメント</a> を参照ください。</p><p>CAE を使用した厳密なロケーション ポリシーを適用する詳細な手順については、こちらの <a href="https://learn.microsoft.com/ja-jp/entra/identity/conditional-access/concept-continuous-access-evaluation-strict-enforcement">ドキュメント</a> も参照ください。</p><h3 id="Microsoft-Defender-XDR-を使用して、AiTM-フィッシング攻撃を調査および軽減する"><a href="#Microsoft-Defender-XDR-を使用して、AiTM-フィッシング攻撃を調査および軽減する" class="headerlink" title="Microsoft Defender XDR を使用して、AiTM フィッシング攻撃を調査および軽減する"></a>Microsoft Defender XDR を使用して、AiTM フィッシング攻撃を調査および軽減する</h3><p>攻撃者が資格情報とセッション Cookie の傍受に成功した場合、攻撃者はそれらを使用してビジネス E メール詐欺 (BEC) や認証情報の収集などの他の攻撃を開始することが一般的です。AiTM フィッシング攻撃を示す複数の Microsoft 365 Defender シグナルが検知されると、Defender XDR は侵害されたユーザー アカウントを自動的に Entra およびオンプレミスの Active Directory で無効にし、セッション Cookie も無効化します。また、セッション トラフィックを監視し、攻撃者が機密データをネットワーク外に持ち出すことを防ぐようポリシーを適用します。</p><p>Defender XDR を使用して AiTM フィッシング攻撃を阻止する詳細な手順については、ブログ記事 <a href="https://techcommunity.microsoft.com/blog/microsoftthreatprotectionblog/automatically-disrupt-adversary-in-the-middle-aitm-attacks-with-xdr/3821751">Automatically disrupt adversary-in-the-middle (AiTM) attacks with XDR</a> をご覧ください。</p><h3 id="Microsoft-Sentinel-などのセキュリティ情報およびイベント管理-SIEM-ツールを使用して潜在的な-AiTM-フィッシング攻撃の可能性を調査する"><a href="#Microsoft-Sentinel-などのセキュリティ情報およびイベント管理-SIEM-ツールを使用して潜在的な-AiTM-フィッシング攻撃の可能性を調査する" class="headerlink" title="Microsoft Sentinel などのセキュリティ情報およびイベント管理 (SIEM) ツールを使用して潜在的な AiTM フィッシング攻撃の可能性を調査する"></a>Microsoft Sentinel などのセキュリティ情報およびイベント管理 (SIEM) ツールを使用して潜在的な AiTM フィッシング攻撃の可能性を調査する</h3><p>AiTM フィッシング攻撃の可能性を示すイベントのアラートを受信した場合、Microsoft Sentinel ポータルまたは他の SIEM で調査することが可能です。Microsoft Sentinel は特定のインシデントについて、その重大度、発生時期、関与したエンティティの数、トリガーとなったイベントなどの重要な詳細を提供します。その後、調査マップを表示して、潜在的なセキュリティ脅威の範囲と根本原因を確認できます。</p><p>Sentinel を使用してインシデントを検出および調査するための詳細な手順については、ブログ記事 <a href="https://techcommunity.microsoft.com/blog/microsoftsentinelblog/identifying-adversary-in-the-middle-aitm-phishing-attacks-through-3rd-party-netw/3991358">Identifying Adversary-in-the-Middle (AiTM) Phishing Attacks through 3rd-Party Network Detection</a> を参照ください。</p><table><thead><tr><th>可能な限りパスキーを使用してパスワードレス化</th><th>攻撃者の活動を制限するアクセス ポリシーの設定</th><th>フィッシング攻撃を示す異常を検出し対応に備える</th></tr></thead><tbody><tr><td><a href="https://learn.microsoft.com/ja-jp/entra/identity/authentication/howto-authentication-passwordless-phone">MFA およびパスワードレス認証には、Microsoft Authenticator アプリを使用します</a></td><td><a href="https://learn.microsoft.com/ja-jp/mem/intune/protect/device-compliance-get-started#compliance-policy-settings">管理済みおよび準拠済みデバイスを要求する</a></td><td><a href="https://learn.microsoft.com/ja-jp/entra/id-protection/concept-identity-protection-risks#risk-detections-mapped-to-riskeventtype">Microsoft Entra ID Protection と Microsoft Defender を使用して、異常なセッションを監視する</a></td></tr><tr><td></td><td><a href="https://learn.microsoft.com/ja-jp/entra/identity/conditional-access/policy-block-by-location">ネットワーク境界内で使用するセッションを制限する</a></td><td><a href="https://learn.microsoft.com/ja-jp/entra/id-protection/concept-identity-protection-policies">リスク ベースの条件付きアクセス ポリシーを作成する</a></td></tr><tr><td></td><td><a href="https://learn.microsoft.com/ja-jp/defender-office-365/tenant-allow-block-list-urls-configure">ユーザーがアクセスできる URL を制限する</a></td><td><a href="https://techcommunity.microsoft.com/blog/microsoftthreatprotectionblog/automatically-disrupt-adversary-in-the-middle-aitm-attacks-with-xdr/3821751">Microsoft Defender XDR を使用して、AiTM フィッシング攻撃を調査し、軽減する</a></td></tr><tr><td></td><td></td><td><a href="https://learn.microsoft.com/ja-jp/azure/sentinel/investigate-incidents#investigate-your-incident-in-depth">Microsoft Sentinel などの SIEM を使用して潜在的な AiTM フィッシング攻撃の可能性を調査する</a></td></tr></tbody></table><p>当社の検出データによると、AiTM フィッシング攻撃は過去 1 年間で 146 % 増加しています。パスキーはこれらの攻撃に対して最も効果的なソリューションであるため、今すぐパスキーの導入を計画し、実行に移すことを強くお勧めします。それまでの間に、このブログで紹介しているその他の多層防御の推奨事項を取り入れ、ユーザーを可能な限り安全に保つこともご検討ください。</p><p>安全にお過ごしください！<br>Alex Weinert</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 五十嵐 です。&lt;/p&gt;
&lt;p&gt;本記事は、2024 年 11 月 19 日に米国の Microsoft Entra (Azure AD) Blog で公開された &lt;a href=&quot;https://techcommu</summary>
      
    
    
    
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
    <category term="Microsoft Entra" scheme="https://jpazureid.github.io/blog/tags/Microsoft-Entra/"/>
    
  </entry>
  
</feed>
